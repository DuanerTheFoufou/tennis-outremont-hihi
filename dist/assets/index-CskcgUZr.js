(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Ep={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function JC(){if(FT)return mu;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var HT;function e2(){return HT||(HT=1,Ep.exports=JC()),Ep.exports}var w=e2(),bp={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function t2(){if(qT)return Ce;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function V(L,oe,he){this.props=L,this.context=oe,this.refs=D,this.updater=he||C}V.prototype.isReactComponent={},V.prototype.setState=function(L,oe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,oe,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=V.prototype;function q(L,oe,he){this.props=L,this.context=oe,this.refs=D,this.updater=he||C}var F=q.prototype=new k;F.constructor=q,S(F,V.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function I(L,oe,he,ue,ve,De){return he=De.ref,{$$typeof:t,type:L,key:oe,ref:he!==void 0?he:null,props:De}}function R(L,oe){return I(L.type,oe,void 0,void 0,void 0,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function M(L){var oe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return oe[he]})}var B=/\/+/g;function H(L,oe){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):oe.toString(36)}function O(){}function Tt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(oe){L.status==="pending"&&(L.status="fulfilled",L.value=oe)},function(oe){L.status==="pending"&&(L.status="rejected",L.reason=oe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ot(L,oe,he,ue,ve){var De=typeof L;(De==="undefined"||De==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case t:case e:Se=!0;break;case y:return Se=L._init,ot(Se(L._payload),oe,he,ue,ve)}}if(Se)return ve=ve(L),Se=ue===""?"."+H(L,0):ue,Z(ve)?(he="",Se!=null&&(he=Se.replace(B,"$&/")+"/"),ot(ve,oe,he,"",function(li){return li})):ve!=null&&(N(ve)&&(ve=R(ve,he+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+Se)),oe.push(ve)),1;Se=0;var Ot=ue===""?".":ue+":";if(Z(L))for(var tt=0;tt<L.length;tt++)ue=L[tt],De=Ot+H(ue,tt),Se+=ot(ue,oe,he,De,ve);else if(tt=E(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(ue=L.next()).done;)ue=ue.value,De=Ot+H(ue,tt++),Se+=ot(ue,oe,he,De,ve);else if(De==="object"){if(typeof L.then=="function")return ot(Tt(L),oe,he,ue,ve);throw oe=String(L),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ee(L,oe,he){if(L==null)return L;var ue=[],ve=0;return ot(L,ue,"","",function(De){return oe.call(he,De,ve++)}),ue}function le(L){if(L._status===-1){var oe=L._result;oe=oe(),oe.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=oe)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Le(){}return Ce.Children={map:ee,forEach:function(L,oe,he){ee(L,function(){oe.apply(this,arguments)},he)},count:function(L){var oe=0;return ee(L,function(){oe++}),oe},toArray:function(L){return ee(L,function(oe){return oe})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=V,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=q,Ce.StrictMode=r,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Q.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,oe,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=S({},L.props),ve=L.key,De=void 0;if(oe!=null)for(Se in oe.ref!==void 0&&(De=void 0),oe.key!==void 0&&(ve=""+oe.key),oe)!ae.call(oe,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&oe.ref===void 0||(ue[Se]=oe[Se]);var Se=arguments.length-2;if(Se===1)ue.children=he;else if(1<Se){for(var Ot=Array(Se),tt=0;tt<Se;tt++)Ot[tt]=arguments[tt+2];ue.children=Ot}return I(L.type,ve,void 0,void 0,De,ue)},Ce.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ce.createElement=function(L,oe,he){var ue,ve={},De=null;if(oe!=null)for(ue in oe.key!==void 0&&(De=""+oe.key),oe)ae.call(oe,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=oe[ue]);var Se=arguments.length-2;if(Se===1)ve.children=he;else if(1<Se){for(var Ot=Array(Se),tt=0;tt<Se;tt++)Ot[tt]=arguments[tt+2];ve.children=Ot}if(L&&L.defaultProps)for(ue in Se=L.defaultProps,Se)ve[ue]===void 0&&(ve[ue]=Se[ue]);return I(L,De,void 0,void 0,null,ve)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:f,render:L}},Ce.isValidElement=N,Ce.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:le}},Ce.memo=function(L,oe){return{$$typeof:p,type:L,compare:oe===void 0?null:oe}},Ce.startTransition=function(L){var oe=Q.T,he={};Q.T=he;try{var ue=L(),ve=Q.S;ve!==null&&ve(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Le,de)}catch(De){de(De)}finally{Q.T=oe}},Ce.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ce.use=function(L){return Q.H.use(L)},Ce.useActionState=function(L,oe,he){return Q.H.useActionState(L,oe,he)},Ce.useCallback=function(L,oe){return Q.H.useCallback(L,oe)},Ce.useContext=function(L){return Q.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,oe){return Q.H.useDeferredValue(L,oe)},Ce.useEffect=function(L,oe,he){var ue=Q.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(L,oe)},Ce.useId=function(){return Q.H.useId()},Ce.useImperativeHandle=function(L,oe,he){return Q.H.useImperativeHandle(L,oe,he)},Ce.useInsertionEffect=function(L,oe){return Q.H.useInsertionEffect(L,oe)},Ce.useLayoutEffect=function(L,oe){return Q.H.useLayoutEffect(L,oe)},Ce.useMemo=function(L,oe){return Q.H.useMemo(L,oe)},Ce.useOptimistic=function(L,oe){return Q.H.useOptimistic(L,oe)},Ce.useReducer=function(L,oe,he){return Q.H.useReducer(L,oe,he)},Ce.useRef=function(L){return Q.H.useRef(L)},Ce.useState=function(L){return Q.H.useState(L)},Ce.useSyncExternalStore=function(L,oe,he){return Q.H.useSyncExternalStore(L,oe,he)},Ce.useTransition=function(){return Q.H.useTransition()},Ce.version="19.1.0",Ce}var GT;function Qg(){return GT||(GT=1,bp.exports=t2()),bp.exports}var j=Qg(),wp={exports:{}},pu={},xp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function n2(){return KT||(KT=1,function(t){function e(ee,le){var de=ee.length;ee.push(le);e:for(;0<de;){var Le=de-1>>>1,L=ee[Le];if(0<a(L,le))ee[Le]=le,ee[de]=L,de=Le;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],de=ee.pop();if(de!==le){ee[0]=de;e:for(var Le=0,L=ee.length,oe=L>>>1;Le<oe;){var he=2*(Le+1)-1,ue=ee[he],ve=he+1,De=ee[ve];if(0>a(ue,de))ve<L&&0>a(De,ue)?(ee[Le]=De,ee[ve]=de,Le=ve):(ee[Le]=ue,ee[he]=de,Le=he);else if(ve<L&&0>a(De,de))ee[Le]=De,ee[ve]=de,Le=ve;else break e}}return le}function a(ee,le){var de=ee.sortIndex-le.sortIndex;return de!==0?de:ee.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,C=!1,S=!1,D=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(ee){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=ee)r(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function Q(ee){if(D=!1,Z(ee),!S)if(n(m)!==null)S=!0,ae||(ae=!0,H());else{var le=n(p);le!==null&&ot(Q,le.startTime-ee)}}var ae=!1,I=-1,R=5,N=-1;function M(){return V?!0:!(t.unstable_now()-N<R)}function B(){if(V=!1,ae){var ee=t.unstable_now();N=ee;var le=!0;try{e:{S=!1,D&&(D=!1,q(I),I=-1),C=!0;var de=E;try{t:{for(Z(ee),_=n(m);_!==null&&!(_.expirationTime>ee&&M());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,E=_.priorityLevel;var L=Le(_.expirationTime<=ee);if(ee=t.unstable_now(),typeof L=="function"){_.callback=L,Z(ee),le=!0;break t}_===n(m)&&r(m),Z(ee)}else r(m);_=n(m)}if(_!==null)le=!0;else{var oe=n(p);oe!==null&&ot(Q,oe.startTime-ee),le=!1}}break e}finally{_=null,E=de,C=!1}le=void 0}}finally{le?H():ae=!1}}}var H;if(typeof F=="function")H=function(){F(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Tt=O.port2;O.port1.onmessage=B,H=function(){Tt.postMessage(null)}}else H=function(){k(B,0)};function ot(ee,le){I=k(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var de=E;E=le;try{return ee()}finally{E=de}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=E;E=ee;try{return le()}finally{E=de}},t.unstable_scheduleCallback=function(ee,le,de){var Le=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,ee){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,ee={id:y++,callback:le,priorityLevel:ee,startTime:de,expirationTime:L,sortIndex:-1},de>Le?(ee.sortIndex=de,e(p,ee),n(m)===null&&ee===n(p)&&(D?(q(I),I=-1):D=!0,ot(Q,de-Le))):(ee.sortIndex=L,e(m,ee),S||C||(S=!0,ae||(ae=!0,H()))),ee},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ee){var le=E;return function(){var de=E;E=le;try{return ee.apply(this,arguments)}finally{E=de}}}}(Sp)),Sp}var $T;function i2(){return $T||($T=1,xp.exports=n2()),xp.exports}var Ap={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function r2(){if(YT)return Jt;YT=1;var t=Qg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Jt.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},Jt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Jt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Jt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Jt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Jt.requestFormReset=function(m){r.d.r(m)},Jt.unstable_batchedUpdates=function(m,p){return m(p)},Jt.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var XT;function s2(){if(XT)return Ap.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ap.exports=r2(),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function a2(){if(QT)return pu;QT=1;var t=i2(),e=Qg(),n=s2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,x=d.child;x;){if(x===o){b=!0,o=d,u=g;break}if(x===u){b=!0,u=d,o=g;break}x=x.sibling}if(!b){for(x=g.child;x;){if(x===o){b=!0,o=g,u=d;break}if(x===u){b=!0,u=g,o=d;break}x=x.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function Tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case Q:return"Suspense";case ae:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case F:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case Z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:Tt(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Tt(i(s))}catch{}}return null}var ot=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Le=[],L=-1;function oe(i){return{current:i}}function he(i){0>L||(i.current=Le[L],Le[L]=null,L--)}function ue(i,s){L++,Le[L]=i.current,i.current=s}var ve=oe(null),De=oe(null),Se=oe(null),Ot=oe(null);function tt(i,s){switch(ue(Se,s),ue(De,i),ue(ve,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?gT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=gT(s),i=yT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(ve),ue(ve,i)}function li(){he(ve),he(De),he(Se)}function wr(i){i.memoizedState!==null&&ue(Ot,i);var s=ve.current,o=yT(s,i.type);s!==o&&(ue(De,i),ue(ve,o))}function Oi(i){De.current===i&&(he(ve),he(De)),Ot.current===i&&(he(Ot),uu._currentValue=de)}var Es=Object.prototype.hasOwnProperty,bs=t.unstable_scheduleCallback,ws=t.unstable_cancelCallback,al=t.unstable_shouldYield,Tc=t.unstable_requestPaint,Nn=t.unstable_now,Ed=t.unstable_getCurrentPriorityLevel,ol=t.unstable_ImmediatePriority,Sa=t.unstable_UserBlockingPriority,xs=t.unstable_NormalPriority,bd=t.unstable_LowPriority,Aa=t.unstable_IdlePriority,ll=t.log,Ec=t.unstable_setDisableYieldValue,ht=null,Ke=null;function _n(i){if(typeof ll=="function"&&Ec(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,i)}catch{}}var Wt=Math.clz32?Math.clz32:Ss,bc=Math.log,wd=Math.LN2;function Ss(i){return i>>>=0,i===0?32:31-(bc(i)/wd|0)|0}var As=256,Rs=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ra(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?d=$n(u):(b&=x,b!==0?d=$n(b):o||(o=x&~i,o!==0&&(d=$n(o))))):(x=u&~g,x!==0?d=$n(x):b!==0?d=$n(b):o||(o=u&~i,o!==0&&(d=$n(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Cs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ul(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=As;return As<<=1,(As&4194048)===0&&(As=256),i}function hl(){var i=Rs;return Rs<<=1,(Rs&62914560)===0&&(Rs=4194304),i}function ki(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fl(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,P=i.expirationTimes,$=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-Wt(o),ie=1<<te;x[te]=0,P[te]=-1;var Y=$[te];if(Y!==null)for($[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}o&=~ie}u!==0&&ui(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function ui(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Wt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function dl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Wt(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function xr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ca(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Sr(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:kT(i.type))}function wc(i,s){var o=le.p;try{return le.p=i,s()}finally{le.p=o}}var rt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+rt,Et="__reactProps$"+rt,Dn="__reactContainer$"+rt,ml="__reactEvents$"+rt,xd="__reactListeners$"+rt,Ar="__reactHandles$"+rt,xc="__reactResources$"+rt,Is="__reactMarker$"+rt;function Rr(i){delete i[Ct],delete i[Et],delete i[ml],delete i[xd],delete i[Ar]}function ji(i){var s=i[Ct];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Dn]||o[Ct]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=ET(i);i!==null;){if(o=i[Ct])return o;i=ET(i)}return s}i=o,o=i.parentNode}return null}function ci(i){if(i=i[Ct]||i[Dn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function hi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[xc];return s||(s=i[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(i){i[Is]=!0}var pl=new Set,Ia={};function Yn(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(Ia[i]=s,i=0;i<s.length;i++)pl.add(s[i])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Ns={};function Rc(i){return Es.call(Ns,i)?!0:Es.call(Ac,i)?!1:Sc.test(i)?Ns[i]=!0:(Ac[i]=!0,!1)}function Cr(i,s,o){if(Rc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function fi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ht(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ds,Cc;function Bi(i){if(Ds===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ds=s&&s[1]||"",Cc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+i+Cc}var Na=!1;function Da(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){Y=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],x=g[1];if(b&&x){var P=b.split(`
`),$=x.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===$.length)for(u=P.length-1,d=$.length-1;1<=u&&0<=d&&P[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==$[d]){var te=`
`+P[u].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=u&&0<=d);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function gl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Da(i.type,!1);case 11:return Da(i.type.render,!1);case 1:return Da(i.type,!0);case 31:return Bi("Activity");default:return""}}function Va(i){try{var s="";do s+=gl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sd(i){var s=yl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pa(i){i._valueTracker||(i._valueTracker=Sd(i))}function vl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=yl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Vs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ad=/[\n"\\]/g;function bt(i){return i.replace(Ad,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(i,s,o,u,d,g,b,x){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Ir(i,b,ln(s)):o!=null?Ir(i,b,ln(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+ln(x):i.removeAttribute("name")}function Ps(i,s,o,u,d,g,b,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,x||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Ir(i,s,o){s==="number"&&Vs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Xe(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function Ms(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ot(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Os.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function _l(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Ic(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Ic(i,g,s[g])}function Tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(i){return Cd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fi=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,qi=null;function El(i){var s=ci(i);if(s&&(i=s.stateNode)){var o=i[Et]||null;e:switch(i=s.stateNode,s.type){case"input":if(Tn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Et]||null;if(!d)throw Error(r(90));Tn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&vl(u)}break e;case"textarea":Xe(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&zi(i,!!o.multiple,s,!1)}}}var di=!1;function Nc(i,s,o){if(di)return i(s,o);di=!0;try{var u=i(s);return u}finally{if(di=!1,(Hi!==null||qi!==null)&&(wh(),Hi&&(s=Hi,i=qi,qi=Hi=null,El(s),i)))for(s=0;s<i.length;s++)El(i[s])}}function ks(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Et]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Xn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Mn=!1}var mi=null,Nr=null,Gi=null;function bl(){if(Gi)return Gi;var i,s=Nr,o=s.length,u,d="value"in mi?mi.value:mi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Gi=d.slice(i,1<u?1-u:void 0)}function pi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function wl(){return!1}function kt(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gi:wl,this.isPropagationStopped=wl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=kt(qe),js=y({},qe,{view:0,detail:0}),Dc=kt(js),ka,La,yi,Us=y({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(ka=i.screenX-yi.screenX,La=i.screenY-yi.screenY):La=ka=0,yi=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:La}}),On=kt(Us),Vc=y({},Us,{dataTransfer:0}),Id=kt(Vc),Bs=y({},js,{relatedTarget:0}),ja=kt(Bs),xl=y({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=kt(xl),Pc=y({},qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ba=kt(Pc),Nd=y({},qe,{data:0}),Sl=kt(Nd),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oc[i])?!!s[i]:!1}function Fs(){return Al}var kc=y({},js,{key:function(i){if(i.key){var s=zs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),za=kt(kc),Lc=y({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=kt(Lc),Ki=y({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),jc=kt(Ki),Uc=y({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bc=kt(Uc),zc=y({},Us,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=kt(zc),un=y({},qe,{newState:0,oldState:0}),Fc=kt(un),Hc=[9,13,27,32],vi=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,T=Xn&&(!vi||h&&8<h&&11>=h),A=" ",G=!1;function W(i,s){switch(i){case"keyup":return Hc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var je=!1;function It(i,s){switch(i){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(G=!0,A);case"textInput":return i=s.data,i===A&&G?null:i;default:return null}}function Ue(i,s){if(je)return i==="compositionend"||!vi&&W(i,s)?(i=bl(),Gi=Nr=mi=null,je=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Lt[i.type]:s==="textarea"}function $i(i,s,o,u){Hi?qi?qi.push(u):qi=[u]:Hi=u,s=Ih(s,"onChange"),0<s.length&&(o=new Oa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var qt=null,_i=null;function Cl(i){hT(i,0)}function qc(i){var s=hi(i);if(vl(s))return i}function V0(i,s){if(i==="change")return s}var P0=!1;if(Xn){var Dd;if(Xn){var Vd="oninput"in document;if(!Vd){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),Vd=typeof M0.oninput=="function"}Dd=Vd}else Dd=!1;P0=Dd&&(!document.documentMode||9<document.documentMode)}function O0(){qt&&(qt.detachEvent("onpropertychange",k0),_i=qt=null)}function k0(i){if(i.propertyName==="value"&&qc(_i)){var s=[];$i(s,_i,i,Pn(i)),Nc(Cl,s)}}function IR(i,s,o){i==="focusin"?(O0(),qt=s,_i=o,qt.attachEvent("onpropertychange",k0)):i==="focusout"&&O0()}function NR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qc(_i)}function DR(i,s){if(i==="click")return qc(s)}function VR(i,s){if(i==="input"||i==="change")return qc(s)}function PR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var En=typeof Object.is=="function"?Object.is:PR;function Il(i,s){if(En(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Es.call(s,d)||!En(i[d],s[d]))return!1}return!0}function L0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function j0(i,s){var o=L0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=L0(o)}}function U0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?U0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function B0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Vs(i.document)}return s}function Pd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var MR=Xn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Md=null,Nl=null,Od=!1;function z0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Od||Ha==null||Ha!==Vs(u)||(u=Ha,"selectionStart"in u&&Pd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Il(Nl,u)||(Nl=u,u=Ih(Md,"onSelect"),0<u.length&&(s=new Oa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ha)))}function Hs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var qa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},kd={},F0={};Xn&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function qs(i){if(kd[i])return kd[i];if(!qa[i])return i;var s=qa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in F0)return kd[i]=s[o];return i}var H0=qs("animationend"),q0=qs("animationiteration"),G0=qs("animationstart"),OR=qs("transitionrun"),kR=qs("transitionstart"),LR=qs("transitioncancel"),K0=qs("transitionend"),$0=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Qn(i,s){$0.set(i,s),Yn(s,[i])}var Y0=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var o=Y0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Va(s)},Y0.set(i,s),s)}return{value:i,source:s,stack:Va(s)}}var Ln=[],Ga=0,jd=0;function Gc(){for(var i=Ga,s=jd=Ga=0;s<i;){var o=Ln[s];Ln[s++]=null;var u=Ln[s];Ln[s++]=null;var d=Ln[s];Ln[s++]=null;var g=Ln[s];if(Ln[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&X0(o,d,g)}}function Kc(i,s,o,u){Ln[Ga++]=i,Ln[Ga++]=s,Ln[Ga++]=o,Ln[Ga++]=u,jd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ud(i,s,o,u){return Kc(i,s,o,u),$c(i)}function Ka(i,s){return Kc(i,null,null,s),$c(i)}function X0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Wt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function $c(i){if(50<tu)throw tu=0,Gm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var $a={};function jR(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,o,u){return new jR(i,s,o,u)}function Bd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yi(i,s){var o=i.alternate;return o===null?(o=bn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Q0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Yc(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")Bd(i)&&(b=1);else if(typeof i=="string")b=BC(i,o,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=bn(31,o,s,d),i.elementType=N,i.lanes=g,i;case S:return Gs(o.children,d,g,s);case D:b=8,d|=24;break;case V:return i=bn(12,o,s,d|2),i.elementType=V,i.lanes=g,i;case Q:return i=bn(13,o,s,d),i.elementType=Q,i.lanes=g,i;case ae:return i=bn(19,o,s,d),i.elementType=ae,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case F:b=10;break e;case q:b=9;break e;case Z:b=11;break e;case I:b=14;break e;case R:b=16,u=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=bn(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Gs(i,s,o,u){return i=bn(7,i,u,s),i.lanes=o,i}function zd(i,s,o){return i=bn(6,i,null,s),i.lanes=o,i}function Fd(i,s,o){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ya=[],Xa=0,Xc=null,Qc=0,jn=[],Un=0,Ks=null,Xi=1,Qi="";function $s(i,s){Ya[Xa++]=Qc,Ya[Xa++]=Xc,Xc=i,Qc=s}function W0(i,s,o){jn[Un++]=Xi,jn[Un++]=Qi,jn[Un++]=Ks,Ks=i;var u=Xi;i=Qi;var d=32-Wt(u)-1;u&=~(1<<d),o+=1;var g=32-Wt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Xi=1<<32-Wt(s)+d|o<<d|u,Qi=g+i}else Xi=1<<g|o<<d|u,Qi=i}function Hd(i){i.return!==null&&($s(i,1),W0(i,1,0))}function qd(i){for(;i===Xc;)Xc=Ya[--Xa],Ya[Xa]=null,Qc=Ya[--Xa],Ya[Xa]=null;for(;i===Ks;)Ks=jn[--Un],jn[Un]=null,Qi=jn[--Un],jn[Un]=null,Xi=jn[--Un],jn[Un]=null}var cn=null,ft=null,He=!1,Ys=null,Ti=!1,Gd=Error(r(519));function Xs(i){var s=Error(r(418,""));throw Pl(kn(s,i)),Gd}function Z0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ct]=i,s[Et]=u,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<iu.length;o++)Me(iu[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Ps(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Pa(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),Ms(s,u.value,u.defaultValue,u.children),Pa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||pT(s.textContent,o)?(u.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),u.onScroll!=null&&Me("scroll",s),u.onScrollEnd!=null&&Me("scrollend",s),u.onClick!=null&&(s.onclick=Nh),s=!0):s=!1,s||Xs(i)}function J0(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cn=cn.return}}function Dl(i){if(i!==cn)return!1;if(!He)return J0(i),He=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||op(i.type,i.memoizedProps)),o=!o),o&&ft&&Xs(i),J0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){ft=Zn(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}ft=null}}else s===27?(s=ft,Kr(i.type)?(i=hp,hp=null,ft=i):ft=s):ft=cn?Zn(i.stateNode.nextSibling):null;return!0}function Vl(){ft=cn=null,He=!1}function ev(){var i=Ys;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Ys=null),i}function Pl(i){Ys===null?Ys=[i]:Ys.push(i)}var Kd=oe(null),Qs=null,Wi=null;function Dr(i,s,o){ue(Kd,s._currentValue),s._currentValue=o}function Zi(i){i._currentValue=Kd.current,he(Kd)}function $d(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Yd(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=d;for(var P=0;P<s.length;P++)if(x.context===s[P]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),$d(g.return,o,i),u||(b=null);break e}g=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),$d(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ml(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=d.type;En(d.pendingProps.value,b.value)||(i!==null?i.push(x):i=[x])}}else if(d===Ot.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}d=d.return}i!==null&&Yd(s,i,o,u),s.flags|=262144}function Wc(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ws(i){Qs=i,Wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return tv(Qs,i)}function Zc(i,s){return Qs===null&&Ws(i),tv(i,s)}function tv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wi===null){if(i===null)throw Error(r(308));Wi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wi=Wi.next=s;return o}var UR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},BR=t.unstable_scheduleCallback,zR=t.unstable_NormalPriority,Dt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new UR,data:new Map,refCount:0}}function Ol(i){i.refCount--,i.refCount===0&&BR(zR,function(){i.controller.abort()})}var kl=null,Qd=0,Qa=0,Wa=null;function FR(i,s){if(kl===null){var o=kl=[];Qd=0,Qa=Zm(),Wa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,s.then(nv,nv),s}function nv(){if(--Qd===0&&kl!==null){Wa!==null&&(Wa.status="fulfilled");var i=kl;kl=null,Qa=0,Wa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function HR(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var iv=ee.S;ee.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&FR(i,s),iv!==null&&iv(i,s)};var Zs=oe(null);function Wd(){var i=Zs.current;return i!==null?i:nt.pooledCache}function Jc(i,s){s===null?ue(Zs,Zs.current):ue(Zs,s.pool)}function rv(){var i=Wd();return i===null?null:{parent:Dt._currentValue,pool:i}}var Ll=Error(r(460)),sv=Error(r(474)),eh=Error(r(542)),Zd={then:function(){}};function av(i){return i=i.status,i==="fulfilled"||i==="rejected"}function th(){}function ov(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(th,th),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uv(i),i;default:if(typeof s.status=="string")s.then(th,th);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,uv(i),i}throw jl=s,Ll}}var jl=null;function lv(){if(jl===null)throw Error(r(459));var i=jl;return jl=null,i}function uv(i){if(i===Ll||i===eh)throw Error(r(483))}var Vr=!1;function Jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=$c(i),X0(i,null,o),s}return Kc(i,u,s,o),$c(i)}function Ul(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}function tm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var nm=!1;function Bl(){if(nm){var i=Wa;if(i!==null)throw i}}function zl(i,s,o,u){nm=!1;var d=i.updateQueue;Vr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var P=x,$=P.next;P.next=null,b===null?g=$:b.next=$,b=P;var te=i.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==b&&(x===null?te.firstBaseUpdate=$:x.next=$,te.lastBaseUpdate=P))}if(g!==null){var ie=d.baseState;b=0,te=$=P=null,x=g;do{var Y=x.lane&-536870913,X=Y!==x.lane;if(X?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===Qa&&(nm=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var we=i,_e=x;Y=s;var Ze=o;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ie=we.call(Ze,ie,Y);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,Y=typeof we=="function"?we.call(Ze,ie,Y):we,Y==null)break e;ie=y({},ie,Y);break e;case 2:Vr=!0}}Y=x.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?($=te=X,P=ie):te=te.next=X,b|=Y;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;X=x,x=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(P=ie),d.baseState=P,d.firstBaseUpdate=$,d.lastBaseUpdate=te,g===null&&(d.shared.lanes=0),Fr|=b,i.lanes=b,i.memoizedState=ie}}function cv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function hv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)cv(o[i],s)}var Za=oe(null),nh=oe(0);function fv(i,s){i=sr,ue(nh,i),ue(Za,s),sr=i|s.baseLanes}function im(){ue(nh,sr),ue(Za,Za.current)}function rm(){sr=nh.current,he(Za),he(nh)}var Or=0,Ie=null,Qe=null,wt=null,ih=!1,Ja=!1,Js=!1,rh=0,Fl=0,eo=null,qR=0;function gt(){throw Error(r(321))}function sm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!En(i[o],s[o]))return!1;return!0}function am(i,s,o,u,d,g){return Or=g,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=i===null||i.memoizedState===null?Xv:Qv,Js=!1,g=o(u,d),Js=!1,Ja&&(g=mv(s,o,u,d)),dv(i),g}function dv(i){ee.H=ch;var s=Qe!==null&&Qe.next!==null;if(Or=0,wt=Qe=Ie=null,ih=!1,Fl=0,eo=null,s)throw Error(r(300));i===null||jt||(i=i.dependencies,i!==null&&Wc(i)&&(jt=!0))}function mv(i,s,o,u){Ie=i;var d=0;do{if(Ja&&(eo=null),Fl=0,Ja=!1,25<=d)throw Error(r(301));if(d+=1,wt=Qe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=WR,g=s(o,u)}while(Ja);return g}function GR(){var i=ee.H,s=i.useState()[0];return s=typeof s.then=="function"?Hl(s):s,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Ie.flags|=1024),s}function om(){var i=rh!==0;return rh=0,i}function lm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function um(i){if(ih){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ih=!1}Or=0,wt=Qe=Ie=null,Ja=!1,Fl=rh=0,eo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ie.memoizedState=wt=i:wt=wt.next=i,wt}function xt(){if(Qe===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var s=wt===null?Ie.memoizedState:wt.next;if(s!==null)wt=s,Qe=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},wt===null?Ie.memoizedState=wt=i:wt=wt.next=i}return wt}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var s=Fl;return Fl+=1,eo===null&&(eo=[]),i=ov(eo,i,s),s=Ie,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?Xv:Qv),i}function sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===F)return Zt(i)}throw Error(r(438,String(i)))}function hm(i){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=cm(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=M;return s.index++,o}function Ji(i,s){return typeof s=="function"?s(i):s}function ah(i){var s=xt();return fm(s,Qe,i)}function fm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var x=b=null,P=null,$=s,te=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Be&ie)===ie:(Or&ie)===ie){var Y=$.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Qa&&(te=!0);else if((Or&Y)===Y){$=$.next,Y===Qa&&(te=!0);continue}else ie={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(x=P=ie,b=g):P=P.next=ie,Ie.lanes|=Y,Fr|=Y;ie=$.action,Js&&o(g,ie),g=$.hasEagerState?$.eagerState:o(g,ie)}else Y={lane:ie,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(x=P=Y,b=g):P=P.next=Y,Ie.lanes|=ie,Fr|=ie;$=$.next}while($!==null&&$!==s);if(P===null?b=g:P.next=x,!En(g,i.memoizedState)&&(jt=!0,te&&(o=Wa,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function dm(i){var s=xt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);En(g,s.memoizedState)||(jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function pv(i,s,o){var u=Ie,d=xt(),g=He;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!En((Qe||d).memoizedState,o);b&&(d.memoizedState=o,jt=!0),d=d.queue;var x=vv.bind(null,u,d,i);if(ql(2048,8,x,[i]),d.getSnapshot!==s||b||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,to(9,oh(),yv.bind(null,u,d,o,s),null),nt===null)throw Error(r(349));g||(Or&124)!==0||gv(u,s,o)}return o}function gv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=cm(),Ie.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function yv(i,s,o,u){s.value=o,s.getSnapshot=u,_v(s)&&Tv(i)}function vv(i,s,o){return o(function(){_v(s)&&Tv(i)})}function _v(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!En(i,o)}catch{return!0}}function Tv(i){var s=Ka(i,2);s!==null&&Rn(s,i,2)}function mm(i){var s=fn();if(typeof i=="function"){var o=i;if(i=o(),Js){_n(!0);try{o()}finally{_n(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function Ev(i,s,o,u){return i.baseState=o,fm(i,Qe,typeof u=="function"?u:Ji)}function KR(i,s,o,u,d){if(uh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};ee.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,bv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function bv(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=ee.T,b={};ee.T=b;try{var x=o(d,u),P=ee.S;P!==null&&P(b,x),wv(i,s,x)}catch($){pm(i,s,$)}finally{ee.T=g}}else try{g=o(d,u),wv(i,s,g)}catch($){pm(i,s,$)}}function wv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){xv(i,s,u)},function(u){return pm(i,s,u)}):xv(i,s,o)}function xv(i,s,o){s.status="fulfilled",s.value=o,Sv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,bv(i,o)))}function pm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Sv(s),s=s.next;while(s!==u)}i.action=null}function Sv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Av(i,s){return s}function Rv(i,s){if(He){var o=nt.formState;if(o!==null){e:{var u=Ie;if(He){if(ft){t:{for(var d=ft,g=Ti;d.nodeType!==8;){if(!g){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ft=Zn(d.nextSibling),u=d.data==="F!";break e}}Xs(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:s},o.queue=u,o=Kv.bind(null,Ie,u),u.dispatch=o,u=mm(!1),g=Tm.bind(null,Ie,!1,u.queue),u=fn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=KR.bind(null,Ie,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function Cv(i){var s=xt();return Iv(s,Qe,i)}function Iv(i,s,o){if(s=fm(i,s,Av)[0],i=ah(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hl(s)}catch(b){throw b===Ll?eh:b}else u=s;s=xt();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ie.flags|=2048,to(9,oh(),$R.bind(null,d,o),null)),[u,g,i]}function $R(i,s){i.action=s}function Nv(i){var s=xt(),o=Qe;if(o!==null)return Iv(s,o,i);xt(),s=s.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function to(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=cm(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function oh(){return{destroy:void 0,resource:void 0}}function Dv(){return xt().memoizedState}function lh(i,s,o,u){var d=fn();u=u===void 0?null:u,Ie.flags|=i,d.memoizedState=to(1|s,oh(),o,u)}function ql(i,s,o,u){var d=xt();u=u===void 0?null:u;var g=d.memoizedState.inst;Qe!==null&&u!==null&&sm(u,Qe.memoizedState.deps)?d.memoizedState=to(s,g,o,u):(Ie.flags|=i,d.memoizedState=to(1|s,g,o,u))}function Vv(i,s){lh(8390656,8,i,s)}function Pv(i,s){ql(2048,8,i,s)}function Mv(i,s){return ql(4,2,i,s)}function Ov(i,s){return ql(4,4,i,s)}function kv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lv(i,s,o){o=o!=null?o.concat([i]):null,ql(4,4,kv.bind(null,s,i),o)}function gm(){}function jv(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&sm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Uv(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&sm(s,u[1]))return u[0];if(u=i(),Js){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,s],u}function ym(i,s,o){return o===void 0||(Or&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=F_(),Ie.lanes|=i,Fr|=i,o)}function Bv(i,s,o,u){return En(o,s)?o:Za.current!==null?(i=ym(i,o,u),En(i,s)||(jt=!0),i):(Or&42)===0?(jt=!0,i.memoizedState=o):(i=F_(),Ie.lanes|=i,Fr|=i,s)}function zv(i,s,o,u,d){var g=le.p;le.p=g!==0&&8>g?g:8;var b=ee.T,x={};ee.T=x,Tm(i,!1,s,o);try{var P=d(),$=ee.S;if($!==null&&$(x,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=HR(P,u);Gl(i,s,te,An(i))}else Gl(i,s,u,An(i))}catch(ie){Gl(i,s,{then:function(){},status:"rejected",reason:ie},An())}finally{le.p=g,ee.T=b}}function YR(){}function vm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=Fv(i).queue;zv(i,d,s,de,o===null?YR:function(){return Hv(i),o(u)})}function Fv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Hv(i){var s=Fv(i).next.queue;Gl(i,s,{},An())}function _m(){return Zt(uu)}function qv(){return xt().memoizedState}function Gv(){return xt().memoizedState}function XR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=An();i=Pr(o);var u=Mr(s,i,o);u!==null&&(Rn(u,s,o),Ul(u,s,o)),s={cache:Xd()},i.payload=s;return}s=s.return}}function QR(i,s,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},uh(i)?$v(s,o):(o=Ud(i,s,o,u),o!==null&&(Rn(o,i,u),Yv(o,s,u)))}function Kv(i,s,o){var u=An();Gl(i,s,o,u)}function Gl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(uh(i))$v(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,x=g(b,o);if(d.hasEagerState=!0,d.eagerState=x,En(x,b))return Kc(i,s,d,0),nt===null&&Gc(),!1}catch{}finally{}if(o=Ud(i,s,d,u),o!==null)return Rn(o,i,u),Yv(o,s,u),!0}return!1}function Tm(i,s,o,u){if(u={lane:2,revertLane:Zm(),action:u,hasEagerState:!1,eagerState:null,next:null},uh(i)){if(s)throw Error(r(479))}else s=Ud(i,o,u,2),s!==null&&Rn(s,i,2)}function uh(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function $v(i,s){Ja=ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Yv(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}var ch={readContext:Zt,use:sh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Xv={readContext:Zt,use:sh,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:Zt,useEffect:Vv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,lh(4194308,4,kv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return lh(4194308,4,i,s)},useInsertionEffect:function(i,s){lh(4,2,i,s)},useMemo:function(i,s){var o=fn();s=s===void 0?null:s;var u=i();if(Js){_n(!0);try{i()}finally{_n(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=fn();if(o!==void 0){var d=o(s);if(Js){_n(!0);try{o(s)}finally{_n(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=QR.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=mm(i);var s=i.queue,o=Kv.bind(null,Ie,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:gm,useDeferredValue:function(i,s){var o=fn();return ym(o,i,s)},useTransition:function(){var i=mm(!1);return i=zv.bind(null,Ie,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ie,d=fn();if(He){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),nt===null)throw Error(r(349));(Be&124)!==0||gv(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,Vv(vv.bind(null,u,g,i),[i]),u.flags|=2048,to(9,oh(),yv.bind(null,u,g,o,s),null),o},useId:function(){var i=fn(),s=nt.identifierPrefix;if(He){var o=Qi,u=Xi;o=(u&~(1<<32-Wt(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=rh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=qR++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:_m,useFormState:Rv,useActionState:Rv,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tm.bind(null,Ie,!0,o),o.dispatch=s,[i,s]},useMemoCache:hm,useCacheRefresh:function(){return fn().memoizedState=XR.bind(null,Ie)}},Qv={readContext:Zt,use:sh,useCallback:jv,useContext:Zt,useEffect:Pv,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:Ov,useMemo:Uv,useReducer:ah,useRef:Dv,useState:function(){return ah(Ji)},useDebugValue:gm,useDeferredValue:function(i,s){var o=xt();return Bv(o,Qe.memoizedState,i,s)},useTransition:function(){var i=ah(Ji)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Hl(i),s]},useSyncExternalStore:pv,useId:qv,useHostTransitionStatus:_m,useFormState:Cv,useActionState:Cv,useOptimistic:function(i,s){var o=xt();return Ev(o,Qe,i,s)},useMemoCache:hm,useCacheRefresh:Gv},WR={readContext:Zt,use:sh,useCallback:jv,useContext:Zt,useEffect:Pv,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:Ov,useMemo:Uv,useReducer:dm,useRef:Dv,useState:function(){return dm(Ji)},useDebugValue:gm,useDeferredValue:function(i,s){var o=xt();return Qe===null?ym(o,i,s):Bv(o,Qe.memoizedState,i,s)},useTransition:function(){var i=dm(Ji)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Hl(i),s]},useSyncExternalStore:pv,useId:qv,useHostTransitionStatus:_m,useFormState:Nv,useActionState:Nv,useOptimistic:function(i,s){var o=xt();return Qe!==null?Ev(o,Qe,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:hm,useCacheRefresh:Gv},no=null,Kl=0;function hh(i){var s=Kl;return Kl+=1,no===null&&(no=[]),ov(no,i,s)}function $l(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function fh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Wv(i){var s=i._init;return s(i._payload)}function Zv(i){function s(z,U){if(i){var K=z.deletions;K===null?(z.deletions=[U],z.flags|=16):K.push(U)}}function o(z,U){if(!i)return null;for(;U!==null;)s(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function d(z,U){return z=Yi(z,U),z.index=0,z.sibling=null,z}function g(z,U,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<U?(z.flags|=67108866,U):K):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function x(z,U,K,ne){return U===null||U.tag!==6?(U=zd(K,z.mode,ne),U.return=z,U):(U=d(U,K),U.return=z,U)}function P(z,U,K,ne){var pe=K.type;return pe===S?te(z,U,K.props.children,ne,K.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Wv(pe)===U.type)?(U=d(U,K.props),$l(U,K),U.return=z,U):(U=Yc(K.type,K.key,K.props,null,z.mode,ne),$l(U,K),U.return=z,U)}function $(z,U,K,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Fd(K,z.mode,ne),U.return=z,U):(U=d(U,K.children||[]),U.return=z,U)}function te(z,U,K,ne,pe){return U===null||U.tag!==7?(U=Gs(K,z.mode,ne,pe),U.return=z,U):(U=d(U,K),U.return=z,U)}function ie(z,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=zd(""+U,z.mode,K),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return K=Yc(U.type,U.key,U.props,null,z.mode,K),$l(K,U),K.return=z,K;case C:return U=Fd(U,z.mode,K),U.return=z,U;case R:var ne=U._init;return U=ne(U._payload),ie(z,U,K)}if(ot(U)||H(U))return U=Gs(U,z.mode,K,null),U.return=z,U;if(typeof U.then=="function")return ie(z,hh(U),K);if(U.$$typeof===F)return ie(z,Zc(z,U),K);fh(z,U)}return null}function Y(z,U,K,ne){var pe=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:x(z,U,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===pe?P(z,U,K,ne):null;case C:return K.key===pe?$(z,U,K,ne):null;case R:return pe=K._init,K=pe(K._payload),Y(z,U,K,ne)}if(ot(K)||H(K))return pe!==null?null:te(z,U,K,ne,null);if(typeof K.then=="function")return Y(z,U,hh(K),ne);if(K.$$typeof===F)return Y(z,U,Zc(z,K),ne);fh(z,K)}return null}function X(z,U,K,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(K)||null,x(U,z,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return z=z.get(ne.key===null?K:ne.key)||null,P(U,z,ne,pe);case C:return z=z.get(ne.key===null?K:ne.key)||null,$(U,z,ne,pe);case R:var Ve=ne._init;return ne=Ve(ne._payload),X(z,U,K,ne,pe)}if(ot(ne)||H(ne))return z=z.get(K)||null,te(U,z,ne,pe,null);if(typeof ne.then=="function")return X(z,U,K,hh(ne),pe);if(ne.$$typeof===F)return X(z,U,K,Zc(U,ne),pe);fh(U,ne)}return null}function we(z,U,K,ne){for(var pe=null,Ve=null,ge=U,Te=U=0,Bt=null;ge!==null&&Te<K.length;Te++){ge.index>Te?(Bt=ge,ge=null):Bt=ge.sibling;var Fe=Y(z,ge,K[Te],ne);if(Fe===null){ge===null&&(ge=Bt);break}i&&ge&&Fe.alternate===null&&s(z,ge),U=g(Fe,U,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe,ge=Bt}if(Te===K.length)return o(z,ge),He&&$s(z,Te),pe;if(ge===null){for(;Te<K.length;Te++)ge=ie(z,K[Te],ne),ge!==null&&(U=g(ge,U,Te),Ve===null?pe=ge:Ve.sibling=ge,Ve=ge);return He&&$s(z,Te),pe}for(ge=u(ge);Te<K.length;Te++)Bt=X(ge,z,Te,K[Te],ne),Bt!==null&&(i&&Bt.alternate!==null&&ge.delete(Bt.key===null?Te:Bt.key),U=g(Bt,U,Te),Ve===null?pe=Bt:Ve.sibling=Bt,Ve=Bt);return i&&ge.forEach(function(Wr){return s(z,Wr)}),He&&$s(z,Te),pe}function _e(z,U,K,ne){if(K==null)throw Error(r(151));for(var pe=null,Ve=null,ge=U,Te=U=0,Bt=null,Fe=K.next();ge!==null&&!Fe.done;Te++,Fe=K.next()){ge.index>Te?(Bt=ge,ge=null):Bt=ge.sibling;var Wr=Y(z,ge,Fe.value,ne);if(Wr===null){ge===null&&(ge=Bt);break}i&&ge&&Wr.alternate===null&&s(z,ge),U=g(Wr,U,Te),Ve===null?pe=Wr:Ve.sibling=Wr,Ve=Wr,ge=Bt}if(Fe.done)return o(z,ge),He&&$s(z,Te),pe;if(ge===null){for(;!Fe.done;Te++,Fe=K.next())Fe=ie(z,Fe.value,ne),Fe!==null&&(U=g(Fe,U,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe);return He&&$s(z,Te),pe}for(ge=u(ge);!Fe.done;Te++,Fe=K.next())Fe=X(ge,z,Te,Fe.value,ne),Fe!==null&&(i&&Fe.alternate!==null&&ge.delete(Fe.key===null?Te:Fe.key),U=g(Fe,U,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe);return i&&ge.forEach(function(ZC){return s(z,ZC)}),He&&$s(z,Te),pe}function Ze(z,U,K,ne){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var pe=K.key;U!==null;){if(U.key===pe){if(pe=K.type,pe===S){if(U.tag===7){o(z,U.sibling),ne=d(U,K.props.children),ne.return=z,z=ne;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Wv(pe)===U.type){o(z,U.sibling),ne=d(U,K.props),$l(ne,K),ne.return=z,z=ne;break e}o(z,U);break}else s(z,U);U=U.sibling}K.type===S?(ne=Gs(K.props.children,z.mode,ne,K.key),ne.return=z,z=ne):(ne=Yc(K.type,K.key,K.props,null,z.mode,ne),$l(ne,K),ne.return=z,z=ne)}return b(z);case C:e:{for(pe=K.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(z,U.sibling),ne=d(U,K.children||[]),ne.return=z,z=ne;break e}else{o(z,U);break}else s(z,U);U=U.sibling}ne=Fd(K,z.mode,ne),ne.return=z,z=ne}return b(z);case R:return pe=K._init,K=pe(K._payload),Ze(z,U,K,ne)}if(ot(K))return we(z,U,K,ne);if(H(K)){if(pe=H(K),typeof pe!="function")throw Error(r(150));return K=pe.call(K),_e(z,U,K,ne)}if(typeof K.then=="function")return Ze(z,U,hh(K),ne);if(K.$$typeof===F)return Ze(z,U,Zc(z,K),ne);fh(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(z,U.sibling),ne=d(U,K),ne.return=z,z=ne):(o(z,U),ne=zd(K,z.mode,ne),ne.return=z,z=ne),b(z)):o(z,U)}return function(z,U,K,ne){try{Kl=0;var pe=Ze(z,U,K,ne);return no=null,pe}catch(ge){if(ge===Ll||ge===eh)throw ge;var Ve=bn(29,ge,null,z.mode);return Ve.lanes=ne,Ve.return=z,Ve}finally{}}}var io=Zv(!0),Jv=Zv(!1),Bn=oe(null),Ei=null;function kr(i){var s=i.alternate;ue(Vt,Vt.current&1),ue(Bn,i),Ei===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Ei=i)}function e_(i){if(i.tag===22){if(ue(Vt,Vt.current),ue(Bn,i),Ei===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ei=i)}}else Lr()}function Lr(){ue(Vt,Vt.current),ue(Bn,Bn.current)}function er(i){he(Bn),Ei===i&&(Ei=null),he(Vt)}var Vt=oe(0);function dh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||cp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Em(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var bm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=An(),d=Pr(u);d.payload=s,o!=null&&(d.callback=o),s=Mr(i,d,u),s!==null&&(Rn(s,i,u),Ul(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=An(),d=Pr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Mr(i,d,u),s!==null&&(Rn(s,i,u),Ul(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=An(),u=Pr(o);u.tag=2,s!=null&&(u.callback=s),s=Mr(i,u,o),s!==null&&(Rn(s,i,o),Ul(s,i,o))}};function t_(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Il(o,u)||!Il(d,g):!0}function n_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&bm.enqueueReplaceState(s,s.state,null)}function ea(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function i_(i){mh(i)}function r_(i){console.error(i)}function s_(i){mh(i)}function ph(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function a_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wm(i,s,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){ph(i,s)},o}function o_(i){return i=Pr(i),i.tag=3,i}function l_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){a_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){a_(s,o,u),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function ZR(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,d,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return Ei===null?$m():o.alternate===null&&dt===0&&(dt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Zd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xm(i,u,d)),!1;case 22:return o.flags|=65536,u===Zd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xm(i,u,d)),!1}throw Error(r(435,o.tag))}return Xm(i,u,d),$m(),!1}if(He)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Gd&&(i=Error(r(422),{cause:u}),Pl(kn(i,o)))):(u!==Gd&&(s=Error(r(423),{cause:u}),Pl(kn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=kn(u,o),d=wm(i.stateNode,u,d),tm(i,d),dt!==4&&(dt=2)),!1;var g=Error(r(520),{cause:u});if(g=kn(g,o),eu===null?eu=[g]:eu.push(g),dt!==4&&(dt=2),s===null)return!0;u=kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=wm(o.stateNode,u,i),tm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=o_(d),l_(d,i,o,u),tm(o,d),!1}o=o.return}while(o!==null);return!1}var u_=Error(r(461)),jt=!1;function Gt(i,s,o,u){s.child=i===null?Jv(s,null,o,u):io(s,i.child,o,u)}function c_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Ws(s),u=am(i,s,o,b,g,d),x=om(),i!==null&&!jt?(lm(i,s,d),tr(i,s,d)):(He&&x&&Hd(s),s.flags|=1,Gt(i,s,u,d),s.child)}function h_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Bd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,f_(i,s,g,u,d)):(i=Yc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Dm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(b,u)&&i.ref===s.ref)return tr(i,s,d)}return s.flags|=1,i=Yi(g,u),i.ref=s.ref,i.return=s,s.child=i}function f_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Il(g,u)&&i.ref===s.ref)if(jt=!1,s.pendingProps=u=g,Dm(i,d))(i.flags&131072)!==0&&(jt=!0);else return s.lanes=i.lanes,tr(i,s,d)}return xm(i,s,o,u,d)}function d_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return m_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jc(s,g!==null?g.cachePool:null),g!==null?fv(s,g):im(),e_(s);else return s.lanes=s.childLanes=536870912,m_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Jc(s,g.cachePool),fv(s,g),Lr(),s.memoizedState=null):(i!==null&&Jc(s,null),im(),Lr());return Gt(i,s,d,o),s.child}function m_(i,s,o,u){var d=Wd();return d=d===null?null:{parent:Dt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&Jc(s,null),im(),e_(s),i!==null&&Ml(i,s,u,!0),null}function gh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function xm(i,s,o,u,d){return Ws(s),o=am(i,s,o,u,void 0,d),u=om(),i!==null&&!jt?(lm(i,s,d),tr(i,s,d)):(He&&u&&Hd(s),s.flags|=1,Gt(i,s,o,d),s.child)}function p_(i,s,o,u,d,g){return Ws(s),s.updateQueue=null,o=mv(s,u,o,d),dv(i),u=om(),i!==null&&!jt?(lm(i,s,g),tr(i,s,g)):(He&&u&&Hd(s),s.flags|=1,Gt(i,s,o,g),s.child)}function g_(i,s,o,u,d){if(Ws(s),s.stateNode===null){var g=$a,b=o.contextType;typeof b=="object"&&b!==null&&(g=Zt(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Jd(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Zt(b):$a,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Em(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&bm.enqueueReplaceState(g,g.state,null),zl(s,u,g,d),Bl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var x=s.memoizedProps,P=ea(o,x);g.props=P;var $=g.context,te=o.contextType;b=$a,typeof te=="object"&&te!==null&&(b=Zt(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||$!==b)&&n_(s,g,u,b),Vr=!1;var Y=s.memoizedState;g.state=Y,zl(s,u,g,d),Bl(),$=s.memoizedState,x||Y!==$||Vr?(typeof ie=="function"&&(Em(s,o,ie,u),$=s.memoizedState),(P=Vr||t_(s,o,P,u,Y,$,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=b,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,em(i,s),b=s.memoizedProps,te=ea(o,b),g.props=te,ie=s.pendingProps,Y=g.context,$=o.contextType,P=$a,typeof $=="object"&&$!==null&&(P=Zt($)),x=o.getDerivedStateFromProps,($=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ie||Y!==P)&&n_(s,g,u,P),Vr=!1,Y=s.memoizedState,g.state=Y,zl(s,u,g,d),Bl();var X=s.memoizedState;b!==ie||Y!==X||Vr||i!==null&&i.dependencies!==null&&Wc(i.dependencies)?(typeof x=="function"&&(Em(s,o,x,u),X=s.memoizedState),(te=Vr||t_(s,o,te,u,Y,X,P)||i!==null&&i.dependencies!==null&&Wc(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=P,u=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,gh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=io(s,i.child,null,d),s.child=io(s,null,o,d)):Gt(i,s,o,d),s.memoizedState=g.state,i=s.child):i=tr(i,s,d),i}function y_(i,s,o,u){return Vl(),s.flags|=256,Gt(i,s,o,u),s.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(i){return{baseLanes:i,cachePool:rv()}}function Rm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=zn),i}function v_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(He){if(d?kr(s):Lr(),He){var x=ft,P;if(P=x){e:{for(P=x,x=Ti;P.nodeType!==8;){if(!x){x=null;break e}if(P=Zn(P.nextSibling),P===null){x=null;break e}}x=P}x!==null?(s.memoizedState={dehydrated:x,treeContext:Ks!==null?{id:Xi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},P=bn(18,null,null,0),P.stateNode=x,P.return=s,s.child=P,cn=s,ft=null,P=!0):P=!1}P||Xs(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return cp(x)?s.lanes=32:s.lanes=536870912,null;er(s)}return x=u.children,u=u.fallback,d?(Lr(),d=s.mode,x=yh({mode:"hidden",children:x},d),u=Gs(u,d,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,d=s.child,d.memoizedState=Am(o),d.childLanes=Rm(i,b,o),s.memoizedState=Sm,u):(kr(s),Cm(s,x))}if(P=i.memoizedState,P!==null&&(x=P.dehydrated,x!==null)){if(g)s.flags&256?(kr(s),s.flags&=-257,s=Im(i,s,o)):s.memoizedState!==null?(Lr(),s.child=i.child,s.flags|=128,s=null):(Lr(),d=u.fallback,x=s.mode,u=yh({mode:"visible",children:u.children},x),d=Gs(d,x,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,io(s,i.child,null,o),u=s.child,u.memoizedState=Am(o),u.childLanes=Rm(i,b,o),s.memoizedState=Sm,s=d);else if(kr(s),cp(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(r(419)),u.stack="",u.digest=b,Pl({value:u,source:null,stack:null}),s=Im(i,s,o)}else if(jt||Ml(i,s,o,!1),b=(o&i.childLanes)!==0,jt||b){if(b=nt,b!==null&&(u=o&-o,u=(u&42)!==0?1:xr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,Ka(i,u),Rn(b,i,u),u_;x.data==="$?"||$m(),s=Im(i,s,o)}else x.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,ft=Zn(x.nextSibling),cn=s,He=!0,Ys=null,Ti=!1,i!==null&&(jn[Un++]=Xi,jn[Un++]=Qi,jn[Un++]=Ks,Xi=i.id,Qi=i.overflow,Ks=s),s=Cm(s,u.children),s.flags|=4096);return s}return d?(Lr(),d=u.fallback,x=s.mode,P=i.child,$=P.sibling,u=Yi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,$!==null?d=Yi($,d):(d=Gs(d,x,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,x=i.child.memoizedState,x===null?x=Am(o):(P=x.cachePool,P!==null?($=Dt._currentValue,P=P.parent!==$?{parent:$,pool:$}:P):P=rv(),x={baseLanes:x.baseLanes|o,cachePool:P}),d.memoizedState=x,d.childLanes=Rm(i,b,o),s.memoizedState=Sm,u):(kr(s),o=i.child,i=o.sibling,o=Yi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function Cm(i,s){return s=yh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function yh(i,s){return i=bn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Im(i,s,o){return io(s,i.child,null,o),i=Cm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function __(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),$d(i.return,s,o)}function Nm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function T_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Gt(i,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&__(i,o,s);else if(i.tag===19)__(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ue(Vt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&dh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Nm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&dh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Nm(s,!0,o,null,g);break;case"together":Nm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Fr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ml(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Yi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Yi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Dm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Wc(i)))}function JR(i,s,o){switch(s.tag){case 3:tt(s,s.stateNode.containerInfo),Dr(s,Dt,i.memoizedState.cache),Vl();break;case 27:case 5:wr(s);break;case 4:tt(s,s.stateNode.containerInfo);break;case 10:Dr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(kr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?v_(i,s,o):(kr(s),i=tr(i,s,o),i!==null?i.sibling:null);kr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ml(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return T_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,d_(i,s,o);case 24:Dr(s,Dt,i.memoizedState.cache)}return tr(i,s,o)}function E_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)jt=!0;else{if(!Dm(i,o)&&(s.flags&128)===0)return jt=!1,JR(i,s,o);jt=(i.flags&131072)!==0}else jt=!1,He&&(s.flags&1048576)!==0&&W0(s,Qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Bd(u)?(i=ea(u,i),s.tag=1,s=g_(null,s,u,i,o)):(s.tag=0,s=xm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===Z){s.tag=11,s=c_(null,s,u,i,o);break e}else if(d===I){s.tag=14,s=h_(null,s,u,i,o);break e}}throw s=Tt(u)||u,Error(r(306,s,""))}}return s;case 0:return xm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ea(u,s.pendingProps),g_(i,s,u,d,o);case 3:e:{if(tt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,em(i,s),zl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Dr(s,Dt,u),u!==g.cache&&Yd(s,[Dt],o,!0),Bl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=y_(i,s,u,o);break e}else if(u!==d){d=kn(Error(r(424)),s),Pl(d),s=y_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=Zn(i.firstChild),cn=s,He=!0,Ys=null,Ti=!0,o=Jv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),u===d){s=tr(i,s,o);break e}Gt(i,s,u,o)}s=s.child}return s;case 26:return gh(i,s),i===null?(o=ST(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,i=s.pendingProps,u=Dh(Se.current).createElement(o),u[Ct]=s,u[Et]=i,$t(u,o,i),pt(u),s.stateNode=u):s.memoizedState=ST(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return wr(s),i===null&&He&&(u=s.stateNode=bT(s.type,s.pendingProps,Se.current),cn=s,Ti=!0,d=ft,Kr(s.type)?(hp=d,ft=Zn(u.firstChild)):ft=d),Gt(i,s,s.pendingProps.children,o),gh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&He&&((d=u=ft)&&(u=RC(u,s.type,s.pendingProps,Ti),u!==null?(s.stateNode=u,cn=s,ft=Zn(u.firstChild),Ti=!1,d=!0):d=!1),d||Xs(s)),wr(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,op(d,g)?u=null:b!==null&&op(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=am(i,s,GR,null,null,o),uu._currentValue=d),gh(i,s),Gt(i,s,u,o),s.child;case 6:return i===null&&He&&((i=o=ft)&&(o=CC(o,s.pendingProps,Ti),o!==null?(s.stateNode=o,cn=s,ft=null,i=!0):i=!1),i||Xs(s)),null;case 13:return v_(i,s,o);case 4:return tt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=io(s,null,u,o):Gt(i,s,u,o),s.child;case 11:return c_(i,s,s.type,s.pendingProps,o);case 7:return Gt(i,s,s.pendingProps,o),s.child;case 8:return Gt(i,s,s.pendingProps.children,o),s.child;case 12:return Gt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Dr(s,s.type,u.value),Gt(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Ws(s),d=Zt(d),u=u(d),s.flags|=1,Gt(i,s,u,o),s.child;case 14:return h_(i,s,s.type,s.pendingProps,o);case 15:return f_(i,s,s.type,s.pendingProps,o);case 19:return T_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=yh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Yi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return d_(i,s,o);case 24:return Ws(s),u=Zt(Dt),i===null?(d=Wd(),d===null&&(d=nt,g=Xd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Jd(s),Dr(s,Dt,d)):((i.lanes&o)!==0&&(em(i,s),zl(s,null,null,o),Bl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Dr(s,Dt,u)):(u=g.cache,Dr(s,Dt,u),u!==d.cache&&Yd(s,[Dt],o,!0))),Gt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function nr(i){i.flags|=4}function b_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=Bn.current,s!==null&&((Be&4194048)===Be?Ei!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Ei))throw jl=Zd,sv;i.flags|=8192}}function vh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hl():536870912,i.lanes|=s,oo|=s)}function Yl(i,s){if(!He)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function eC(i,s,o){var u=s.pendingProps;switch(qd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zi(Dt),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Dl(s)?nr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ev())),lt(s),null;case 26:return o=s.memoizedState,i===null?(nr(s),o!==null?(lt(s),b_(s,o)):(lt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(nr(s),lt(s),b_(s,o)):(lt(s),s.flags&=-16777217):(i.memoizedProps!==u&&nr(s),lt(s),s.flags&=-16777217),null;case 27:Oi(s),o=Se.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=ve.current,Dl(s)?Z0(s):(i=bT(d,u,o),s.stateNode=i,nr(s))}return lt(s),null;case 5:if(Oi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(i=ve.current,Dl(s))Z0(s);else{switch(d=Dh(Se.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ct]=s,i[Et]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch($t(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&nr(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,Dl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ct]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||pT(i.nodeValue,o)),i||Xs(s)}else i=Dh(i).createTextNode(u),i[Ct]=s,s.stateNode=i}return lt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Dl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ct]=s}else Vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),d=!1}else d=ev(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(er(s),s):(er(s),null)}if(er(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),vh(s,s.updateQueue),lt(s),null;case 4:return li(),i===null&&np(s.stateNode.containerInfo),lt(s),null;case 10:return Zi(s.type),lt(s),null;case 19:if(he(Vt),d=s.memoizedState,d===null)return lt(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Yl(d,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=dh(i),g!==null){for(s.flags|=128,Yl(d,!1),i=g.updateQueue,s.updateQueue=i,vh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Q0(o,i),o=o.sibling;return ue(Vt,Vt.current&1|2),s.child}i=i.sibling}d.tail!==null&&Nn()>Eh&&(s.flags|=128,u=!0,Yl(d,!1),s.lanes=4194304)}else{if(!u)if(i=dh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,vh(s,i),Yl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!He)return lt(s),null}else 2*Nn()-d.renderingStartTime>Eh&&o!==536870912&&(s.flags|=128,u=!0,Yl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Nn(),s.sibling=null,i=Vt.current,ue(Vt,u?i&1|2:i&1),s):(lt(s),null);case 22:case 23:return er(s),rm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&vh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&he(Zs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(Dt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function tC(i,s){switch(qd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Zi(Dt),li(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Oi(s),null;case 13:if(er(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return he(Vt),null;case 4:return li(),null;case 10:return Zi(s.type),null;case 22:case 23:return er(s),rm(),i!==null&&he(Zs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Zi(Dt),null;case 25:return null;default:return null}}function w_(i,s){switch(qd(s),s.tag){case 3:Zi(Dt),li();break;case 26:case 27:case 5:Oi(s);break;case 4:li();break;case 13:er(s);break;case 19:he(Vt);break;case 10:Zi(s.type);break;case 22:case 23:er(s),rm(),i!==null&&he(Zs);break;case 24:Zi(Dt)}}function Xl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(x){et(s,s.return,x)}}function jr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=s;var P=o,$=x;try{$()}catch(te){et(d,P,te)}}}u=u.next}while(u!==g)}}catch(te){et(s,s.return,te)}}function x_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{hv(s,o)}catch(u){et(i,i.return,u)}}}function S_(i,s,o){o.props=ea(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){et(i,s,u)}}function Ql(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){et(i,s,d)}}function bi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){et(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){et(i,s,d)}else o.current=null}function A_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){et(i,i.return,d)}}function Vm(i,s,o){try{var u=i.stateNode;bC(u,i.type,o,s),u[Et]=s}catch(d){et(i,i.return,d)}}function R_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function Pm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||R_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Nh));else if(u!==4&&(u===27&&Kr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Mm(i,s,o),i=i.sibling;i!==null;)Mm(i,s,o),i=i.sibling}function _h(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Kr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(_h(i,s,o),i=i.sibling;i!==null;)_h(i,s,o),i=i.sibling}function C_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);$t(s,u,o),s[Ct]=i,s[Et]=o}catch(g){et(i,i.return,g)}}var ir=!1,yt=!1,Om=!1,I_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function nC(i,s){if(i=i.containerInfo,sp=Lh,i=B0(i),Pd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,x=-1,P=-1,$=0,te=0,ie=i,Y=null;t:for(;;){for(var X;ie!==o||d!==0&&ie.nodeType!==3||(x=b+d),ie!==g||u!==0&&ie.nodeType!==3||(P=b+u),ie.nodeType===3&&(b+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===i)break t;if(Y===o&&++$===d&&(x=b),Y===g&&++te===u&&(P=b),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}o=x===-1||P===-1?null:{start:x,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ap={focusedElem:i,selectionRange:o},Lh=!1,Ut=s;Ut!==null;)if(s=Ut,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ut=i;else for(;Ut!==null;){switch(s=Ut,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var we=ea(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_e){et(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)up(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ut=i;break}Ut=s.return}}function N_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(i,o),u&4&&Xl(5,o);break;case 1:if(Ur(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){et(o,o.return,b)}else{var d=ea(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}u&64&&x_(o),u&512&&Ql(o,o.return);break;case 3:if(Ur(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{hv(i,s)}catch(b){et(o,o.return,b)}}break;case 27:s===null&&u&4&&C_(o);case 26:case 5:Ur(i,o),s===null&&u&4&&A_(o),u&512&&Ql(o,o.return);break;case 12:Ur(i,o);break;case 13:Ur(i,o),u&4&&P_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=hC.bind(null,o),IC(i,o))));break;case 22:if(u=o.memoizedState!==null||ir,!u){s=s!==null&&s.memoizedState!==null||yt,d=ir;var g=yt;ir=u,(yt=s)&&!g?Br(i,o,(o.subtreeFlags&8772)!==0):Ur(i,o),ir=d,yt=g}break;case 30:break;default:Ur(i,o)}}function D_(i){var s=i.alternate;s!==null&&(i.alternate=null,D_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Rr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,dn=!1;function rr(i,s,o){for(o=o.child;o!==null;)V_(i,s,o),o=o.sibling}function V_(i,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:yt||bi(o,s),rr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:yt||bi(o,s);var u=st,d=dn;Kr(o.type)&&(st=o.stateNode,dn=!1),rr(i,s,o),su(o.stateNode),st=u,dn=d;break;case 5:yt||bi(o,s);case 6:if(u=st,d=dn,st=null,rr(i,s,o),st=u,dn=d,st!==null)if(dn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(g){et(o,s,g)}else try{st.removeChild(o.stateNode)}catch(g){et(o,s,g)}break;case 18:st!==null&&(dn?(i=st,TT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),du(i)):TT(st,o.stateNode));break;case 4:u=st,d=dn,st=o.stateNode.containerInfo,dn=!0,rr(i,s,o),st=u,dn=d;break;case 0:case 11:case 14:case 15:yt||jr(2,o,s),yt||jr(4,o,s),rr(i,s,o);break;case 1:yt||(bi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&S_(o,s,u)),rr(i,s,o);break;case 21:rr(i,s,o);break;case 22:yt=(u=yt)||o.memoizedState!==null,rr(i,s,o),yt=u;break;default:rr(i,s,o)}}function P_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(o){et(s,s.return,o)}}function iC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new I_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new I_),s;default:throw Error(r(435,i.tag))}}function km(i,s){var o=iC(i);s.forEach(function(u){var d=fC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function wn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(Kr(x.type)){st=x.stateNode,dn=!1;break e}break;case 5:st=x.stateNode,dn=!1;break e;case 3:case 4:st=x.stateNode.containerInfo,dn=!0;break e}x=x.return}if(st===null)throw Error(r(160));V_(g,b,d),st=null,dn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)M_(s,i),s=s.sibling}var Wn=null;function M_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),xn(i),u&4&&(jr(3,i,i.return),Xl(3,i),jr(5,i,i.return));break;case 1:wn(s,i),xn(i),u&512&&(yt||o===null||bi(o,o.return)),u&64&&ir&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Wn;if(wn(s,i),xn(i),u&512&&(yt||o===null||bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Is]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),$t(g,u,o),g[Ct]=i,pt(g),u=g;break e;case"link":var b=CT("link","href",d).get(u+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(g=b[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}g=d.createElement(u),$t(g,u,o),d.head.appendChild(g);break;case"meta":if(b=CT("meta","content",d).get(u+(o.content||""))){for(x=0;x<b.length;x++)if(g=b[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}g=d.createElement(u),$t(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ct]=i,pt(g),u=g}i.stateNode=u}else IT(d,i.type,i.stateNode);else i.stateNode=RT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?IT(d,i.type,i.stateNode):RT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Vm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(s,i),xn(i),u&512&&(yt||o===null||bi(o,o.return)),o!==null&&u&4&&Vm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,i),xn(i),u&512&&(yt||o===null||bi(o,o.return)),i.flags&32){d=i.stateNode;try{Vn(d,"")}catch(X){et(i,i.return,X)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Vm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Om=!0);break;case 6:if(wn(s,i),xn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){et(i,i.return,X)}}break;case 3:if(Mh=null,d=Wn,Wn=Vh(s.containerInfo),wn(s,i),Wn=d,xn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{du(s.containerInfo)}catch(X){et(i,i.return,X)}Om&&(Om=!1,O_(i));break;case 4:u=Wn,Wn=Vh(i.stateNode.containerInfo),wn(s,i),xn(i),Wn=u;break;case 12:wn(s,i),xn(i);break;case 13:wn(s,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fm=Nn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,km(i,u)));break;case 22:d=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=ir,te=yt;if(ir=$||d,yt=te||P,wn(s,i),yt=te,ir=$,xn(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||P||ir||yt||ta(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(g=P.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=P.stateNode;var ie=P.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){et(P,P.return,X)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(X){et(P,P.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,km(i,o))));break;case 19:wn(s,i),xn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,km(i,u)));break;case 30:break;case 21:break;default:wn(s,i),xn(i)}}function xn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(R_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Pm(i);_h(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Vn(b,""),o.flags&=-33);var x=Pm(i);_h(i,x,b);break;case 3:case 4:var P=o.stateNode.containerInfo,$=Pm(i);Mm(i,$,P);break;default:throw Error(r(161))}}catch(te){et(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function O_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;O_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ur(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N_(i,s.alternate,s),s=s.sibling}function ta(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:jr(4,s,s.return),ta(s);break;case 1:bi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&S_(s,s.return,o),ta(s);break;case 27:su(s.stateNode);case 26:case 5:bi(s,s.return),ta(s);break;case 22:s.memoizedState===null&&ta(s);break;case 30:ta(s);break;default:ta(s)}i=i.sibling}}function Br(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Br(d,g,o),Xl(4,g);break;case 1:if(Br(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){et(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var x=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)cv(P[d],x)}catch($){et(u,u.return,$)}}o&&b&64&&x_(g),Ql(g,g.return);break;case 27:C_(g);case 26:case 5:Br(d,g,o),o&&u===null&&b&4&&A_(g),Ql(g,g.return);break;case 12:Br(d,g,o);break;case 13:Br(d,g,o),o&&b&4&&P_(d,g);break;case 22:g.memoizedState===null&&Br(d,g,o),Ql(g,g.return);break;case 30:break;default:Br(d,g,o)}s=s.sibling}}function Lm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ol(o))}function jm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ol(i))}function wi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)k_(i,s,o,u),s=s.sibling}function k_(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,o,u),d&2048&&Xl(9,s);break;case 1:wi(i,s,o,u);break;case 3:wi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ol(i)));break;case 12:if(d&2048){wi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,x=g.onPostCommit;typeof x=="function"&&x(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){et(s,s.return,P)}}else wi(i,s,o,u);break;case 13:wi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?wi(i,s,o,u):Wl(i,s):g._visibility&2?wi(i,s,o,u):(g._visibility|=2,ro(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Lm(b,s);break;case 24:wi(i,s,o,u),d&2048&&jm(s.alternate,s);break;default:wi(i,s,o,u)}}function ro(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,x=o,P=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:ro(g,b,x,P,d),Xl(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?ro(g,b,x,P,d):Wl(g,b):(te._visibility|=2,ro(g,b,x,P,d)),d&&$&2048&&Lm(b.alternate,b);break;case 24:ro(g,b,x,P,d),d&&$&2048&&jm(b.alternate,b);break;default:ro(g,b,x,P,d)}s=s.sibling}}function Wl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Wl(o,u),d&2048&&Lm(u.alternate,u);break;case 24:Wl(o,u),d&2048&&jm(u.alternate,u);break;default:Wl(o,u)}s=s.sibling}}var Zl=8192;function so(i){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)L_(i),i=i.sibling}function L_(i){switch(i.tag){case 26:so(i),i.flags&Zl&&i.memoizedState!==null&&FC(Wn,i.memoizedState,i.memoizedProps);break;case 5:so(i);break;case 3:case 4:var s=Wn;Wn=Vh(i.stateNode.containerInfo),so(i),Wn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zl,Zl=16777216,so(i),Zl=s):so(i));break;default:so(i)}}function j_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Jl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,B_(u,i)}j_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)U_(i),i=i.sibling}function U_(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&jr(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Th(i)):Jl(i);break;default:Jl(i)}}function Th(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,B_(u,i)}j_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:jr(8,s,s.return),Th(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Th(s));break;default:Th(s)}i=i.sibling}}function B_(i,s){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:jr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ol(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ut=u;else e:for(o=i;Ut!==null;){u=Ut;var d=u.sibling,g=u.return;if(D_(u),u===o){Ut=null;break e}if(d!==null){d.return=g,Ut=d;break e}Ut=g}}}var rC={getCacheForType:function(i){var s=Zt(Dt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},sC=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Pe=null,Be=0,Ye=0,Sn=null,zr=!1,ao=!1,Um=!1,sr=0,dt=0,Fr=0,na=0,Bm=0,zn=0,oo=0,eu=null,mn=null,zm=!1,Fm=0,Eh=1/0,bh=null,Hr=null,Kt=0,qr=null,lo=null,uo=0,Hm=0,qm=null,z_=null,tu=0,Gm=null;function An(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(ee.T!==null){var i=Qa;return i!==0?i:Zm()}return Sr()}function F_(){zn===0&&(zn=(Be&536870912)===0||He?cl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),zn}function Rn(i,s,o){(i===nt&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)&&(co(i,0),Gr(i,Be,zn,!1)),Li(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(na|=o),dt===4&&Gr(i,Be,zn,!1)),xi(i))}function H_(i,s,o){if(($e&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Cs(i,s),d=u?lC(i,s):Ym(i,s,!0),g=u;do{if(d===0){ao&&!u&&Gr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!aC(o)){d=Ym(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var x=i;d=eu;var P=x.current.memoizedState.isDehydrated;if(P&&(co(x,b).flags|=256),b=Ym(x,b,!1),b!==2){if(Um&&!P){x.errorRecoveryDisabledLanes|=g,na|=g,d=4;break e}g=mn,mn=d,g!==null&&(mn===null?mn=g:mn.push.apply(mn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){co(i,0),Gr(i,s,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gr(u,s,zn,!zr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Fm+300-Nn(),10<d)){if(Gr(u,s,zn,!zr),Ra(u,0,!0)!==0)break e;u.timeoutHandle=vT(q_.bind(null,u,o,mn,bh,zm,s,zn,na,oo,zr,g,2,-0,0),d);break e}q_(u,o,mn,bh,zm,s,zn,na,oo,zr,g,0,-0,0)}}break}while(!0);xi(i)}function q_(i,s,o,u,d,g,b,x,P,$,te,ie,Y,X){if(i.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:zC},L_(s),ie=HC(),ie!==null)){i.cancelPendingCommit=ie(W_.bind(null,i,s,g,o,u,d,b,x,P,te,1,Y,X)),Gr(i,g,b,!$);return}W_(i,s,g,o,u,d,b,x,P)}function aC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!En(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(i,s,o,u){s&=~Bm,s&=~na,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Wt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&ui(i,o,s)}function wh(){return($e&6)===0?(nu(0),!1):!0}function Km(){if(Pe!==null){if(Ye===0)var i=Pe.return;else i=Pe,Wi=Qs=null,um(i),no=null,Kl=0,i=Pe;for(;i!==null;)w_(i.alternate,i),i=i.return;Pe=null}}function co(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,xC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Km(),nt=i,Pe=o=Yi(i.current,null),Be=s,Ye=0,Sn=null,zr=!1,ao=Cs(i,s),Um=!1,oo=zn=Bm=na=Fr=dt=0,mn=eu=null,zm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Wt(u),g=1<<d;s|=i[d],u&=~g}return sr=s,Gc(),o}function G_(i,s){Ie=null,ee.H=ch,s===Ll||s===eh?(s=lv(),Ye=3):s===sv?(s=lv(),Ye=4):Ye=s===u_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Pe===null&&(dt=1,ph(i,kn(s,i.current)))}function K_(){var i=ee.H;return ee.H=ch,i===null?ch:i}function $_(){var i=ee.A;return ee.A=rC,i}function $m(){dt=4,zr||(Be&4194048)!==Be&&Bn.current!==null||(ao=!0),(Fr&134217727)===0&&(na&134217727)===0||nt===null||Gr(nt,Be,zn,!1)}function Ym(i,s,o){var u=$e;$e|=2;var d=K_(),g=$_();(nt!==i||Be!==s)&&(bh=null,co(i,s)),s=!1;var b=dt;e:do try{if(Ye!==0&&Pe!==null){var x=Pe,P=Sn;switch(Ye){case 8:Km(),b=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var $=Ye;if(Ye=0,Sn=null,ho(i,x,P,$),o&&ao){b=0;break e}break;default:$=Ye,Ye=0,Sn=null,ho(i,x,P,$)}}oC(),b=dt;break}catch(te){G_(i,te)}while(!0);return s&&i.shellSuspendCounter++,Wi=Qs=null,$e=u,ee.H=d,ee.A=g,Pe===null&&(nt=null,Be=0,Gc()),b}function oC(){for(;Pe!==null;)Y_(Pe)}function lC(i,s){var o=$e;$e|=2;var u=K_(),d=$_();nt!==i||Be!==s?(bh=null,Eh=Nn()+500,co(i,s)):ao=Cs(i,s);e:do try{if(Ye!==0&&Pe!==null){s=Pe;var g=Sn;t:switch(Ye){case 1:Ye=0,Sn=null,ho(i,s,g,1);break;case 2:case 9:if(av(g)){Ye=0,Sn=null,X_(s);break}s=function(){Ye!==2&&Ye!==9||nt!==i||(Ye=7),xi(i)},g.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:av(g)?(Ye=0,Sn=null,X_(s)):(Ye=0,Sn=null,ho(i,s,g,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var x=Pe;if(!b||NT(b)){Ye=0,Sn=null;var P=x.sibling;if(P!==null)Pe=P;else{var $=x.return;$!==null?(Pe=$,xh($)):Pe=null}break t}}Ye=0,Sn=null,ho(i,s,g,5);break;case 6:Ye=0,Sn=null,ho(i,s,g,6);break;case 8:Km(),dt=6;break e;default:throw Error(r(462))}}uC();break}catch(te){G_(i,te)}while(!0);return Wi=Qs=null,ee.H=u,ee.A=d,$e=o,Pe!==null?0:(nt=null,Be=0,Gc(),dt)}function uC(){for(;Pe!==null&&!al();)Y_(Pe)}function Y_(i){var s=E_(i.alternate,i,sr);i.memoizedProps=i.pendingProps,s===null?xh(i):Pe=s}function X_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=p_(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=p_(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:um(s);default:w_(o,s),s=Pe=Q0(s,sr),s=E_(o,s,sr)}i.memoizedProps=i.pendingProps,s===null?xh(i):Pe=s}function ho(i,s,o,u){Wi=Qs=null,um(s),no=null,Kl=0;var d=s.return;try{if(ZR(i,d,s,o,Be)){dt=1,ph(i,kn(o,i.current)),Pe=null;return}}catch(g){if(d!==null)throw Pe=d,g;dt=1,ph(i,kn(o,i.current)),Pe=null;return}s.flags&32768?(He||u===1?i=!0:ao||(Be&536870912)!==0?i=!1:(zr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Q_(s,i)):xh(s)}function xh(i){var s=i;do{if((s.flags&32768)!==0){Q_(s,zr);return}i=s.return;var o=eC(s.alternate,s,sr);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);dt===0&&(dt=5)}function Q_(i,s){do{var o=tC(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);dt=6,Pe=null}function W_(i,s,o,u,d,g,b,x,P){i.cancelPendingCommit=null;do Sh();while(Kt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=jd,fl(i,o,g,b,x,P),i===nt&&(Pe=nt=null,Be=0),lo=s,qr=i,uo=o,Hm=g,qm=d,z_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,dC(xs,function(){return nT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,d=le.p,le.p=2,b=$e,$e|=4;try{nC(i,s,o)}finally{$e=b,le.p=d,ee.T=u}}Kt=1,Z_(),J_(),eT()}}function Z_(){if(Kt===1){Kt=0;var i=qr,s=lo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=le.p;le.p=2;var d=$e;$e|=4;try{M_(s,i);var g=ap,b=B0(i.containerInfo),x=g.focusedElem,P=g.selectionRange;if(b!==x&&x&&x.ownerDocument&&U0(x.ownerDocument.documentElement,x)){if(P!==null&&Pd(x)){var $=P.start,te=P.end;if(te===void 0&&(te=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(te,x.value.length);else{var ie=x.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),we=x.textContent.length,_e=Math.min(P.start,we),Ze=P.end===void 0?_e:Math.min(P.end,we);!X.extend&&_e>Ze&&(b=Ze,Ze=_e,_e=b);var z=j0(x,_e),U=j0(x,Ze);if(z&&U&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var K=ie.createRange();K.setStart(z.node,z.offset),X.removeAllRanges(),_e>Ze?(X.addRange(K),X.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),X.addRange(K))}}}}for(ie=[],X=x;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ie.length;x++){var ne=ie[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Lh=!!sp,ap=sp=null}finally{$e=d,le.p=u,ee.T=o}}i.current=s,Kt=2}}function J_(){if(Kt===2){Kt=0;var i=qr,s=lo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=le.p;le.p=2;var d=$e;$e|=4;try{N_(i,s.alternate,s)}finally{$e=d,le.p=u,ee.T=o}}Kt=3}}function eT(){if(Kt===4||Kt===3){Kt=0,Tc();var i=qr,s=lo,o=uo,u=z_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,lo=qr=null,tT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Hr=null),Ca(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,d=le.p,le.p=2,ee.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var x=u[b];g(x.value,{componentStack:x.stack})}}finally{ee.T=s,le.p=d}}(uo&3)!==0&&Sh(),xi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===Gm?tu++:(tu=0,Gm=i):tu=0,nu(0)}}function tT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ol(s)))}function Sh(i){return Z_(),J_(),eT(),nT()}function nT(){if(Kt!==5)return!1;var i=qr,s=Hm;Hm=0;var o=Ca(uo),u=ee.T,d=le.p;try{le.p=32>o?32:o,ee.T=null,o=qm,qm=null;var g=qr,b=uo;if(Kt=0,lo=qr=null,uo=0,($e&6)!==0)throw Error(r(331));var x=$e;if($e|=4,U_(g.current),k_(g,g.current,b,o),$e=x,nu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,g)}catch{}return!0}finally{le.p=d,ee.T=u,tT(i,s)}}function iT(i,s,o){s=kn(o,s),s=wm(i.stateNode,s,2),i=Mr(i,s,2),i!==null&&(Li(i,2),xi(i))}function et(i,s,o){if(i.tag===3)iT(i,i,o);else for(;s!==null;){if(s.tag===3){iT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hr===null||!Hr.has(u))){i=kn(o,i),o=o_(2),u=Mr(s,o,2),u!==null&&(l_(o,u,s,i),Li(u,2),xi(u));break}}s=s.return}}function Xm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new sC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Um=!0,d.add(o),i=cC.bind(null,i,s,o),s.then(i,i))}function cC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Be&o)===o&&(dt===4||dt===3&&(Be&62914560)===Be&&300>Nn()-Fm?($e&2)===0&&co(i,0):Bm|=o,oo===Be&&(oo=0)),xi(i)}function rT(i,s){s===0&&(s=hl()),i=Ka(i,s),i!==null&&(Li(i,s),xi(i))}function hC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),rT(i,o)}function fC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),rT(i,o)}function dC(i,s){return bs(i,s)}var Ah=null,fo=null,Qm=!1,Rh=!1,Wm=!1,ia=0;function xi(i){i!==fo&&i.next===null&&(fo===null?Ah=fo=i:fo=fo.next=i),Rh=!0,Qm||(Qm=!0,pC())}function nu(i,s){if(!Wm&&Rh){Wm=!0;do for(var o=!1,u=Ah;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-Wt(42|i)+1)-1,g&=d&~(b&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,lT(u,g))}else g=Be,g=Ra(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Cs(u,g)||(o=!0,lT(u,g));u=u.next}while(o);Wm=!1}}function mC(){sT()}function sT(){Rh=Qm=!1;var i=0;ia!==0&&(wC()&&(i=ia),ia=0);for(var s=Nn(),o=null,u=Ah;u!==null;){var d=u.next,g=aT(u,s);g===0?(u.next=null,o===null?Ah=d:o.next=d,d===null&&(fo=o)):(o=u,(i!==0||(g&3)!==0)&&(Rh=!0)),u=d}nu(i)}function aT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Wt(g),x=1<<b,P=d[b];P===-1?((x&o)===0||(x&u)!==0)&&(d[b]=ul(x,s)):P<=s&&(i.expiredLanes|=x),g&=~x}if(s=nt,o=Be,o=Ra(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ws(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Cs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&ws(u),Ca(o)){case 2:case 8:o=Sa;break;case 32:o=xs;break;case 268435456:o=Aa;break;default:o=xs}return u=oT.bind(null,i),o=bs(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&ws(u),i.callbackPriority=2,i.callbackNode=null,2}function oT(i,s){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Sh()&&i.callbackNode!==o)return null;var u=Be;return u=Ra(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(H_(i,u,s),aT(i,Nn()),i.callbackNode!=null&&i.callbackNode===o?oT.bind(null,i):null)}function lT(i,s){if(Sh())return null;H_(i,s,!0)}function pC(){SC(function(){($e&6)!==0?bs(ol,mC):sT()})}function Zm(){return ia===0&&(ia=cl()),ia}function uT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ma(""+i)}function cT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function gC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=uT((d[Et]||null).action),b=u.submitter;b&&(s=(s=b[Et]||null)?uT(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var x=new Oa("action","action",null,u,d);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var P=b?cT(d,b):new FormData(d);vm(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(x.preventDefault(),P=b?cT(d,b):new FormData(d),vm(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var Jm=0;Jm<Ld.length;Jm++){var ep=Ld[Jm],yC=ep.toLowerCase(),vC=ep[0].toUpperCase()+ep.slice(1);Qn(yC,"on"+vC)}Qn(H0,"onAnimationEnd"),Qn(q0,"onAnimationIteration"),Qn(G0,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(OR,"onTransitionRun"),Qn(kR,"onTransitionStart"),Qn(LR,"onTransitionCancel"),Qn(K0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function hT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var x=u[b],P=x.instance,$=x.currentTarget;if(x=x.listener,P!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=$;try{g(d)}catch(te){mh(te)}d.currentTarget=null,g=P}else for(b=0;b<u.length;b++){if(x=u[b],P=x.instance,$=x.currentTarget,x=x.listener,P!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=$;try{g(d)}catch(te){mh(te)}d.currentTarget=null,g=P}}}}function Me(i,s){var o=s[ml];o===void 0&&(o=s[ml]=new Set);var u=i+"__bubble";o.has(u)||(fT(s,i,2,!1),o.add(u))}function tp(i,s,o){var u=0;s&&(u|=4),fT(o,i,u,s)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function np(i){if(!i[Ch]){i[Ch]=!0,pl.forEach(function(o){o!=="selectionchange"&&(_C.has(o)||tp(o,!1,i),tp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ch]||(s[Ch]=!0,tp("selectionchange",!1,s))}}function fT(i,s,o,u){switch(kT(s)){case 2:var d=KC;break;case 8:d=$C;break;default:d=gp}o=d.bind(null,s,o,i),d=void 0,!Mn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function ip(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=ji(x),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=g=b;continue e}x=x.parentNode}}u=u.return}Nc(function(){var $=g,te=Pn(o),ie=[];e:{var Y=$0.get(i);if(Y!==void 0){var X=Oa,we=i;switch(i){case"keypress":if(pi(o)===0)break e;case"keydown":case"keyup":X=za;break;case"focusin":we="focus",X=ja;break;case"focusout":we="blur",X=ja;break;case"beforeblur":case"afterblur":X=ja;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=jc;break;case H0:case q0:case G0:X=Ua;break;case K0:X=Bc;break;case"scroll":case"scrollend":X=Dc;break;case"wheel":X=Fa;break;case"copy":case"cut":case"paste":X=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Rl;break;case"toggle":case"beforetoggle":X=Fc}var _e=(s&4)!==0,Ze=!_e&&(i==="scroll"||i==="scrollend"),z=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var U=$,K;U!==null;){var ne=U;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||z===null||(ne=ks(U,z),ne!=null&&_e.push(ru(U,ne,K))),Ze)break;U=U.return}0<_e.length&&(Y=new X(Y,we,null,o,te),ie.push({event:Y,listeners:_e}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Fi&&(we=o.relatedTarget||o.fromElement)&&(ji(we)||we[Dn]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(we=o.relatedTarget||o.toElement,X=$,we=we?ji(we):null,we!==null&&(Ze=l(we),_e=we.tag,we!==Ze||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(X=null,we=$),X!==we)){if(_e=On,ne="onMouseLeave",z="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(_e=Rl,ne="onPointerLeave",z="onPointerEnter",U="pointer"),Ze=X==null?Y:hi(X),K=we==null?Y:hi(we),Y=new _e(ne,U+"leave",X,o,te),Y.target=Ze,Y.relatedTarget=K,ne=null,ji(te)===$&&(_e=new _e(z,U+"enter",we,o,te),_e.target=K,_e.relatedTarget=Ze,ne=_e),Ze=ne,X&&we)t:{for(_e=X,z=we,U=0,K=_e;K;K=mo(K))U++;for(K=0,ne=z;ne;ne=mo(ne))K++;for(;0<U-K;)_e=mo(_e),U--;for(;0<K-U;)z=mo(z),K--;for(;U--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=mo(_e),z=mo(z)}_e=null}else _e=null;X!==null&&dT(ie,Y,X,_e,!1),we!==null&&Ze!==null&&dT(ie,Ze,we,_e,!0)}}e:{if(Y=$?hi($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var pe=V0;else if(Nt(Y))if(P0)pe=VR;else{pe=NR;var Ve=IR}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Tl($.elementType)&&(pe=V0):pe=DR;if(pe&&(pe=pe(i,$))){$i(ie,pe,o,te);break e}Ve&&Ve(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Ir(Y,"number",Y.value)}switch(Ve=$?hi($):window,i){case"focusin":(Nt(Ve)||Ve.contentEditable==="true")&&(Ha=Ve,Md=$,Nl=null);break;case"focusout":Nl=Md=Ha=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,z0(ie,o,te);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":z0(ie,o,te)}var ge;if(vi)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?W(i,o)&&(Te="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(T&&o.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ge=bl()):(mi=te,Nr="value"in mi?mi.value:mi.textContent,je=!0)),Ve=Ih($,Te),0<Ve.length&&(Te=new Sl(Te,i,null,o,te),ie.push({event:Te,listeners:Ve}),ge?Te.data=ge:(ge=ce(o),ge!==null&&(Te.data=ge)))),(ge=v?It(i,o):Ue(i,o))&&(Te=Ih($,"onBeforeInput"),0<Te.length&&(Ve=new Sl("onBeforeInput","beforeinput",null,o,te),ie.push({event:Ve,listeners:Te}),Ve.data=ge)),gC(ie,i,$,o,te)}hT(ie,s)})}function ru(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Ih(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ks(i,o),d!=null&&u.unshift(ru(i,d,g)),d=ks(i,s),d!=null&&u.push(ru(i,d,g))),i.tag===3)return u;i=i.return}return[]}function mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function dT(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var x=o,P=x.alternate,$=x.stateNode;if(x=x.tag,P!==null&&P===u)break;x!==5&&x!==26&&x!==27||$===null||(P=$,d?($=ks(o,g),$!=null&&b.unshift(ru(o,$,P))):d||($=ks(o,g),$!=null&&b.push(ru(o,$,P)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var TC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function mT(i){return(typeof i=="string"?i:""+i).replace(TC,`
`).replace(EC,"")}function pT(i,s){return s=mT(s),mT(i)===s}function Nh(){}function We(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(i,""+u);break;case"className":fi(i,"class",u);break;case"tabIndex":fi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,o,u);break;case"style":_l(i,u,g);break;case"data":if(s!=="object"){fi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&We(i,s,"name",d.name,d,null),We(i,s,"formEncType",d.formEncType,d,null),We(i,s,"formMethod",d.formMethod,d,null),We(i,s,"formTarget",d.formTarget,d,null)):(We(i,s,"encType",d.encType,d,null),We(i,s,"method",d.method,d,null),We(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ma(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),Cr(i,"popover",u);break;case"xlinkActuate":Ht(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rd.get(o)||o,Cr(i,o,u))}}function rp(i,s,o,u,d,g){switch(o){case"style":_l(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&Vn(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Et]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Cr(i,o,u)}}}function $t(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,g,b,o,null)}}d&&We(i,s,"srcSet",o.srcSet,o,null),u&&We(i,s,"src",o.src,o,null);return;case"input":Me("invalid",i);var x=g=b=d=null,P=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":d=te;break;case"type":b=te;break;case"checked":P=te;break;case"defaultChecked":$=te;break;case"value":g=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:We(i,s,u,te,o,null)}}Ps(i,g,x,P,$,b,d,!1),Pa(i);return;case"select":Me("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":g=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:We(i,s,d,x,o,null)}s=g,o=b,i.multiple=!!u,s!=null?zi(i,!!u,s,!1):o!=null&&zi(i,!!u,o,!0);return;case"textarea":Me("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":d=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:We(i,s,b,x,o,null)}Ms(i,u,d,g),Pa(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,s,P,u,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Me(iu[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,$,u,o,null)}return;default:if(Tl(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&rp(i,s,te,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&We(i,s,x,u,o,null))}function bC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,x=null,P=null,$=null,te=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(X)||We(i,s,X,null,u,ie)}}for(var Y in u){var X=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==ie&&We(i,s,Y,X,u,ie)}}Tn(i,b,x,P,$,te,g,d);return;case"select":X=b=x=Y=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(g)||We(i,s,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":Y=g;break;case"defaultValue":x=g;break;case"multiple":b=g;default:g!==P&&We(i,s,d,g,u,P)}s=x,o=b,u=X,Y!=null?zi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?zi(i,!!o,s,!0):zi(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(i,s,x,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&We(i,s,b,d,u,g)}Xe(i,Y,X);return;case"option":for(var we in o)if(Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!u.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:We(i,s,we,null,u,Y)}for(P in u)if(Y=u[P],X=o[P],u.hasOwnProperty(P)&&Y!==X&&(Y!=null||X!=null))switch(P){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(i,s,P,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Y=o[_e],o.hasOwnProperty(_e)&&Y!=null&&!u.hasOwnProperty(_e)&&We(i,s,_e,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:We(i,s,$,Y,u,X)}return;default:if(Tl(s)){for(var Ze in o)Y=o[Ze],o.hasOwnProperty(Ze)&&Y!==void 0&&!u.hasOwnProperty(Ze)&&rp(i,s,Ze,void 0,u,Y);for(te in u)Y=u[te],X=o[te],!u.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||rp(i,s,te,Y,u,X);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&We(i,s,z,null,u,Y);for(ie in u)Y=u[ie],X=o[ie],!u.hasOwnProperty(ie)||Y===X||Y==null&&X==null||We(i,s,ie,Y,u,X)}var sp=null,ap=null;function Dh(i){return i.nodeType===9?i:i.ownerDocument}function gT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function op(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lp=null;function wC(){var i=window.event;return i&&i.type==="popstate"?i===lp?!1:(lp=i,!0):(lp=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(i){return _T.resolve(null).then(i).catch(AC)}:vT;function AC(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function TT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&su(b.documentElement),o&2&&su(b.body),o&4)for(o=b.head,su(o),b=o.firstChild;b;){var x=b.nextSibling,P=b.nodeName;b[Is]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=x}}if(d===0){i.removeChild(g),du(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);du(s)}function up(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":up(o),Rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function RC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Is])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function CC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function cp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function IC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var hp=null;function ET(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function bT(i,s,o){switch(s=Dh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function su(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Rr(i)}var Fn=new Map,wT=new Set;function Vh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ar=le.d;le.d={f:NC,r:DC,D:VC,C:PC,L:MC,m:OC,X:LC,S:kC,M:jC};function NC(){var i=ar.f(),s=wh();return i||s}function DC(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?Hv(s):ar.r(i)}var po=typeof document>"u"?null:document;function xT(i,s,o){var u=po;if(u&&typeof s=="string"&&s){var d=bt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),wT.has(d)||(wT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),$t(s,"link",i),pt(s),u.head.appendChild(s)))}}function VC(i){ar.D(i),xT("dns-prefetch",i,null)}function PC(i,s){ar.C(i,s),xT("preconnect",i,s)}function MC(i,s,o){ar.L(i,s,o);var u=po;if(u&&i&&s){var d='link[rel="preload"][as="'+bt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+bt(o.imageSizes)+'"]')):d+='[href="'+bt(i)+'"]';var g=d;switch(s){case"style":g=go(i);break;case"script":g=yo(i)}Fn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Fn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(au(g))||s==="script"&&u.querySelector(ou(g))||(s=u.createElement("link"),$t(s,"link",i),pt(s),u.head.appendChild(s)))}}function OC(i,s){ar.m(i,s);var o=po;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+bt(u)+'"][href="'+bt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yo(i)}if(!Fn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Fn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(g)))return}u=o.createElement("link"),$t(u,"link",i),pt(u),o.head.appendChild(u)}}}function kC(i,s,o){ar.S(i,s,o);var u=po;if(u&&i){var d=on(u).hoistableStyles,g=go(i);s=s||"default";var b=d.get(g);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(au(g)))x.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Fn.get(g))&&fp(i,o);var P=b=u.createElement("link");pt(P),$t(P,"link",i),P._p=new Promise(function($,te){P.onload=$,P.onerror=te}),P.addEventListener("load",function(){x.loading|=1}),P.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ph(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(g,b)}}}function LC(i,s){ar.X(i,s);var o=po;if(o&&i){var u=on(o).hoistableScripts,d=yo(i),g=u.get(d);g||(g=o.querySelector(ou(d)),g||(i=y({src:i,async:!0},s),(s=Fn.get(d))&&dp(i,s),g=o.createElement("script"),pt(g),$t(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function jC(i,s){ar.M(i,s);var o=po;if(o&&i){var u=on(o).hoistableScripts,d=yo(i),g=u.get(d);g||(g=o.querySelector(ou(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Fn.get(d))&&dp(i,s),g=o.createElement("script"),pt(g),$t(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function ST(i,s,o,u){var d=(d=Se.current)?Vh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=go(o.href),o=on(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=go(o.href);var g=on(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(au(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Fn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(i,o),g||UC(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(o),o=on(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function go(i){return'href="'+bt(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function AT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function UC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),$t(s,"link",o),pt(s),i.head.appendChild(s))}function yo(i){return'[src="'+bt(i)+'"]'}function ou(i){return"script[async]"+i}function RT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+bt(o.href)+'"]');if(u)return s.instance=u,pt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),$t(u,"style",d),Ph(u,o.precedence,i),s.instance=u;case"stylesheet":d=go(o.href);var g=i.querySelector(au(d));if(g)return s.state.loading|=4,s.instance=g,pt(g),g;u=AT(o),(d=Fn.get(d))&&fp(u,d),g=(i.ownerDocument||i).createElement("link"),pt(g);var b=g;return b._p=new Promise(function(x,P){b.onload=x,b.onerror=P}),$t(g,"link",u),s.state.loading|=4,Ph(g,o.precedence,i),s.instance=g;case"script":return g=yo(o.src),(d=i.querySelector(ou(g)))?(s.instance=d,pt(d),d):(u=o,(d=Fn.get(g))&&(u=y({},o),dp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),pt(d),$t(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ph(u,o.precedence,i));return s.instance}function Ph(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===s)g=x;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function fp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mh=null;function CT(i,s,o){if(Mh===null){var u=new Map,d=Mh=new Map;d.set(o,u)}else d=Mh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Is]||g[Ct]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var x=u.get(b);x?x.push(g):u.set(b,[g])}}return u}function IT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function BC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lu=null;function zC(){}function FC(i,s,o){if(lu===null)throw Error(r(475));var u=lu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=go(o.href),g=i.querySelector(au(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Oh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pt(g);return}g=i.ownerDocument||i,o=AT(o),(d=Fn.get(d))&&fp(o,d),g=g.createElement("link"),pt(g);var b=g;b._p=new Promise(function(x,P){b.onload=x,b.onerror=P}),$t(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Oh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function HC(){if(lu===null)throw Error(r(475));var i=lu;return i.stylesheets&&i.count===0&&mp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kh=null;function mp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kh=new Map,s.forEach(qC,i),kh=null,Oh.call(i))}function qC(i,s){if(!(s.state.loading&4)){var o=kh.get(i);if(o)var u=o.get(null);else{o=new Map,kh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Oh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function GC(i,s,o,u,d,g,b,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function DT(i,s,o,u,d,g,b,x,P,$,te,ie){return i=new GC(i,s,o,b,x,P,$,ie),s=1,g===!0&&(s|=24),g=bn(3,null,null,s),i.current=g,g.stateNode=i,s=Xd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Jd(g),i}function VT(i){return i?(i=$a,i):$a}function PT(i,s,o,u,d,g){d=VT(d),u.context===null?u.context=d:u.pendingContext=d,u=Pr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Mr(i,u,s),o!==null&&(Rn(o,i,s),Ul(o,i,s))}function MT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function pp(i,s){MT(i,s),(i=i.alternate)&&MT(i,s)}function OT(i){if(i.tag===13){var s=Ka(i,67108864);s!==null&&Rn(s,i,67108864),pp(i,67108864)}}var Lh=!0;function KC(i,s,o,u){var d=ee.T;ee.T=null;var g=le.p;try{le.p=2,gp(i,s,o,u)}finally{le.p=g,ee.T=d}}function $C(i,s,o,u){var d=ee.T;ee.T=null;var g=le.p;try{le.p=8,gp(i,s,o,u)}finally{le.p=g,ee.T=d}}function gp(i,s,o,u){if(Lh){var d=yp(u);if(d===null)ip(i,s,u,jh,o),LT(i,u);else if(XC(d,i,s,o,u))u.stopPropagation();else if(LT(i,u),s&4&&-1<YC.indexOf(i)){for(;d!==null;){var g=ci(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=$n(g.pendingLanes);if(b!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var P=1<<31-Wt(b);x.entanglements[1]|=P,b&=~P}xi(g),($e&6)===0&&(Eh=Nn()+500,nu(0))}}break;case 13:x=Ka(g,2),x!==null&&Rn(x,g,2),wh(),pp(g,2)}if(g=yp(u),g===null&&ip(i,s,u,jh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else ip(i,s,u,null,o)}}function yp(i){return i=Pn(i),vp(i)}var jh=null;function vp(i){if(jh=null,i=ji(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jh=i,null}function kT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case ol:return 2;case Sa:return 8;case xs:case bd:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var _p=!1,$r=null,Yr=null,Xr=null,cu=new Map,hu=new Map,Qr=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(i,s){switch(i){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function fu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ci(s),s!==null&&OT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function XC(i,s,o,u,d){switch(s){case"focusin":return $r=fu($r,i,s,o,u,d),!0;case"dragenter":return Yr=fu(Yr,i,s,o,u,d),!0;case"mouseover":return Xr=fu(Xr,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return cu.set(g,fu(cu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,hu.set(g,fu(hu.get(g)||null,i,s,o,u,d)),!0}return!1}function jT(i){var s=ji(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,wc(i.priority,function(){if(o.tag===13){var u=An();u=xr(u);var d=Ka(o,u);d!==null&&Rn(d,o,u),pp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=yp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fi=u,o.target.dispatchEvent(u),Fi=null}else return s=ci(o),s!==null&&OT(s),i.blockedOn=o,!1;s.shift()}return!0}function UT(i,s,o){Uh(i)&&o.delete(s)}function QC(){_p=!1,$r!==null&&Uh($r)&&($r=null),Yr!==null&&Uh(Yr)&&(Yr=null),Xr!==null&&Uh(Xr)&&(Xr=null),cu.forEach(UT),hu.forEach(UT)}function Bh(i,s){i.blockedOn===s&&(i.blockedOn=null,_p||(_p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QC)))}var zh=null;function BT(i){zh!==i&&(zh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(vp(u||o)===null)continue;break}var g=ci(o);g!==null&&(i.splice(s,3),s-=3,vm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function du(i){function s(P){return Bh(P,i)}$r!==null&&Bh($r,i),Yr!==null&&Bh(Yr,i),Xr!==null&&Bh(Xr,i),cu.forEach(s),hu.forEach(s);for(var o=0;o<Qr.length;o++){var u=Qr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Qr.length&&(o=Qr[0],o.blockedOn===null);)jT(o),o.blockedOn===null&&Qr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[Et]||null;if(typeof g=="function")b||BT(o);else if(b){var x=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[Et]||null)x=b.formAction;else if(vp(d)!==null)continue}else x=b.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),BT(o)}}}function Tp(i){this._internalRoot=i}Fh.prototype.render=Tp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=An();PT(o,u,i,s,null,null)},Fh.prototype.unmount=Tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;PT(i.current,2,null,i,null,null),wh(),s[Dn]=null}};function Fh(i){this._internalRoot=i}Fh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Sr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qr.length&&s!==0&&s<Qr[o].priority;o++);Qr.splice(o,0,i),o===0&&jT(i)}};var zT=e.version;if(zT!=="19.1.0")throw Error(r(527,zT,"19.1.0"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var WC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{ht=Hh.inject(WC),Ke=Hh}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=i_,g=r_,b=s_,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=DT(i,1,!1,null,null,o,u,d,g,b,x,null),i[Dn]=s.current,np(i),new Tp(s)},pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=i_,b=r_,x=s_,P=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),s=DT(i,1,!0,s,o??null,u,d,g,b,x,P,$),s.context=VT(null),o=s.current,u=An(),u=xr(u),d=Pr(u),d.callback=null,Mr(o,d,u),o=u,s.current.lanes=o,Li(s,o),xi(s),i[Dn]=s.current,np(i),new Fh(s)},pu.version="19.1.0",pu}var WT;function o2(){if(WT)return wp.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wp.exports=a2(),wp.exports}var l2=o2(),gu={},ZT;function u2(){if(ZT)return gu;ZT=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.parse=c,gu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,C){const S=new l,D=E.length;if(D<2)return S;const V=(C==null?void 0:C.decode)||y;let k=0;do{const q=E.indexOf("=",k);if(q===-1)break;const F=E.indexOf(";",k),Z=F===-1?D:F;if(q>Z){k=E.lastIndexOf(";",q-1)+1;continue}const Q=f(E,k,q),ae=m(E,q,Q),I=E.slice(Q,ae);if(S[I]===void 0){let R=f(E,q+1,Z),N=m(E,Z,R);const M=V(E.slice(R,N));S[I]=M}k=Z+1}while(k<D);return S}function f(E,C,S){do{const D=E.charCodeAt(C);if(D!==32&&D!==9)return C}while(++C<S);return S}function m(E,C,S){for(;C>S;){const D=E.charCodeAt(--C);if(D!==32&&D!==9)return C+1}return S}function p(E,C,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=D(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let k=E+"="+V;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return gu}u2();var JT="popstate";function c2(t={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return tg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Fu(a)}return f2(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h2(){return Math.random().toString(36).substring(2,10)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||r||h2()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function f2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let V=y(),k=V==null?null:V-p;p=V,m&&m({action:f,location:D.location,delta:k})}function E(V,k){f="PUSH";let q=tg(D.location,V,k);p=y()+1;let F=eE(q,p),Z=D.createHref(q);try{c.pushState(F,"",Z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(Z)}l&&m&&m({action:f,location:D.location,delta:1})}function C(V,k){f="REPLACE";let q=tg(D.location,V,k);p=y();let F=eE(q,p),Z=D.createHref(q);c.replaceState(F,"",Z),l&&m&&m({action:f,location:D.location,delta:0})}function S(V){return d2(V)}let D={get action(){return f},get location(){return t(a,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(JT,_),m=V,()=>{a.removeEventListener(JT,_),m=null}},createHref(V){return e(a,V)},createURL:S,encodeLocation(V){let k=S(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:C,go(V){return c.go(V)}};return D}function d2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tx(t,e,n="/"){return m2(t,e,n,!1)}function m2(t,e,n,r){let a=typeof e=="string"?qo(e):e,l=mr(a.pathname||"/",n);if(l==null)return null;let c=nx(t);p2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=A2(l);f=x2(c[m],p,r)}return f}function nx(t,e=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(at(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=cr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nx(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:b2(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of ix(l.path))a(l,c,m)}),e}function ix(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=ix(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function p2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:w2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var g2=/^:[\w-]+$/,y2=3,v2=2,_2=1,T2=10,E2=-2,tE=t=>t==="*";function b2(t,e){let n=t.split("/"),r=n.length;return n.some(tE)&&(r+=E2),e&&(r+=v2),n.filter(a=>!tE(a)).reduce((a,l)=>a+(g2.test(l)?y2:l===""?_2:T2),r)}function w2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function x2(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:cr([l,_.pathname]),pathnameBase:N2(cr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=cr([l,_.pathnameBase]))}return c}function Tf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=S2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let S=f[E]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const C=f[E];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function S2(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function A2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function R2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:C2(n,e):e,search:D2(r),hash:V2(a)}}function C2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wg(t){let e=I2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zg(t,e,n,r=!1){let a;typeof t=="string"?a=qo(t):(a={...t},at(!a.pathname||!a.pathname.includes("?"),Rp("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Rp("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Rp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=R2(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),N2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var M2=["GET",...rx];new Set(M2);var Go=j.createContext(null);Go.displayName="DataRouter";var Kf=j.createContext(null);Kf.displayName="DataRouterState";var sx=j.createContext({isTransitioning:!1});sx.displayName="ViewTransition";var O2=j.createContext(new Map);O2.displayName="Fetchers";var k2=j.createContext(null);k2.displayName="Await";var oi=j.createContext(null);oi.displayName="Navigation";var ic=j.createContext(null);ic.displayName="Location";var Mi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Jg=j.createContext(null);Jg.displayName="RouteError";function L2(t,{relative:e}={}){at(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(oi),{hash:a,pathname:l,search:c}=rc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:cr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function Ko(){return j.useContext(ic)!=null}function Tr(){return at(Ko(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ic).location}var ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ox(t){j.useContext(oi).static||j.useLayoutEffect(t)}function $f(){let{isDataRoute:t}=j.useContext(Mi);return t?Q2():j2()}function j2(){at(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Go),{basename:e,navigator:n}=j.useContext(oi),{matches:r}=j.useContext(Mi),{pathname:a}=Tr(),l=JSON.stringify(Wg(r)),c=j.useRef(!1);return ox(()=>{c.current=!0}),j.useCallback((m,p={})=>{if(ri(c.current,ax),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Zg(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}j.createContext(null);function rc(t,{relative:e}={}){let{matches:n}=j.useContext(Mi),{pathname:r}=Tr(),a=JSON.stringify(Wg(n));return j.useMemo(()=>Zg(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function U2(t,e){return lx(t,e)}function lx(t,e,n,r){var k;at(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(oi),{matches:l}=j.useContext(Mi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let q=y&&y.path||"";ux(m,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=Tr(),E;if(e){let q=typeof e=="string"?qo(e):e;at(p==="/"||((k=q.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=_;let C=E.pathname||"/",S=C;if(p!=="/"){let q=p.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=tx(t,{pathname:S});ri(y||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ri(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=q2(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:cr([p,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:cr([p,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,n,r);return e&&V?j.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function B2(){let t=X2(),e=P2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,c)}var z2=j.createElement(B2,null),F2=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(Mi.Provider,{value:this.props.routeContext},j.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H2({routeContext:t,match:e,children:n}){let r=j.useContext(Go);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Mi.Provider,{value:t},n)}function q2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);at(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,C=null,S=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||z2,c&&(f<0&&y===0?(ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===y&&(E=!0,S=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),V=()=>{let k;return _?k=C:E?k=S:p.route.Component?k=j.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,j.createElement(H2,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?j.createElement(F2,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:V(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):V()},null)}function ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G2(t){let e=j.useContext(Go);return at(e,ey(t)),e}function K2(t){let e=j.useContext(Kf);return at(e,ey(t)),e}function $2(t){let e=j.useContext(Mi);return at(e,ey(t)),e}function ty(t){let e=$2(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Y2(){return ty("useRouteId")}function X2(){var r;let t=j.useContext(Jg),e=K2("useRouteError"),n=ty("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Q2(){let{router:t}=G2("useNavigate"),e=ty("useNavigate"),n=j.useRef(!1);return ox(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{ri(n.current,ax),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var nE={};function ux(t,e,n){!e&&!nE[t]&&(nE[t]=!0,ri(!1,n))}j.memo(W2);function W2({routes:t,future:e,state:n}){return lx(t,void 0,n,e)}function Z2({to:t,replace:e,state:n,relative:r}){at(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(oi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Mi),{pathname:c}=Tr(),f=$f(),m=Zg(t,Wg(l),c,r==="path"),p=JSON.stringify(m);return j.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function bu(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){at(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=qo(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,C=j.useMemo(()=>{let S=mr(m,c);return S==null?null:{location:{pathname:S,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return ri(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:j.createElement(oi.Provider,{value:f},j.createElement(ic.Provider,{children:e,value:C}))}function eI({children:t,location:e}){return U2(ng(t),e)}function ng(t,e=[]){let n=[];return j.Children.forEach(t,(r,a)=>{if(!j.isValidElement(r))return;let l=[...e,a];if(r.type===j.Fragment){n.push.apply(n,ng(r.props.children,l));return}at(r.type===bu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ng(r.props.children,l)),n.push(c)}),n}var tf="get",nf="application/x-www-form-urlencoded";function Yf(t){return t!=null&&typeof t.tagName=="string"}function tI(t){return Yf(t)&&t.tagName.toLowerCase()==="button"}function nI(t){return Yf(t)&&t.tagName.toLowerCase()==="form"}function iI(t){return Yf(t)&&t.tagName.toLowerCase()==="input"}function rI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sI(t,e){return t.button===0&&(!e||e==="_self")&&!rI(t)}var qh=null;function aI(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var oI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(t){return t!=null&&!oI.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):t}function lI(t,e){let n,r,a,l,c;if(nI(t)){let f=t.getAttribute("action");r=f?mr(f,e):null,n=t.getAttribute("method")||tf,a=Cp(t.getAttribute("enctype"))||nf,l=new FormData(t)}else if(tI(t)||iI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(r=m?mr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||tf,a=Cp(t.getAttribute("formenctype"))||Cp(f.getAttribute("enctype"))||nf,l=new FormData(f,t),!aI()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Yf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tf,r=null,a=nf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hI(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uI(l,n);return c.links?c.links():[]}return[]}));return pI(r.flat(1).filter(cI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function iE(t,e,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fI(t,e,{includeHydrateFallback:n}={}){return dI(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function dI(t){return[...new Set(t)]}function mI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pI(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(mI(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gI=new Set([100,101,204,205]);function yI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&mr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cx(){let t=j.useContext(Go);return ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vI(){let t=j.useContext(Kf);return ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iy=j.createContext(void 0);iy.displayName="FrameworkContext";function hx(){let t=j.useContext(iy);return ny(t,"You must render this element inside a <HydratedRouter> element"),t}function _I(t,e){let n=j.useContext(iy),[r,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=j.useRef(null);j.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=k=>{k.forEach(q=>{c(q.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),j.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let C=()=>{a(!0)},S=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:yu(f,C),onBlur:yu(m,S),onMouseEnter:yu(p,C),onMouseLeave:yu(y,S),onTouchStart:yu(_,C)}]:[!1,E,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TI({page:t,...e}){let{router:n}=cx(),r=j.useMemo(()=>tx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(bI,{page:t,matches:r,...e}):null}function EI(t){let{manifest:e,routeModules:n}=hx(),[r,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return hI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function bI({page:t,matches:e,...n}){let r=Tr(),{manifest:a,routeModules:l}=hx(),{basename:c}=cx(),{loaderData:f,matches:m}=vI(),p=j.useMemo(()=>iE(t,e,m,a,r,"data"),[t,e,m,a,r]),y=j.useMemo(()=>iE(t,e,m,a,r,"assets"),[t,e,m,a,r]),_=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,D=!1;if(e.forEach(k=>{var F;let q=a.routes[k.route.id];!q||!q.hasLoader||(!p.some(Z=>Z.route.id===k.route.id)&&k.route.id in f&&((F=l[k.route.id])!=null&&F.shouldRevalidate)||q.hasClientLoader?D=!0:S.add(k.route.id))}),S.size===0)return[];let V=yI(t,c);return D&&S.size>0&&V.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[c,f,r,a,p,e,t,l]),E=j.useMemo(()=>fI(y,a),[y,a]),C=EI(y);return j.createElement(j.Fragment,null,_.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),E.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),C.map(({key:S,link:D})=>j.createElement("link",{key:S,...D})))}function wI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fx&&(window.__reactRouterVersion="7.6.2")}catch{}function xI({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=c2({window:n,v5Compat:!0}));let a=r.current,[l,c]=j.useState({action:a.action,location:a.location}),f=j.useCallback(m=>{j.startTransition(()=>c(m))},[c]);return j.useLayoutEffect(()=>a.listen(f),[a,f]),j.createElement(J2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},C){let{basename:S}=j.useContext(oi),D=typeof p=="string"&&dx.test(p),V,k=!1;if(typeof p=="string"&&D&&(V=p,fx))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),B=mr(M.pathname,S);M.origin===N.origin&&B!=null?p=B+M.search+M.hash:k=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=L2(p,{relative:a}),[F,Z,Q]=_I(r,E),ae=CI(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function I(N){e&&e(N),N.defaultPrevented||ae(N)}let R=j.createElement("a",{...E,...Q,href:V||q,onClick:k||l?e:I,ref:wI(C,Z),target:m,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?j.createElement(j.Fragment,null,R,j.createElement(TI,{page:q})):R});Cn.displayName="Link";var SI=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=rc(c,{relative:p.relative}),E=Tr(),C=j.useContext(Kf),{navigator:S,basename:D}=j.useContext(oi),V=C!=null&&PI(_)&&f===!0,k=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,q=E.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&D&&(F=mr(F,D)||F);const Z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Q=q===k||!a&&q.startsWith(k)&&q.charAt(Z)==="/",ae=F!=null&&(F===k||!a&&F.startsWith(k)&&F.charAt(k.length)==="/"),I={isActive:Q,isPending:ae,isTransitioning:V},R=Q?e:void 0,N;typeof r=="function"?N=r(I):N=[r,Q?"active":null,ae?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(I):l;return j.createElement(Cn,{...p,"aria-current":R,className:N,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(I):m)});SI.displayName="NavLink";var AI=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=tf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},C)=>{let S=DI(),D=VI(f,{relative:p}),V=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&dx.test(f),q=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,Q=(Z==null?void 0:Z.getAttribute("formmethod"))||c;S(Z||F.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return j.createElement("form",{ref:C,method:V,action:D,onSubmit:r?m:q,...E,"data-discover":!k&&t==="render"?"true":void 0})});AI.displayName="Form";function RI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(t){let e=j.useContext(Go);return at(e,RI(t)),e}function CI(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=$f(),m=Tr(),p=rc(t,{relative:l});return j.useCallback(y=>{if(sI(y,e)){y.preventDefault();let _=n!==void 0?n:Fu(m)===Fu(p);f(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,e,t,a,l,c])}var II=0,NI=()=>`__${String(++II)}__`;function DI(){let{router:t}=mx("useSubmit"),{basename:e}=j.useContext(oi),n=Y2();return j.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=lI(r,e);if(a.navigate===!1){let y=a.fetcherKey||NI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function VI(t,{relative:e}={}){let{basename:n}=j.useContext(oi),r=j.useContext(Mi);at(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...rc(t||".",{relative:e})},c=Tr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cr([n,l.pathname])),Fu(l)}function PI(t,e={}){let n=j.useContext(sx);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mx("useViewTransitionState"),a=rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=mr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=mr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tf(a.pathname,c)!=null||Tf(a.pathname,l)!=null}[...gI];const MI=()=>{};var rE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},OI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,C=p&63;m||(C=64,c||(E=64)),r.push(n[y],n[_],n[E],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new kI;const E=l<<2|f>>4;if(r.push(E),p!==64){const C=f<<4&240|p>>2;if(r.push(C),_!==64){const S=p<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LI=function(t){const e=px(t);return gx.encodeByteArray(e,!0)},Ef=function(t){return LI(t).replace(/\./g,"")},yx=function(t){try{return gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>jI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof rE>"u")return;const t=rE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yx(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return MI()||UI()||BI()||zI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vx=t=>{var e,n;return(n=(e=Xf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FI=t=>{const e=vx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_x=()=>{var t;return(t=Xf())===null||t===void 0?void 0:t.config},Tx=t=>{var e;return(e=Xf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){return t.endsWith(".cloudworkstations.dev")}async function Ex(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ef(JSON.stringify(n)),Ef(JSON.stringify(c)),""].join(".")}const Nu={};function GI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function KI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sE=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Nu[t]===e||Nu[t]||sE)return;Nu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=GI().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sE=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=KI(r),C=n("text"),S=document.getElementById(C)||document.createElement("span"),D=n("learnmore"),V=document.getElementById(D)||document.createElement("a"),k=n("preprendIcon"),q=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;f(F),y(V,D);const Z=p();m(q,k),F.append(q,S,V,Z),document.body.appendChild(F)}l?(S.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function YI(){var t;const e=(t=Xf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eN(){try{return typeof indexedDB=="object"}catch{return!1}}function tN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nN,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iN(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Er(a,f,r)}}function iN(t,e){return t.replace(rN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const rN=/\{\$([^}]+)}/g;function sN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(aE(l)&&aE(c)){if(!ma(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aN(t,e){const n=new oN(t,e);return n.subscribe.bind(n)}class oN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ip),a.error===void 0&&(a.error=Ip),a.complete===void 0&&(a.complete=Ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class pa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hN(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(t){return t===sa?void 0:t}function hN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const dN={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},mN=Oe.INFO,pN={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},gN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=pN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=mN,this._logHandler=gN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const yN=(t,e)=>e.some(n=>t instanceof n);let oE,lE;function vN(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wx=new WeakMap,ig=new WeakMap,xx=new WeakMap,Np=new WeakMap,sy=new WeakMap;function TN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ss(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wx.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function EN(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ig.set(t,e)}let rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bN(t){rg=t(rg)}function wN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dp(this),e,...n);return xx.set(r,e.sort?e.sort():[e]),ss(r)}:_N().includes(t)?function(...e){return t.apply(Dp(this),e),ss(wx.get(this))}:function(...e){return ss(t.apply(Dp(this),e))}}function xN(t){return typeof t=="function"?wN(t):(t instanceof IDBTransaction&&EN(t),yN(t,vN())?new Proxy(t,rg):t)}function ss(t){if(t instanceof IDBRequest)return TN(t);if(Np.has(t))return Np.get(t);const e=xN(t);return e!==t&&(Np.set(t,e),sy.set(e,t)),e}const Dp=t=>sy.get(t);function SN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=ss(c);return r&&c.addEventListener("upgradeneeded",m=>{r(ss(c.result),m.oldVersion,m.newVersion,ss(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const AN=["get","getKey","getAll","getAllKeys","count"],RN=["put","add","delete","clear"],Vp=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=RN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||AN.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Vp.set(e,l),l}bN(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",cE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new ry("@firebase/app"),NN="@firebase/app-compat",DN="@firebase/analytics-compat",VN="@firebase/analytics",PN="@firebase/app-check-compat",MN="@firebase/app-check",ON="@firebase/auth",kN="@firebase/auth-compat",LN="@firebase/database",jN="@firebase/data-connect",UN="@firebase/database-compat",BN="@firebase/functions",zN="@firebase/functions-compat",FN="@firebase/installations",HN="@firebase/installations-compat",qN="@firebase/messaging",GN="@firebase/messaging-compat",KN="@firebase/performance",$N="@firebase/performance-compat",YN="@firebase/remote-config",XN="@firebase/remote-config-compat",QN="@firebase/storage",WN="@firebase/storage-compat",ZN="@firebase/firestore",JN="@firebase/ai",eD="@firebase/firestore-compat",tD="firebase",nD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",iD={[sg]:"fire-core",[NN]:"fire-core-compat",[VN]:"fire-analytics",[DN]:"fire-analytics-compat",[MN]:"fire-app-check",[PN]:"fire-app-check-compat",[ON]:"fire-auth",[kN]:"fire-auth-compat",[LN]:"fire-rtdb",[jN]:"fire-data-connect",[UN]:"fire-rtdb-compat",[BN]:"fire-fn",[zN]:"fire-fn-compat",[FN]:"fire-iid",[HN]:"fire-iid-compat",[qN]:"fire-fcm",[GN]:"fire-fcm-compat",[KN]:"fire-perf",[$N]:"fire-perf-compat",[YN]:"fire-rc",[XN]:"fire-rc-compat",[QN]:"fire-gcs",[WN]:"fire-gcs-compat",[ZN]:"fire-fst",[eD]:"fire-fst-compat",[JN]:"fire-vertex","fire-js":"fire-js",[tD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new Map,rD=new Map,og=new Map;function hE(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(og.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(const n of bf.values())hE(n,t);for(const n of rD.values())hE(n,t);return!0}function ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new sc("app","Firebase",sD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=nD;function Sx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw as.create("bad-app-name",{appName:String(a)});if(n||(n=_x()),!n)throw as.create("no-options");const l=bf.get(a);if(l){if(ma(n,l.options)&&ma(r,l.config))return l;throw as.create("duplicate-app",{appName:a})}const c=new fN(a);for(const m of og.values())c.addComponent(m);const f=new aD(n,r,c);return bf.set(a,f),f}function Ax(t=ag){const e=bf.get(t);if(!e&&t===ag&&_x())return Sx();if(!e)throw as.create("no-app",{appName:t});return e}function os(t,e,n){var r;let a=(r=iD[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}Po(new pa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebase-heartbeat-database",lD=1,Hu="firebase-heartbeat-store";let Pp=null;function Rx(){return Pp||(Pp=SN(oD,lD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Pp}async function uD(t){try{const n=(await Rx()).transaction(Hu),r=await n.objectStore(Hu).get(Cx(t));return await n.done,r}catch(e){if(e instanceof Er)pr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function fE(t,e){try{const r=(await Rx()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,Cx(t)),await r.done}catch(n){if(n instanceof Er)pr.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(r.message)}}}function Cx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1024,hD=30;class fD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>hD){const c=pD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dE(),{heartbeatsToSend:r,unsentEntries:a}=dD(this._heartbeatsCache.heartbeats),l=Ef(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return pr.warn(n),""}}}function dE(){return new Date().toISOString().substring(0,10)}function dD(t,e=cD){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),mE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eN()?tN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function mE(t){return Ef(JSON.stringify({version:2,heartbeats:t})).length}function pD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){Po(new pa("platform-logger",e=>new CN(e),"PRIVATE")),Po(new pa("heartbeat",e=>new fD(e),"PRIVATE")),os(sg,cE,t),os(sg,cE,"esm2017"),os("fire-js","")}gD("");function oy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Ix(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yD=Ix,Nx=new sc("auth","Firebase",Ix());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new ry("@firebase/auth");function vD(t,...e){wf.logLevel<=Oe.WARN&&wf.warn(`Auth (${Yo}): ${t}`,...e)}function rf(t,...e){wf.logLevel<=Oe.ERROR&&wf.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw uy(t,...e)}function ii(t,...e){return uy(t,...e)}function ly(t,e,n){const r=Object.assign(Object.assign({},yD()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return ly(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _D(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(t,"argument-error"),ly(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nx.create(t,...e)}function Ee(t,e,...n){if(!t)throw uy(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function gr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TD(){return pE()==="http:"||pE()==="https:"}function pE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TD()||QI()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=$I()||WI()}get(){return ED()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SD=new oc(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function br(t,e,n,r,a={}){return Vx(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=ac(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return XI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&$o(t.emulatorConfig.host)&&(p.credentials="include"),Dx.fetch()(await Px(t,t.config.apiHost,n,f),p)})}async function Vx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wD),e);try{const a=new RD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Gh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Gh(t,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ly(t,y,p);Kn(t,y)}}catch(a){if(a instanceof Er)throw a;Kn(t,"network-request-failed",{message:String(a)})}}async function lc(t,e,n,r,a={}){const l=await br(t,e,n,r,a);return"mfaPendingCredential"in l&&Kn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Px(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?cy(t.config,a):`${t.config.apiScheme}://${a}`;return xD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function AD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),SD.get())})}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ii(t,e,r);return a.customData._tokenResponse=n,a}function gE(t){return t!==void 0&&t.enterprise!==void 0}class CD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ID(t,e){return br(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DD(t,e=!1){const n=an(t),r=await n.getIdToken(e),a=hy(r);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Du(Mp(a.auth_time)),issuedAtTime:Du(Mp(a.iat)),expirationTime:Du(Mp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=yx(n);return a?JSON.parse(a):(rf("Failed to decode base64 JWT payload"),null)}catch(a){return rf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yE(t){const e=hy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&VD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Mo(t,xf(n,{idToken:r}));Ee(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Mx(l.providerUserInfo):[],f=OD(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function MD(t){const e=an(t);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Mx(t){return t.map(e=>{var{providerId:n}=e,r=oy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){const n=await Vx(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Px(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return t.emulatorConfig&&$o(t.emulatorConfig.host)&&(m.credentials="include"),Dx.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LD(t,e){return br(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await kD(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Io;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DD(this,e)}reload(){return MD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Mo(this,ND(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,C=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(f=n.tenantId)!==null&&f!==void 0?f:void 0,V=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,k=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Z,isAnonymous:Q,providerData:ae,stsTokenManager:I}=n;Ee(F&&I,e,"internal-error");const R=Io.fromJSON(this.name,I);Ee(typeof F=="string",e,"internal-error"),Zr(_,e.name),Zr(E,e.name),Ee(typeof Z=="boolean",e,"internal-error"),Ee(typeof Q=="boolean",e,"internal-error"),Zr(C,e.name),Zr(S,e.name),Zr(D,e.name),Zr(V,e.name),Zr(k,e.name),Zr(q,e.name);const N=new ei({uid:F,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:Q,photoURL:S,phoneNumber:C,tenantId:D,stsTokenManager:R,createdAt:k,lastLoginAt:q});return ae&&Array.isArray(ae)&&(N.providerData=ae.map(M=>Object.assign({},M))),V&&(N._redirectEventId=V),N}static async _fromIdTokenResponse(e,n,r=!1){const a=new Io;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Sf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Mx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Io;f.updateFromIdToken(r);const m=new ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function ur(t){gr(t instanceof Function,"Expected a class definition");let e=vE.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ox.type="NONE";const _E=Ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(ur(_E),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ur(_E);const c=sf(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await xf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await ei._fromGetAccountInfoResponse(e,E,y)}else _=ei._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new No(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new No(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if(Fx(e))return"Webos";if(Lx(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kx(t=sn()){return/firefox\//i.test(t)}function Lx(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(t=sn()){return/crios\//i.test(t)}function Ux(t=sn()){return/iemobile/i.test(t)}function Bx(t=sn()){return/android/i.test(t)}function zx(t=sn()){return/blackberry/i.test(t)}function Fx(t=sn()){return/webos/i.test(t)}function fy(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jD(t=sn()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UD(){return ZI()&&document.documentMode===10}function Hx(t=sn()){return fy(t)||Bx(t)||Fx(t)||zx(t)||/windows phone/i.test(t)||Ux(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e=[]){let n;switch(t){case"Browser":n=TE(sn());break;case"Worker":n=`${TE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e={}){return br(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=6;class HD{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:FD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(hr(this));const n=e?an(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zD(this),n=new HD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _s(t){return an(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=aN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(t){Qf=t}function Gx(t){return Qf.loadJS(t)}function KD(){return Qf.recaptchaEnterpriseScript}function $D(){return Qf.gapiScript}function YD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XD{constructor(){this.enterprise=new QD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WD="recaptcha-enterprise",Kx="NO_RECAPTCHA";class ZD{constructor(e){this.type=WD,this.auth=_s(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{ID(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new CD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;gE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Kx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&gE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=KD();m.length!==0&&(m+=f),Gx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function bE(t,e,n,r=!1,a=!1){const l=new ZD(t);let c;if(a)c=Kx;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cg(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await bE(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await bE(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){const n=ay(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ma(l,e??{}))return a;Kn(a,"already-initialized")}return n.initialize({options:e})}function eV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tV(t,e,n){const r=_s(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=$x(e),{host:c,port:f}=nV(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(ma(p,r.config.emulator)&&ma(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,$o(c)?(Ex(`${l}//${c}${m}`),bx("Auth",!0)):iV()}function $x(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nV(t){const e=$x(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:wE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:wE(c)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function rV(t,e){return br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function oV(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends dy{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",sV);case"emailLink":return aV(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",rV);case"emailLink":return oV(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="http://localhost";class ga extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=oy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new ga(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:lV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cV(t){const e=wu(xu(t)).link,n=e?wu(xu(e)).deep_link_id:null,r=wu(xu(t)).deep_link_id;return(r?wu(xu(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,a,l,c,f;const m=wu(xu(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=uV((a=m.mode)!==null&&a!==void 0?a:null);Ee(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=cV(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,n){return qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return Ee(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends uc{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends uc{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends uc{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){return lc(t,"POST","/v1/accounts:signUp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ei._fromIdTokenResponse(e,r,a),c=xE(r);return new ya({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=xE(r);return new ya({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Er{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Af(e,n,r,a)}}function Yx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(t,l,e,r):l})}async function fV(t,e,n=!1){const r=await Mo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(hr(r));const a="reauthenticate";try{const l=await Mo(t,Yx(r,a,e,t),n);Ee(l.idToken,r,"internal-error");const c=hy(l.idToken);Ee(c,r,"internal-error");const{sub:f}=c;return Ee(t.uid===f,r,"user-mismatch"),ya._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e,n=!1){if(In(t.app))return Promise.reject(hr(t));const r="signIn",a=await Yx(t,r,e),l=await ya._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function mV(t,e){return Xx(_s(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t){const e=_s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pV(t,e,n){if(In(t.app))return Promise.reject(hr(t));const r=_s(t),c=await cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Qx(t),m}),f=await ya._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function gV(t,e,n){return In(t.app)?Promise.reject(hr(t)):mV(an(t),Xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=an(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Mo(r,yV(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function _V(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function TV(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function EV(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}function bV(t){return an(t).signOut()}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=1e3,xV=10;class Zx extends Wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);UD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const SV=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jx.type="SESSION";const e1=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await AV(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=gy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function CV(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function IV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DV(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",VV=1,Cf="firebaseLocalStorage",i1="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(t,e){return t.transaction([Cf],e?"readwrite":"readonly").objectStore(Cf)}function PV(){const t=indexedDB.deleteDatabase(n1);return new cc(t).toPromise()}function hg(){const t=indexedDB.open(n1,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cf,{keyPath:i1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cf)?e(r):(r.close(),await PV(),e(await hg()))})})}async function SE(t,e,n){const r=Zf(t,!0).put({[i1]:e,value:n});return new cc(r).toPromise()}async function MV(t,e){const n=Zf(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function AE(t,e){const n=Zf(t,!0).delete(e);return new cc(n).toPromise()}const OV=800,kV=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(DV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IV(),!this.activeServiceWorker)return;this.sender=new RV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await SE(e,Rf,"1"),await AE(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zf(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const LV=r1;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){return e?ur(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jV(t){return Xx(t.auth,new yy(t),t.bypassAuthState)}function UV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),dV(n,new yy(t),t.bypassAuthState)}async function BV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),fV(n,new yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return BV;case"reauthViaPopup":case"reauthViaRedirect":return UV;default:Kn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new oc(2e3,1e4);async function FV(t,e,n){if(In(t.app))return Promise.reject(ii(t,"operation-not-supported-in-this-environment"));const r=_s(t);_D(t,e,py);const a=s1(r,n);return new la(r,"signInViaPopup",e,a).executeNotNull()}class la extends a1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zV.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="pendingRedirect",af=new Map;class qV extends a1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await GV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GV(t,e){const n=YV(e),r=$V(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function KV(t,e){af.set(t._key(),e)}function $V(t){return ur(t._redirectPersistence)}function YV(t){return sf(HV,t.config.apiKey,t.name)}async function XV(t,e,n=!1){if(In(t.app))return Promise.reject(hr(t));const r=_s(t),a=s1(r,e),c=await new qV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=10*60*1e3;class WV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QV&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tP=/^https?/;async function nP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JV(t);for(const n of e)try{if(iP(n))return}catch{}Kn(t,"unauthorized-domain")}function iP(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!tP.test(n))return!1;if(eP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new oc(3e4,6e4);function CE(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sP(t){return new Promise((e,n)=>{var r,a,l;function c(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(ii(t,"network-request-failed"))},timeout:rP.get()})}if(!((a=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ai().gapi)===null||l===void 0)&&l.load)c();else{const f=YD("iframefcb");return Ai()[f]=()=>{gapi.load?c():n(ii(t,"network-request-failed"))},Gx(`${$D()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw of=null,e})}let of=null;function aP(t){return of=of||sP(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new oc(5e3,15e3),lP="__/auth/iframe",uP="emulator/auth/iframe",cP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fP(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cy(e,uP):`https://${t.config.authDomain}/${lP}`,r={apiKey:e.apiKey,appName:t.name,v:Yo},a=hP.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${ac(r).slice(1)}`}async function dP(t){const e=await aP(t),n=Ai().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:fP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ii(t,"network-request-failed"),f=Ai().setTimeout(()=>{l(c)},oP.get());function m(){Ai().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pP=500,gP=600,yP="_blank",vP="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _P(t,e,n,r=pP,a=gP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},mP),{width:r.toString(),height:a.toString(),top:l,left:c}),p=sn().toLowerCase();n&&(f=jx(p)?yP:n),kx(p)&&(e=e||vP,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,S])=>`${E}${C}=${S},`,"");if(jD(p)&&f!=="_self")return TP(e||"",f),new IE(null);const _=window.open(e||"",f,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function TP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="__/auth/handler",bP="emulator/auth/handler",wP=encodeURIComponent("fac");async function NE(t,e,n,r,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:a};if(e instanceof py){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",sN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof uc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${wP}=${encodeURIComponent(m)}`:"";return`${xP(t)}?${ac(f).slice(1)}${p}`}function xP({config:t}){return t.emulator?cy(t,bP):`https://${t.authDomain}/${EP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class SP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=XV,this._overrideRedirectResult=KV}async _openPopup(e,n,r,a){var l;gr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await NE(e,n,r,lg(),a);return _P(e,c,gy())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await NE(e,n,r,lg(),a);return CV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(gr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dP(e),r=new WV(e);return n.register("authEvent",a=>(Ee(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Op];c!==void 0&&n(!!c),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hx()||Lx()||fy()}}const AP=SP;var DE="@firebase/auth",VE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(t){Po(new pa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qx(t)},p=new qD(r,a,l,m);return eV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new pa("auth-internal",e=>{const n=_s(e.getProvider("auth").getImmediate());return(r=>new RP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(DE,VE,CP(t)),os(DE,VE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=5*60,DP=Tx("authIdTokenMaxAge")||NP;let PE=null;const VP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DP)return;const a=n==null?void 0:n.token;PE!==a&&(PE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PP(t=Ax()){const e=ay(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JD(t,{popupRedirectResolver:AP,persistence:[LV,SV,e1]}),r=Tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=VP(l.toString());TV(n,c,()=>c(n.currentUser)),_V(n,f=>c(f))}}const a=vx("auth");return a&&tV(n,`http://${a}`),n}function MP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=ii("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",MP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,l1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.D=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(M,B,H){for(var O=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)O[Tt-2]=arguments[Tt];return R.prototype[B].apply(M,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,N){N||(N=0);var M=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)M[B]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(B=0;16>B;++B)M[B]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],B=I.g[2];var H=I.g[3],O=R+(H^N&(B^H))+M[0]+3614090360&4294967295;R=N+(O<<7&4294967295|O>>>25),O=H+(B^R&(N^B))+M[1]+3905402710&4294967295,H=R+(O<<12&4294967295|O>>>20),O=B+(N^H&(R^N))+M[2]+606105819&4294967295,B=H+(O<<17&4294967295|O>>>15),O=N+(R^B&(H^R))+M[3]+3250441966&4294967295,N=B+(O<<22&4294967295|O>>>10),O=R+(H^N&(B^H))+M[4]+4118548399&4294967295,R=N+(O<<7&4294967295|O>>>25),O=H+(B^R&(N^B))+M[5]+1200080426&4294967295,H=R+(O<<12&4294967295|O>>>20),O=B+(N^H&(R^N))+M[6]+2821735955&4294967295,B=H+(O<<17&4294967295|O>>>15),O=N+(R^B&(H^R))+M[7]+4249261313&4294967295,N=B+(O<<22&4294967295|O>>>10),O=R+(H^N&(B^H))+M[8]+1770035416&4294967295,R=N+(O<<7&4294967295|O>>>25),O=H+(B^R&(N^B))+M[9]+2336552879&4294967295,H=R+(O<<12&4294967295|O>>>20),O=B+(N^H&(R^N))+M[10]+4294925233&4294967295,B=H+(O<<17&4294967295|O>>>15),O=N+(R^B&(H^R))+M[11]+2304563134&4294967295,N=B+(O<<22&4294967295|O>>>10),O=R+(H^N&(B^H))+M[12]+1804603682&4294967295,R=N+(O<<7&4294967295|O>>>25),O=H+(B^R&(N^B))+M[13]+4254626195&4294967295,H=R+(O<<12&4294967295|O>>>20),O=B+(N^H&(R^N))+M[14]+2792965006&4294967295,B=H+(O<<17&4294967295|O>>>15),O=N+(R^B&(H^R))+M[15]+1236535329&4294967295,N=B+(O<<22&4294967295|O>>>10),O=R+(B^H&(N^B))+M[1]+4129170786&4294967295,R=N+(O<<5&4294967295|O>>>27),O=H+(N^B&(R^N))+M[6]+3225465664&4294967295,H=R+(O<<9&4294967295|O>>>23),O=B+(R^N&(H^R))+M[11]+643717713&4294967295,B=H+(O<<14&4294967295|O>>>18),O=N+(H^R&(B^H))+M[0]+3921069994&4294967295,N=B+(O<<20&4294967295|O>>>12),O=R+(B^H&(N^B))+M[5]+3593408605&4294967295,R=N+(O<<5&4294967295|O>>>27),O=H+(N^B&(R^N))+M[10]+38016083&4294967295,H=R+(O<<9&4294967295|O>>>23),O=B+(R^N&(H^R))+M[15]+3634488961&4294967295,B=H+(O<<14&4294967295|O>>>18),O=N+(H^R&(B^H))+M[4]+3889429448&4294967295,N=B+(O<<20&4294967295|O>>>12),O=R+(B^H&(N^B))+M[9]+568446438&4294967295,R=N+(O<<5&4294967295|O>>>27),O=H+(N^B&(R^N))+M[14]+3275163606&4294967295,H=R+(O<<9&4294967295|O>>>23),O=B+(R^N&(H^R))+M[3]+4107603335&4294967295,B=H+(O<<14&4294967295|O>>>18),O=N+(H^R&(B^H))+M[8]+1163531501&4294967295,N=B+(O<<20&4294967295|O>>>12),O=R+(B^H&(N^B))+M[13]+2850285829&4294967295,R=N+(O<<5&4294967295|O>>>27),O=H+(N^B&(R^N))+M[2]+4243563512&4294967295,H=R+(O<<9&4294967295|O>>>23),O=B+(R^N&(H^R))+M[7]+1735328473&4294967295,B=H+(O<<14&4294967295|O>>>18),O=N+(H^R&(B^H))+M[12]+2368359562&4294967295,N=B+(O<<20&4294967295|O>>>12),O=R+(N^B^H)+M[5]+4294588738&4294967295,R=N+(O<<4&4294967295|O>>>28),O=H+(R^N^B)+M[8]+2272392833&4294967295,H=R+(O<<11&4294967295|O>>>21),O=B+(H^R^N)+M[11]+1839030562&4294967295,B=H+(O<<16&4294967295|O>>>16),O=N+(B^H^R)+M[14]+4259657740&4294967295,N=B+(O<<23&4294967295|O>>>9),O=R+(N^B^H)+M[1]+2763975236&4294967295,R=N+(O<<4&4294967295|O>>>28),O=H+(R^N^B)+M[4]+1272893353&4294967295,H=R+(O<<11&4294967295|O>>>21),O=B+(H^R^N)+M[7]+4139469664&4294967295,B=H+(O<<16&4294967295|O>>>16),O=N+(B^H^R)+M[10]+3200236656&4294967295,N=B+(O<<23&4294967295|O>>>9),O=R+(N^B^H)+M[13]+681279174&4294967295,R=N+(O<<4&4294967295|O>>>28),O=H+(R^N^B)+M[0]+3936430074&4294967295,H=R+(O<<11&4294967295|O>>>21),O=B+(H^R^N)+M[3]+3572445317&4294967295,B=H+(O<<16&4294967295|O>>>16),O=N+(B^H^R)+M[6]+76029189&4294967295,N=B+(O<<23&4294967295|O>>>9),O=R+(N^B^H)+M[9]+3654602809&4294967295,R=N+(O<<4&4294967295|O>>>28),O=H+(R^N^B)+M[12]+3873151461&4294967295,H=R+(O<<11&4294967295|O>>>21),O=B+(H^R^N)+M[15]+530742520&4294967295,B=H+(O<<16&4294967295|O>>>16),O=N+(B^H^R)+M[2]+3299628645&4294967295,N=B+(O<<23&4294967295|O>>>9),O=R+(B^(N|~H))+M[0]+4096336452&4294967295,R=N+(O<<6&4294967295|O>>>26),O=H+(N^(R|~B))+M[7]+1126891415&4294967295,H=R+(O<<10&4294967295|O>>>22),O=B+(R^(H|~N))+M[14]+2878612391&4294967295,B=H+(O<<15&4294967295|O>>>17),O=N+(H^(B|~R))+M[5]+4237533241&4294967295,N=B+(O<<21&4294967295|O>>>11),O=R+(B^(N|~H))+M[12]+1700485571&4294967295,R=N+(O<<6&4294967295|O>>>26),O=H+(N^(R|~B))+M[3]+2399980690&4294967295,H=R+(O<<10&4294967295|O>>>22),O=B+(R^(H|~N))+M[10]+4293915773&4294967295,B=H+(O<<15&4294967295|O>>>17),O=N+(H^(B|~R))+M[1]+2240044497&4294967295,N=B+(O<<21&4294967295|O>>>11),O=R+(B^(N|~H))+M[8]+1873313359&4294967295,R=N+(O<<6&4294967295|O>>>26),O=H+(N^(R|~B))+M[15]+4264355552&4294967295,H=R+(O<<10&4294967295|O>>>22),O=B+(R^(H|~N))+M[6]+2734768916&4294967295,B=H+(O<<15&4294967295|O>>>17),O=N+(H^(B|~R))+M[13]+1309151649&4294967295,N=B+(O<<21&4294967295|O>>>11),O=R+(B^(N|~H))+M[4]+4149444226&4294967295,R=N+(O<<6&4294967295|O>>>26),O=H+(N^(R|~B))+M[11]+3174756917&4294967295,H=R+(O<<10&4294967295|O>>>22),O=B+(R^(H|~N))+M[2]+718787259&4294967295,B=H+(O<<15&4294967295|O>>>17),O=N+(H^(B|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(B+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var N=R-this.blockSize,M=this.B,B=this.h,H=0;H<R;){if(B==0)for(;H<=N;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<R;)if(M[B++]=I.charCodeAt(H++),B==this.blockSize){a(this,M),B=0;break}}else for(;H<R;)if(M[B++]=I[H++],B==this.blockSize){a(this,M),B=0;break}}this.h=B,this.o+=R},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var N=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=N&255,N/=256;for(this.u(I),I=Array(16),R=N=0;4>R;++R)for(var M=0;32>M;M+=8)I[N++]=this.g[R]>>>M&255;return I};function l(I,R){var N=f;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function c(I,R){this.h=R;for(var N=[],M=!0,B=I.length-1;0<=B;B--){var H=I[B]|0;M&&H==R||(N[B]=H,M=!1)}this.g=N}var f={};function m(I){return-128<=I&&128>I?l(I,function(R){return new c([R|0],0>R?-1:0)}):new c([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return V(p(-I));for(var R=[],N=1,M=0;I>=N;M++)R[M]=I/N|0,N*=4294967296;return new c(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return V(y(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(R,8)),M=_,B=0;B<I.length;B+=8){var H=Math.min(8,I.length-B),O=parseInt(I.substring(B,B+H),R);8>H?(H=p(Math.pow(R,H)),M=M.j(H).add(p(O))):(M=M.j(N),M=M.add(p(O)))}return M}var _=m(0),E=m(1),C=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-V(this).m();for(var I=0,R=1,N=0;N<this.g.length;N++){var M=this.i(N);I+=(0<=M?M:4294967296+M)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(D(this))return"-"+V(this).toString(I);for(var R=p(Math.pow(I,6)),N=this,M="";;){var B=Z(N,R).g;N=k(N,B.j(R));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=B,S(N))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=k(this,I),D(I)?-1:S(I)?0:1};function V(I){for(var R=I.g.length,N=[],M=0;M<R;M++)N[M]=~I.g[M];return new c(N,~I.h).add(E)}t.abs=function(){return D(this)?V(this):this},t.add=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0,B=0;B<=R;B++){var H=M+(this.i(B)&65535)+(I.i(B)&65535),O=(H>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);M=O>>>16,H&=65535,O&=65535,N[B]=O<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function k(I,R){return I.add(V(R))}t.j=function(I){if(S(this)||S(I))return _;if(D(this))return D(I)?V(this).j(V(I)):V(V(this).j(I));if(D(I))return V(this.j(V(I)));if(0>this.l(C)&&0>I.l(C))return p(this.m()*I.m());for(var R=this.g.length+I.g.length,N=[],M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<I.g.length;B++){var H=this.i(M)>>>16,O=this.i(M)&65535,Tt=I.i(B)>>>16,ot=I.i(B)&65535;N[2*M+2*B]+=O*ot,q(N,2*M+2*B),N[2*M+2*B+1]+=H*ot,q(N,2*M+2*B+1),N[2*M+2*B+1]+=O*Tt,q(N,2*M+2*B+1),N[2*M+2*B+2]+=H*Tt,q(N,2*M+2*B+2)}for(M=0;M<R;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=R;M<2*R;M++)N[M]=0;return new c(N,0)};function q(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function F(I,R){this.g=I,this.h=R}function Z(I,R){if(S(R))throw Error("division by zero");if(S(I))return new F(_,_);if(D(I))return R=Z(V(I),R),new F(V(R.g),V(R.h));if(D(R))return R=Z(I,V(R)),new F(V(R.g),R.h);if(30<I.g.length){if(D(I)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var N=E,M=R;0>=M.l(I);)N=Q(N),M=Q(M);var B=ae(N,1),H=ae(M,1);for(M=ae(M,2),N=ae(N,2);!S(M);){var O=H.add(M);0>=O.l(I)&&(B=B.add(N),H=O),M=ae(M,1),N=ae(N,1)}return R=k(I,B.j(R)),new F(B,R)}for(B=_;0<=I.l(R);){for(N=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=p(N),O=H.j(R);D(O)||0<O.l(I);)N-=M,H=p(N),O=H.j(R);S(H)&&(H=E),B=B.add(H),I=k(I,O)}return new F(B,I)}t.A=function(I){return Z(this,I).h},t.and=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)&I.i(M);return new c(N,this.h&I.h)},t.or=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)|I.i(M);return new c(N,this.h|I.h)},t.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)^I.i(M);return new c(N,this.h^I.h)};function Q(I){for(var R=I.g.length+1,N=[],M=0;M<R;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(N,I.h)}function ae(I,R){var N=R>>5;R%=32;for(var M=I.g.length-N,B=[],H=0;H<M;H++)B[H]=0<R?I.i(H+N)>>>R|I.i(H+N+1)<<32-R:I.i(H+N);return new c(B,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ls=c}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Su,c1,lf,fg,h1,f1,d1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,A=!1,G={next:function(){if(!A&&T<h.length){var W=T++;return{value:v(W,h[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function C(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function S(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,G,W){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return v.prototype[G].apply(A,ce)}}function D(h){const v=h.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function V(h,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const G=h.length||0,W=A.length||0;h.length=G+W;for(let ce=0;ce<W;ce++)h[G+ce]=A[ce]}else h.push(A)}}class k{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function I(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let W=0;W<N.length;W++)T=N[W],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function B(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function H(h){f.setTimeout(()=>{throw h},0)}function O(){var h=Le;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,T){const A=ot.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new k(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,Le=new Tt,L=()=>{const h=f.Promise.resolve(void 0);le=()=>{h.then(oe)}};var oe=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(T){H(T)}var v=ot;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}de=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function De(h,v){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Q){e:{try{Z(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}S(De,ue);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),tt=0;function li(h,v,T,A,G){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=G,this.key=++tt,this.da=this.fa=!1}function wr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oi(h){this.src=h,this.g={},this.h=0}Oi.prototype.add=function(h,v,T,A,G){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ce=bs(h,v,A,G);return-1<ce?(v=h[ce],T||(v.fa=!1)):(v=new li(v,this.src,W,!!A,G),v.fa=T,h.push(v)),v};function Es(h,v){var T=v.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,v,void 0),W;(W=0<=G)&&Array.prototype.splice.call(A,G,1),W&&(wr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function bs(h,v,T,A){for(var G=0;G<h.length;++G){var W=h[G];if(!W.da&&W.listener==v&&W.capture==!!T&&W.ha==A)return G}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),al={};function Tc(h,v,T,A,G){if(Array.isArray(v)){for(var W=0;W<v.length;W++)Tc(h,v[W],T,A,G);return null}return T=Ec(T),h&&h[Ot]?h.K(v,T,p(A)?!!A.capture:!1,G):Nn(h,v,T,!1,A,G)}function Nn(h,v,T,A,G,W){if(!v)throw Error("Invalid event type");var ce=p(G)?!!G.capture:!!G,je=Aa(h);if(je||(h[ws]=je=new Oi(h)),T=je.add(v,T,A,ce,W),T.proxy)return T;if(A=Ed(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)ve||(G=ce),G===void 0&&(G=!1),h.addEventListener(v.toString(),A,G);else if(h.attachEvent)h.attachEvent(xs(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ed(){function h(T){return v.call(h.src,h.listener,T)}const v=bd;return h}function ol(h,v,T,A,G){if(Array.isArray(v))for(var W=0;W<v.length;W++)ol(h,v[W],T,A,G);else A=p(A)?!!A.capture:!!A,T=Ec(T),h&&h[Ot]?(h=h.i,v=String(v).toString(),v in h.g&&(W=h.g[v],T=bs(W,T,A,G),-1<T&&(wr(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete h.g[v],h.h--)))):h&&(h=Aa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=bs(v,T,A,G)),(T=-1<h?v[h]:null)&&Sa(T))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ot])Es(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(xs(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Aa(v))?(Es(T,h),T.h==0&&(T.src=null,v[ws]=null)):wr(h)}}}function xs(h){return h in al?al[h]:al[h]="on"+h}function bd(h,v){if(h.da)h=!0;else{v=new De(v,this);var T=h.listener,A=h.ha||h.src;h.fa&&Sa(h),h=T.call(A,v)}return h}function Aa(h){return h=h[ws],h instanceof Oi?h:null}var ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(v){return h.handleEvent(v)}),h[ll])}function ht(){he.call(this),this.i=new Oi(this),this.M=this,this.F=null}S(ht,he),ht.prototype[Ot]=!0,ht.prototype.removeEventListener=function(h,v,T,A){ol(this,h,v,T,A)};function Ke(h,v){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ue(v,h);else if(v instanceof ue)v.target=v.target||h;else{var G=v;v=new ue(A,h),M(v,G)}if(G=!0,T)for(var W=T.length-1;0<=W;W--){var ce=v.g=T[W];G=_n(ce,A,!0,v)&&G}if(ce=v.g=h,G=_n(ce,A,!0,v)&&G,G=_n(ce,A,!1,v)&&G,T)for(W=0;W<T.length;W++)ce=v.g=T[W],G=_n(ce,A,!1,v)&&G}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],A=0;A<T.length;A++)wr(T[A]);delete h.g[v],h.h--}}this.F=null},ht.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},ht.prototype.L=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function _n(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,W=0;W<v.length;++W){var ce=v[W];if(ce&&!ce.da&&ce.capture==T){var je=ce.listener,It=ce.ha||ce.src;ce.fa&&Es(h.i,ce),G=je.call(It,A)!==!1&&G}}return G&&!A.defaultPrevented}function Wt(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function bc(h){h.g=Wt(()=>{h.g=null,h.i&&(h.i=!1,bc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class wd extends he{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(h){he.call(this),this.h=h,this.g={}}S(Ss,he);var As=[];function Rs(h){ae(h.g,function(v,T){this.g.hasOwnProperty(T)&&Sa(v)},h),h.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),Rs(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=f.JSON.stringify,Ra=f.JSON.parse,Cs=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function cl(h){return h.h||(h.h=h.i())}function hl(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ue.call(this,"d")}S(Li,ue);function fl(){ue.call(this,"c")}S(fl,ue);var ui={},dl=null;function xr(){return dl=dl||new ht}ui.La="serverreachability";function Ca(h){ue.call(this,ui.La,h)}S(Ca,ue);function Sr(h){const v=xr();Ke(v,new Ca(v))}ui.STAT_EVENT="statevent";function wc(h,v){ue.call(this,ui.STAT_EVENT,h),this.stat=v}S(wc,ue);function rt(h){const v=xr();Ke(v,new wc(v,h))}ui.Ma="timingevent";function Ct(h,v){ue.call(this,ui.Ma,h),this.size=v}S(Ct,ue);function Et(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function ml(h,v,T,A,G,W){h.info(function(){if(h.g)if(W)for(var ce="",je=W.split("&"),It=0;It<je.length;It++){var Ue=je[It].split("=");if(1<Ue.length){var Lt=Ue[0];Ue=Ue[1];var Nt=Lt.split("_");ce=2<=Nt.length&&Nt[1]=="type"?ce+(Lt+"="+Ue+"&"):ce+(Lt+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+T+`
`+ce})}function xd(h,v,T,A,G,W,ce){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+T+`
`+W+" "+ce})}function Ar(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Is(h,T)+(A?" "+A:"")})}function xc(h,v){h.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function Is(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return $n(T)}catch{return v}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}S(hi,ul),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function on(h,v,T,A){this.j=h,this.i=v,this.l=T,this.R=A||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var pl={},Ia={};function Yn(h,v,T){h.L=1,h.v=Ms(Tn(v)),h.m=T,h.P=!0,Ui(h,null)}function Ui(h,v){h.F=Date.now(),Ns(h),h.A=Tn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),El(T.i,"t",A),h.C=0,T=h.j.J,h.h=new pt,h.g=Bc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new wd(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,A=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(As[0]=G.toString()),G=As);for(var W=0;W<G.length;W++){var ce=Tc(T,G[W],A||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Sr(),ml(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&On(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)e:{const Nt=On(this.g);var v=this.g.Ba();const $i=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=$i?Sr(3):Sr(2)),Cr(this);var T=this.g.Z();this.X=T;t:if(Sc(this)){var A=Vc(this.g);h="";var G=A.length,W=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),fi(this);var ce="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(W&&v==G-1)});A.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,xd(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var je,It=this.g;if((je=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(je)){var Ue=je;break t}}Ue=null}if(T=Ue)Ar(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,T);else{this.o=!1,this.s=3,rt(12),Ht(this),fi(this);break e}}if(this.P){T=!0;let qt;for(;!this.J&&this.C<ce.length;)if(qt=Ac(this,ce),qt==Ia){Nt==4&&(this.s=4,rt(14),T=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==pl){this.s=4,rt(15),Ar(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else Ar(this.i,this.l,qt,null),Ds(this,qt);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ce.length!=0||this.h.h||(this.s=1,rt(16),T=!1),this.o=this.o&&T,!T)Ar(this.i,this.l,ce,"[Invalid Chunked Response]"),Ht(this),fi(this);else if(0<ce.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Fs(Lt),Lt.M=!0,rt(11))}}else Ar(this.i,this.l,ce,null),Ds(this,ce);Nt==4&&Ht(this),this.o&&!this.J&&(Nt==4?Lc(this.j,this):(this.o=!1,Ns(this)))}else Id(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ht(this),fi(this)}}}catch{}finally{}};function Sc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ac(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?Ia:(T=Number(v.substring(T,A)),isNaN(T)?pl:(A+=1,A+T>v.length?Ia:(v=v.slice(A,A+T),h.C=A+T,v)))}on.prototype.cancel=function(){this.J=!0,Ht(this)};function Ns(h){h.S=Date.now()+h.I,Rc(h,h.I)}function Rc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Et(E(h.ba,h),v)}function Cr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(xc(this.i,this.A),this.L!=2&&(Sr(),rt(17)),Ht(this),this.s=2,fi(this)):Rc(this,this.S-h)};function fi(h){h.j.G==0||h.J||Lc(h.j,h)}function Ht(h){Cr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Rs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ds(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||gl(T.h,h))){if(!h.K&&gl(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)za(T),Ua(T);else break e;Al(T),rt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Et(E(T.Za,T),6e3));if(1>=Da(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ki(T,11)}else if((h.K||T.g==h)&&za(T),!q(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Ue=G[v];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const Lt=Ue[3];Lt!=null&&(T.la=Lt,T.j.info("VER="+T.la));const Nt=Ue[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const $i=Ue[5];$i!=null&&typeof $i=="number"&&0<$i&&(A=1.5*$i,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const qt=h.g;if(qt){const _i=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var W=A.h;W.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Va(W,W.h),W.h=null))}if(A.D){const Cl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,Xe(A.I,A.D,Cl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ce=h;if(A.qa=Uc(A,A.J?A.ia:null,A.W),ce.K){ln(A.h,ce);var je=ce,It=A.L;It&&(je.I=It),je.B&&(Cr(je),Ns(je)),A.g=ce}else Oc(A);0<T.i.length&&Ba(T)}else Ue[0]!="stop"&&Ue[0]!="close"||Ki(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ki(T,7):xl(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Sr(4)}catch{}}var Cc=class{constructor(h,v){this.g=h,this.map=v}};function Bi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Da(h){return h.h?1:h.g?h.g.size:0}function gl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Va(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bi.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return D(h.i)}function Sd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,A=0;A<T;A++)v.push(h[A]);return v}v=[],T=0;for(A in h)v[T++]=h[A];return v}function Pa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const A in h)v[T++]=A;return v}}}function vl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Pa(h),A=Sd(h),G=A.length,W=0;W<G;W++)v.call(void 0,A[W],T&&T[W],h)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),G=null;if(0<=A){var W=h[T].substring(0,A);G=h[T].substring(A+1)}else W=h[T];v(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function bt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bt){this.h=h.h,Ps(this,h.j),this.o=h.o,this.g=h.g,Ir(this,h.s),this.l=h.l;var v=h.i,T=new Fi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),zi(this,T),this.m=h.m}else h&&(v=String(h).match(Vs))?(this.h=!1,Ps(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Ir(this,v[4]),this.l=Vn(v[5]||"",!0),zi(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}bt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Os(v,_l,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Os(v,_l,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Os(T,T.charAt(0)=="/"?Rd:Tl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Os(T,Ma)),h.join("")};function Tn(h){return new bt(h)}function Ps(h,v,T){h.j=T?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ir(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function zi(h,v,T){v instanceof Fi?(h.i=v,Nc(h.i,h.h)):(T||(v=Os(v,Cd)),h.i=new Fi(v,h.h))}function Xe(h,v,T){h.i.set(v,T)}function Ms(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Os(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Ic),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ic(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _l=/[#\/\?@]/g,Tl=/[#\?:]/g,Rd=/[#\?]/g,Cd=/[#\?@]/g,Ma=/#/g;function Fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ad(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Fi.prototype,t.add=function(h,v){Pn(this),this.i=null,h=di(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Hi(h,v){Pn(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qi(h,v){return Pn(h),v=di(h,v),h.g.has(v)}t.forEach=function(h,v){Pn(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(v,G,A,this)},this)},this)},t.na=function(){Pn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const G=h[A];for(let W=0;W<G.length;W++)T.push(v[A])}return T},t.V=function(h){Pn(this);let v=[];if(typeof h=="string")qi(this,h)&&(v=v.concat(this.g.get(di(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return Pn(this),this.i=null,h=di(this,h),qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function El(h,v,T){Hi(h,v),0<T.length&&(h.i=null,h.g.set(di(h,v),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const W=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var G=W;ce[A]!==""&&(G+="="+encodeURIComponent(String(ce[A]))),h.push(G)}}return this.i=h.join("&")};function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Nc(h,v){v&&!h.j&&(Pn(h),h.i=null,h.g.forEach(function(T,A){var G=A.toLowerCase();A!=G&&(Hi(this,A),El(this,G,T))},h)),h.j=v}function ks(h,v){const T=new Dn;if(f.Image){const A=new Image;A.onload=C(Mn,T,"TestLoadImage: loaded",!0,v,A),A.onerror=C(Mn,T,"TestLoadImage: error",!1,v,A),A.onabort=C(Mn,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=C(Mn,T,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Xn(h,v){const T=new Dn,A=new AbortController,G=setTimeout(()=>{A.abort(),Mn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(G),W.ok?Mn(T,"TestPingServer: ok",!0,v):Mn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Mn(T,"TestPingServer: error",!1,v)})}function Mn(h,v,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Ls(){this.g=new Cs}function mi(h,v,T){const A=T||"";try{vl(h,function(G,W){let ce=G;p(G)&&(ce=$n(G)),v.push(A+W+"="+encodeURIComponent(ce))})}catch(G){throw v.push(A+"type="+encodeURIComponent("_badmap")),G}}function Nr(h){this.l=h.Ub||null,this.j=h.eb||!1}S(Nr,ul),Nr.prototype.g=function(){return new Gi(this.l,this.j)},Nr.prototype.i=function(h){return function(){return h}}({});function Gi(h,v){ht.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Gi,ht),t=Gi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?pi(this):gi(this),this.readyState==3&&bl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},t.Qa=function(h){this.g&&(this.response=h,pi(this))},t.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wl(h){let v="";return ae(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function kt(h,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=wl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xe(h,v,T))}function qe(h){ht.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(qe,ht);var Oa=/^https?$/i,js=["POST","PUT"];t=qe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?cl(this.o):cl(ci),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Dc(this,W);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())T.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(js,v,void 0))||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of T)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Dc(this,W)}};function Dc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ka(h),yi(h)}function ka(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},t.bb=function(){La(this)};function La(h){if(h.h&&typeof c<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)Wt(h.Ea,0,h);else if(Ke(h,"readystatechange"),On(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ce===0){var G=String(h.D).match(Vs)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),A=!Oa.test(G?G.toLowerCase():"")}T=A}if(T)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var W=2<On(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",ka(h)}}finally{yi(h)}}}}function yi(h,v){if(h.g){Us(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ke(h,"ready");try{T.onreadystatechange=A}catch{}}}function Us(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ra(v)}};function Vc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Id(h){const v={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(q(h[A]))continue;var T=B(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=v[G]||[];v[G]=W,W.push(T)}I(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function ja(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,h),this.cb=Bs("retryDelaySeedMs",1e4,h),this.Wa=Bs("forwardChannelMaxRetries",2,h),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Ls,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ja.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,A){rt(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Uc(this,null,this.W),Ba(this)};function xl(h){if(Pc(h),h.G==3){var v=h.U++,T=Tn(h.I);if(Xe(T,"SID",h.K),Xe(T,"RID",v),Xe(T,"TYPE","terminate"),zs(h,T),v=new on(h,h.j,v),v.L=2,v.v=Ms(Tn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Bc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ns(v)}jc(h)}function Ua(h){h.g&&(Fs(h),h.g.cancel(),h.g=null)}function Pc(h){Ua(h),h.u&&(f.clearTimeout(h.u),h.u=null),za(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ba(h){if(!Na(h.h)&&!h.s){h.s=!0;var v=h.Ga;le||L(),de||(le(),de=!0),Le.add(v,h),h.B=0}}function Nd(h,v){return Da(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Et(E(h.Ga,h,v),Rl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new on(this,this.j,h);let W=this.o;if(this.S&&(W?(W=R(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Mc(this,G,v),T=Tn(this.I),Xe(T,"RID",h),Xe(T,"CVER",22),this.D&&Xe(T,"X-HTTP-Session-Id",this.D),zs(this,T),W&&(this.O?v="headers="+encodeURIComponent(String(wl(W)))+"&"+v:this.m&&kt(T,this.m,W)),Va(this.h,G),this.Ua&&Xe(T,"TYPE","init"),this.P?(Xe(T,"$req",v),Xe(T,"SID","null"),G.T=!0,Yn(G,T,null)):Yn(G,T,v),this.G=2}}else this.G==3&&(h?Sl(this,h):this.i.length==0||Na(this.h)||Sl(this))};function Sl(h,v){var T;v?T=v.l:T=h.U++;const A=Tn(h.I);Xe(A,"SID",h.K),Xe(A,"RID",T),Xe(A,"AID",h.T),zs(h,A),h.m&&h.o&&kt(A,h.m,h.o),T=new on(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Mc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,T),Yn(T,A,v)}function zs(h,v){h.H&&ae(h.H,function(T,A){Xe(v,A,T)}),h.l&&vl({},function(T,A){Xe(v,A,T)})}function Mc(h,v,T){T=Math.min(h.i.length,T);var A=h.l?E(h.l.Na,h.l,h):null;e:{var G=h.i;let W=-1;for(;;){const ce=["count="+T];W==-1?0<T?(W=G[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let je=!0;for(let It=0;It<T;It++){let Ue=G[It].g;const Lt=G[It].map;if(Ue-=W,0>Ue)W=Math.max(0,G[It].g-100),je=!1;else try{mi(Lt,ce,"req"+Ue+"_")}catch{A&&A(Lt)}}if(je){A=ce.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,A}function Oc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;le||L(),de||(le(),de=!0),Le.add(v,h),h.v=0}}function Al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Et(E(h.Fa,h),Rl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Et(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ua(this),kc(this))};function Fs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function kc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Tn(h.qa);Xe(v,"RID","rpc"),Xe(v,"SID",h.K),Xe(v,"AID",h.T),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(v,"TO",h.ja),Xe(v,"TYPE","xmlhttp"),zs(h,v),h.m&&h.o&&kt(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ms(Tn(v)),T.m=null,T.P=!0,Ui(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),Al(this),rt(19))};function za(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Lc(h,v){var T=null;if(h.g==v){za(h),Fs(h),h.g=null;var A=2}else if(gl(h.h,v))T=v.D,ln(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;A=xr(),Ke(A,new Ct(A,T)),Ba(h)}else Oc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(A==1&&Nd(h,v)||A==2&&Al(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),G){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Rl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ki(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),A=h.Xa;const G=!A;A=new bt(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ps(A,"https"),Ms(A),G?ks(A.toString(),T):Xn(A.toString(),T)}else rt(2);h.G=0,h.l&&h.l.sa(v),jc(h),Pc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function jc(h){if(h.G=0,h.ka=[],h.l){const v=yl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ka,v),V(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Uc(h,v,T){var A=T instanceof bt?Tn(T):new bt(T);if(A.g!="")v&&(A.g=v+"."+A.g),Ir(A,A.s);else{var G=f.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var W=new bt(null);A&&Ps(W,A),v&&(W.g=v),G&&Ir(W,G),T&&(W.l=T),A=W}return T=h.D,v=h.ya,T&&v&&Xe(A,T,v),Xe(A,"VER",h.la),zs(h,A),A}function Bc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qe(new Nr({eb:T})):new qe(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}t=zc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fa(){}Fa.prototype.g=function(h,v){return new un(h,v)};function un(h,v){ht.call(this),this.g=new ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vi(this)}S(un,ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){xl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=$n(h),h=T);v.i.push(new Cc(v.Ya++,h)),v.G==3&&Ba(v)},un.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,un.aa.N.call(this)};function Fc(h){Li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}S(Fc,Li);function Hc(){fl.call(this),this.status=1}S(Hc,fl);function vi(h){this.g=h}S(vi,zc),vi.prototype.ua=function(){Ke(this.g,"a")},vi.prototype.ta=function(h){Ke(this.g,new Fc(h))},vi.prototype.sa=function(h){Ke(this.g,new Hc)},vi.prototype.ra=function(){Ke(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,d1=function(){return new Fa},f1=function(){return xr()},h1=ui,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,lf=Rr,ji.COMPLETE="complete",c1=ji,hl.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Su=hl,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,u1=qe}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",kE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new ry("@firebase/firestore");function vo(){return va.logLevel}function fe(t,...e){if(va.logLevel<=Oe.DEBUG){const n=e.map(vy);va.debug(`Firestore (${Qo}): ${t}`,...n)}}function yr(t,...e){if(va.logLevel<=Oe.ERROR){const n=e.map(vy);va.error(`Firestore (${Qo}): ${t}`,...n)}}function Oo(t,...e){if(va.logLevel<=Oe.WARN){const n=e.map(vy);va.warn(`Firestore (${Qo}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m1(t,r,n)}function m1(t,e,n){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yr(r),new Error(r)}function Ge(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||m1(e,a,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class kP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LP{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new p1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class jP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=zP(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function dg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Ne(r,a);{const l=g1(),c=FP(l.encode(jE(t,n)),l.encode(jE(e,n)));return c!==0?c:Ne(r,a)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function jE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function FP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function ko(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,BE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Pt(0,0))}static max(){return new Ae(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Si.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ne(e.length,n.length)}static compareSegments(e,n){const r=Si.isNumericId(e),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(e).compare(Si.extractNumericId(n)):dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class it extends Si{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new it(n)}static emptyPath(){return new it([])}}const HP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Si{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return HP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new Xt([zE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function qP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new cs(a,ye.empty(),e)}function GP(t){return new cs(t.readTime,t.key,Gu)}class cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(Ae.min(),ye.empty(),Gu)}static max(){return new cs(Ae.max(),ye.empty(),Gu)}}function KP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==$P)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(a=>a?re.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new re((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,n){return new re((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function XP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function ed(t){return t==null}function If(t){return t===0&&1/t==-1/0}function QP(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="";function WP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=ZP(t.get(n),e);return FE(e)}function ZP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case v1:n+="";break;default:n+=l}}return n}function FE(t){return t+v1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=a??Yt.EMPTY,this.right=l??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Yt(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Mt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T1("Invalid base64 string: "+l):l}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=JP.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="server_timestamp",b1="__type__",w1="__previous_value__",x1="__local_write_time__";function Ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||n===void 0?void 0:n.stringValue)===E1}function td(t){const e=t.mapValue.fields[w1];return Ty(e)?td(e):e}function Ku(t){const e=hs(t.mapValue.fields[x1].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Nf="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||Nf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",t4="__max__",Yh={mapValue:{}},A1="__vector__",Df="value";function ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:i4(t)?9007199254740991:n4(t)?10:11:be(28295,{value:t})}function Vi(t,e){if(t===e)return!0;const n=ds(t);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hs(a.timestampValue),f=hs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return fs(a.bytesValue).isEqual(fs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return _t(a.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _t(a.integerValue)===_t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_t(a.doubleValue),f=_t(l.doubleValue);return c===f?If(c)===If(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(HE(c)!==HE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Vi(c[m],f[m])))return!1;return!0}(t,e);default:return be(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(n=>Vi(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=ds(t),r=ds(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=_t(l.integerValue||l.doubleValue),m=_t(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(Ku(t),Ku(e));case 5:return dg(t.stringValue,e.stringValue);case 6:return function(l,c){const f=fs(l),m=fs(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ne(f[p],m[p]);if(y!==0)return y}return Ne(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ne(_t(l.latitude),_t(c.latitude));return f!==0?f:Ne(_t(l.longitude),_t(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},C=(f=_[Df])===null||f===void 0?void 0:f.arrayValue,S=(m=E[Df])===null||m===void 0?void 0:m.arrayValue,D=Ne(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:KE(C,S)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Yh.mapValue&&c===Yh.mapValue)return 0;if(l===Yh.mapValue)return 1;if(c===Yh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=dg(m[_],y[_]);if(E!==0)return E;const C=Lo(f[m[_]],p[y[_]]);if(C!==0)return C}return Ne(m.length,y.length)}(t.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=hs(t),r=hs(e),a=Ne(n.seconds,r.seconds);return a!==0?a:Ne(n.nanos,r.nanos)}function KE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Lo(n[a],r[a]);if(l)return l}return Ne(n.length,r.length)}function jo(t){return mg(t)}function mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=mg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${mg(n.fields[c])}`;return a+"}"}(t.mapValue):be(61005,{value:t})}function uf(t){switch(ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=td(t);return e?16+uf(e):16;case 5:return 2*t.stringValue.length;case 6:return fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+uf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Ea(r.fields,(l,c)=>{a+=l.length+uf(c)}),a}(t.mapValue);default:throw be(13486,{value:t})}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pg(t){return!!t&&"integerValue"in t}function Ey(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function XE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function n4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[S1])===null||n===void 0?void 0:n.stringValue)===A1}function Vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function i4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(n)}setAll(e){let n=Xt.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Vu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Gn(Vu(this.value))}}function R1(t){const e=[];return Ea(t.fields,(n,r)=>{const a=new Xt([n]);if(cf(r)){const l=R1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,a){return new nn(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.position=e,this.inclusive=n}}function QE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(c.referenceValue),n.key):r=Lo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function r4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Rt extends C1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a4(e,n,r):n==="array-contains"?new u4(e,r):n==="in"?new c4(e,r):n==="not-in"?new h4(e,r):n==="array-contains-any"?new f4(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o4(e,r):new l4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends C1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new si(e,n)}matches(e){return I1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function I1(t){return t.op==="and"}function N1(t){return s4(t)&&I1(t)}function s4(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function gg(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(N1(t))return t.filters.map(e=>gg(e)).join(",");{const e=t.filters.map(n=>gg(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof Rt?function(r,a){return a instanceof Rt&&r.op===a.op&&r.field.isEqual(a.field)&&Vi(r.value,a.value)}(t,e):t instanceof si?function(r,a){return a instanceof si&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&D1(c,a.filters[f]),!0):!1}(t,e):void be(19439)}function V1(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"}(t):"Filter"}class a4 extends Rt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class o4 extends Rt{constructor(e,n){super(e,"in",n),this.keys=P1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class l4 extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=P1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function P1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class u4 extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ey(n)&&Yu(n.arrayValue,this.value)}}class c4 extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class h4 extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class f4 extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function ZE(t,e=null,n=[],r=[],a=null,l=null,c=null){return new d4(t,e,n,r,a,l,c)}function by(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.Ie=n}return e.Ie}function wy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WE(t.startAt,e.startAt)&&WE(t.endAt,e.endAt)}function yg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function m4(t,e,n,r,a,l,c,f){return new hc(t,e,n,r,a,l,c,f)}function xy(t){return new hc(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M1(t){return t.collectionGroup!==null}function Pu(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Mt(Xt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Pf(l,r))}),n.has(Xt.keyField().canonicalString())||e.Ee.push(new Pf(Xt.keyField(),r))}return e.Ee}function Ri(t){const e=Re(t);return e.de||(e.de=p4(e,Pu(t))),e.de}function p4(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Pf(a.field,l)});const n=t.endAt?new Vf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vf(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e){const n=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _g(t,e,n){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nd(t,e){return wy(Ri(t),Ri(e))&&t.limitType===e.limitType}function O1(t){return`${by(Ri(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>V1(a)).join(", ")}]`),ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>jo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>jo(a)).join(",")),`Target(${r})`}(Ri(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of Pu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=QE(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Pu(r),a)||r.endAt&&!function(c,f,m){const p=QE(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Pu(r),a))}(t,e)}function g4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k1(t){return(e,n)=>{let r=!1;for(const a of Pu(t)){const l=y4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function y4(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Lo(m,p):be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new ct(ye.comparator);function vr(){return v4}const L1=new ct(ye.comparator);function Au(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function j1(t){let e=L1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ua(){return Mu()}function U1(){return Mu()}function Mu(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const _4=new ct(ye.comparator),T4=new Mt(ye.comparator);function ke(...t){let e=T4;for(const n of t)e=e.add(n);return e}const E4=new Mt(Ne);function b4(){return E4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function B1(t){return{integerValue:""+t}}function w4(t,e){return QP(e)?B1(e):Sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof Mf?function(a,l){const c={fields:{[b1]:{stringValue:E1},[x1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ty(l)&&(l=td(l)),l&&(c.fields[w1]=l),{mapValue:c}}(n,e):t instanceof Xu?F1(t,e):t instanceof Qu?H1(t,e):function(a,l){const c=z1(a,l),f=eb(c)+eb(a.Re);return pg(c)&&pg(a.Re)?B1(f):Sy(a.serializer,f)}(t,e)}function S4(t,e,n){return t instanceof Xu?F1(t,e):t instanceof Qu?H1(t,e):n}function z1(t,e){return t instanceof Of?function(r){return pg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Mf extends rd{}class Xu extends rd{constructor(e){super(),this.elements=e}}function F1(t,e){const n=q1(e);for(const r of t.elements)n.some(a=>Vi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends rd{constructor(e){super(),this.elements=e}}function H1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(a=>!Vi(a,r));return{arrayValue:{values:n}}}class Of extends rd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function eb(t){return _t(t.integerValue||t.doubleValue)}function q1(t){return Ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A4(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Xu&&a instanceof Xu||r instanceof Qu&&a instanceof Qu?ko(r.elements,a.elements,Vi):r instanceof Of&&a instanceof Of?Vi(r.Re,a.Re):r instanceof Mf&&a instanceof Mf}(t.transform,e.transform)}class R4{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sd{}function G1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $1(t.key,dr.none()):new fc(t.key,t.data,dr.none());{const n=t.data,r=Gn.empty();let a=new Mt(Xt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new wa(t.key,r,new ti(a.toArray()),dr.none())}}function C4(t,e,n){t instanceof fc?function(a,l,c){const f=a.value.clone(),m=nb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(a,l,c){if(!hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=nb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(K1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,r){return t instanceof fc?function(l,c,f,m){if(!hf(l.precondition,c))return f;const p=l.value.clone(),y=ib(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(l,c,f,m){if(!hf(l.precondition,c))return f;const p=ib(l.fieldTransforms,m,c),y=c.data;return y.setAll(K1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,f){return hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function I4(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=z1(r.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,l))}return n||null}function tb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ko(r,a,(l,c)=>A4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fc extends sd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wa extends sd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function K1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nb(t,e,n){const r=new Map;Ge(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,S4(c,f,n[a]))}return r}function ib(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,x4(l,c,e))}return r}class $1 extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N4 extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&C4(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=G1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>tb(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>tb(n,r))}}class Ay{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return _4}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ay(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function M4(t){switch(t){case se.OK:return be(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function Y1(t){if(t===void 0)return yr("GRPC error has no .code"),se.UNKNOWN;switch(t){case St.OK:return se.OK;case St.CANCELLED:return se.CANCELLED;case St.UNKNOWN:return se.UNKNOWN;case St.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case St.INTERNAL:return se.INTERNAL;case St.UNAVAILABLE:return se.UNAVAILABLE;case St.UNAUTHENTICATED:return se.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case St.NOT_FOUND:return se.NOT_FOUND;case St.ALREADY_EXISTS:return se.ALREADY_EXISTS;case St.PERMISSION_DENIED:return se.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case St.ABORTED:return se.ABORTED;case St.OUT_OF_RANGE:return se.OUT_OF_RANGE;case St.UNIMPLEMENTED:return se.UNIMPLEMENTED;case St.DATA_LOSS:return se.DATA_LOSS;default:return be(39323,{code:t})}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new ls([4294967295,4294967295],0);function rb(t){const e=g1().encode(t),n=new l1;return n.update(e),new Uint8Array(n.digest())}function sb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ls([n,r],0),new ls([a,l],0)]}class Ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ls.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(ls.fromNumber(r)));return a.compare(O4)===1&&(a=new ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=rb(e),[r,a]=sb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ry(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const n=rb(e),[r,a]=sb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(Ae.min(),a,new ct(Ne),vr(),ke())}}class dc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dc(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class X1{constructor(e,n){this.targetId=e,this.Ce=n}}class Q1{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ab{constructor(){this.Fe=0,this.Me=ob(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),r=ke();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}}),new dc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ob()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class k4{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new ct(Ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(yg(l))if(r===0){const c=new ye(l.path);this.tt(n,c,nn.newNoDocument(c,Ae.min()))}else Ge(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=fs(r).toUint8Array()}catch(m){if(m instanceof T1)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ry(c,a,l)}catch(m){return Oo(m instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&yg(f.target)){const m=new ye(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,nn.newNoDocument(m,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=ke();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new ad(e,n,this.Ze,this.He,r);return this.He=vr(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new ct(Ne),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new ab,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mt(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mt(Ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ab),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new ct(ye.comparator)}function ob(){return new ct(ye.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U4={and:"AND",or:"OR"};class B4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z4(t,e){return kf(t,e.toTimestamp())}function Ci(t){return Ge(!!t,49232),Ae.fromTimestamp(function(n){const r=hs(n);return new Pt(r.seconds,r.nanos)}(t))}function Cy(t,e){return Eg(t,e).canonicalString()}function Eg(t,e){const n=function(a){return new it(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z1(t){const e=it.fromString(t);return Ge(iS(e),10190,{key:e.toString()}),e}function bg(t,e){return Cy(t.databaseId,e.path)}function kp(t,e){const n=Z1(e);if(n.get(1)!==t.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(eS(n))}function J1(t,e){return Cy(t.databaseId,e)}function F4(t){const e=Z1(t);return e.length===4?it.emptyPath():eS(e)}function wg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lb(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function H4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ge(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?se.UNKNOWN:Y1(p.code);return new me(y,p.message||"")}(c);n=new Q1(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=kp(t,r.document.name),l=Ci(r.document.updateTime),c=r.document.createTime?Ci(r.document.createTime):Ae.min(),f=new Gn({mapValue:{fields:r.document.fields}}),m=nn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new ff(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=kp(t,r.document),l=r.readTime?Ci(r.readTime):Ae.min(),c=nn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new ff([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=kp(t,r.document),l=r.removedTargetIds||[];n=new ff([],l,a,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new P4(a,l),f=r.targetId;n=new X1(f,c)}}return n}function q4(t,e){let n;if(e instanceof fc)n={update:lb(t,e.key,e.value)};else if(e instanceof $1)n={delete:bg(t,e.key)};else if(e instanceof wa)n={update:lb(t,e.key,e.data),updateMask:J4(e.fieldMask)};else{if(!(e instanceof N4))return be(16599,{ft:e.type});n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Of)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw be(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:z4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)}(t,e.precondition)),n}function G4(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(Ae.min())&&(c=Ci(l)),new R4(c,a.transformResults||[])}(n,e))):[]}function K4(t,e){return{documents:[J1(t,e.path)]}}function $4(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=J1(t,a);const l=function(p){if(p.length!==0)return nS(si.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:To(E.field),direction:Q4(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Tg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function Y4(t){let e=F4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ge(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=tS(_);return E instanceof si&&N1(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(S){return new Pf(Eo(S.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,ed(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,C=_.values||[];return new Vf(C,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,C=_.values||[];return new Vf(C,E)}(n.endAt)),m4(e,a,c,l,f,"F",m,p)}function X4(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Eo(n.unaryFilter.field);return Rt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return Rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return Rt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Eo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(r=>tS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(t):be(30097,{filter:t})}function Q4(t){return L4[t]}function W4(t){return j4[t]}function Z4(t){return U4[t]}function To(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Xt.fromServerFormat(t.fieldPath)}function nS(t){return t instanceof Rt?function(n){if(n.op==="=="){if(XE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:W4(n.op),value:n.value}}}(t):t instanceof si?function(n){const r=n.getFilters().map(a=>nS(a));return r.length===1?r[0]:{compositeFilter:{op:Z4(n.op),filters:r}}}(t):be(54877,{filter:t})}function J4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,a,l=Ae.min(),c=Ae.min(),f=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.wt=e}}function tM(t){const e=Y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Cn=new iM}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(cs.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class iM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Mt(it.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rS=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(rS,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Uo(0)}static lr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LruGarbageCollector",rM=1048576;function hb([t,e],[n,r]){const a=Ne(t,n);return a===0?Ne(e,r):a}class sM{constructor(e){this.Er=e,this.buffer=new Mt(hb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(cb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?fe(cb,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.mr(3e5)})}}class oM{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Jf.le);const r=new sM(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ub)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),vo()<=Oe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function lM(t,e){return new oM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Ou(r.mutation,a,ti.empty(),Pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const a=ua();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=Au();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,r,a){let l=vr();const c=Mu(),f=function(){return Mu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof wa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ou(y.mutation,p,y.mutation.getFieldMask(),Pt.now())):c.set(p.key,ti.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new cM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Mu();let a=new ct((c,f)=>c-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||ti.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||ke()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=U1();y.forEach(E=>{if(!l.has(E)){const C=G1(n.get(E),r.get(E));C!==null&&_.set(E,C),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):re.resolve(ua());let f=Gu,m=l;return c.next(p=>re.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ke())).next(y=>({batchId:f,changes:j1(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let a=Au();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next(f=>re.forEach(f,m=>{const p=function(_,E){return new hc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,nn.newInvalidDocument(y)))});let f=Au();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Ou(y.mutation,p,ti.empty(),Pt.now()),id(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:tM(a.bundledQuery),readTime:Ci(a.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.overlays=new ct(ye.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return re.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.St(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const a=ua(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new ct((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ua(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ua(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return re.resolve(f)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new V4(n,r));let l=this.Qr.get(n);l===void 0&&(l=ke(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.$r=new Mt(Ft.Ur),this.Kr=new Mt(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ft(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ye(new it([])),r=new Ft(n,e),a=new Ft(n,e+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new it([])),r=new Ft(n,e),a=new Ft(n,e+1);let l=ke();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Ft(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Ne(e.Zr,n.Zr)}static Wr(e,n){return Ne(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Mt(Ft.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new D4(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new Ft(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_y:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),a=new Ft(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const f=this.ei(c.Zr);l.push(f)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ne);return n.forEach(a=>{const l=new Ft(a,0),c=new Ft(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{r=r.add(f.Zr)})}),re.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new ye(l),0);let f=new Mt(Ne);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),re.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return re.forEach(n.mutations,a=>{const l=new Ft(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ft(n,0),a=this.Xr.firstAfterOrEqual(r);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.ii=e,this.docs=function(){return new ct(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=vr();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||KP(GP(y),r)<=0||(a.has(y.key)||id(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,a){be(9500)}si(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yM(this)}getSize(e){return re.resolve(this.size)}}class yM extends uM{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.persistence=e,this.oi=new ba(n=>by(n),wy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Iy,this.targetCount=0,this.ui=Uo.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.ci={},this.overlays={},this.li=new Jf(0),this.hi=!1,this.hi=!0,this.Pi=new mM,this.referenceDelegate=e(this),this.Ti=new vM(this),this.indexManager=new nM,this.remoteDocumentCache=function(a){return new gM(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new eM(n),this.Ei=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new pM(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new _M(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return re.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class _M extends YP{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Vi=new Iy,this.mi=null}static fi(e){return new Ny(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,r=>{const a=ye.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Lf{constructor(e,n){this.persistence=e,this.yi=new ba(r=>WP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=lM(this,n)}static fi(e,n){return new Lf(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?re.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,n).next(f=>{f||(r++,l.removeEntry(c,Ae.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uf(e.data.value)),n}Dr(e,n,r){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return re.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=ke(),a=ke();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JI()?8:XP(sn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new TM;return this.Ss(e,n,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,n,c,f.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(vo()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(vo()<=Oe.DEBUG&&fe("QueryEngine","Query:",_o(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(vo()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):re.resolve())}ws(e,n){if(JE(n))return re.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=_g(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=ke(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.vs(n,f);return this.Cs(n,p,c,m.readTime)?this.ws(e,_g(n,null,"F")):this.Fs(e,p,n,m)}))})))}bs(e,n,r,a){return JE(n)||a.isEqual(Ae.min())?re.resolve(null):this.ys.getDocuments(e,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?re.resolve(null):(vo()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_o(n)),this.Fs(e,c,n,qP(a,Gu)).next(f=>f))})}vs(e,n){let r=new Mt(k1(e));return n.forEach((a,l)=>{id(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return vo()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ys.getDocumentsMatchingQuery(e,n,cs.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",bM=3e8;class wM{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new ct(Ne),this.Os=new ba(l=>by(l),wy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function xM(t,e,n,r){return new wM(t,e,n,r)}async function aS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=ke();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function SM(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let C=re.resolve();return E.forEach(S=>{C=C.next(()=>y.getEntry(m,S)).next(D=>{const V=p.docVersions.get(S);Ge(V!==null,48541),D.version.compareTo(V)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=ke();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function oS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function AM(t,e){const n=Re(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),a=a.insert(_,C),function(D,V,k){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=bM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(E,C,y)&&f.push(n.Ti.updateTargetData(l,C))});let m=vr(),p=ke();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(RM(l,c,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(Ae.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return re.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function RM(t,e,n){let r=ke(),a=ke();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=vr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(Vy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function CM(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_y),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IM(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,re.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new rs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function xg(t,e,n){const r=Re(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Zo(c))throw c;fe(Vy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function fb(t,e,n){const r=Re(t);let a=Ae.min(),l=ke();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Re(m),E=_.Os.get(y);return E!==void 0?re.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(r,c,Ri(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:ke())).next(f=>(NM(r,g4(e),f),{documents:f,$s:l})))}function NM(t,e,n){let r=t.Ns.get(e)||Ae.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class db{constructor(){this.activeTargetIds=b4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DM{constructor(){this.xo=new db,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="ConnectivityMonitor";class pb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(mb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function Sg(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",PM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Nf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const c=Sg(),f=this.jo(e,n.toUriEncodedString());fe(Lp,`Sending RPC '${e}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),y=$o(p);return this.Jo(e,f,m,r,y).then(_=>(fe(Lp,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Oo(Lp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,a,l,c){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=PM[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class kM extends MM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=Sg();return new Promise((f,m)=>{const p=new u1;p.setWithCredentials(!0),p.listenOnce(c1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lf.NO_ERROR:const _=p.getResponseJson();fe(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case lf.TIMEOUT:fe(en,`RPC '${e}' ${c} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const E=p.getStatus();if(fe(en,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const S=C==null?void 0:C.error;if(S&&S.status&&S.message){const D=function(k){const q=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN}(S.status);m(new me(D,S.message))}else m(new me(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{fe(en,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);fe(en,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}I_(e,n,r){const a=Sg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=d1(),f=f1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");fe(en,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let E=!1,C=!1;const S=new OM({Zo:V=>{C?fe(en,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(fe(en,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),fe(en,`RPC '${e}' stream ${a} sending:`,V),_.send(V))},Xo:()=>_.close()}),D=(V,k,q)=>{V.listen(k,F=>{try{q(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(_,Su.EventType.OPEN,()=>{C||(fe(en,`RPC '${e}' stream ${a} transport opened.`),S.__())}),D(_,Su.EventType.CLOSE,()=>{C||(C=!0,fe(en,`RPC '${e}' stream ${a} transport closed`),S.u_(),this.d_(_))}),D(_,Su.EventType.ERROR,V=>{C||(C=!0,Oo(en,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),S.u_(new me(se.UNAVAILABLE,"The operation could not be completed")))}),D(_,Su.EventType.MESSAGE,V=>{var k;if(!C){const q=V.data[0];Ge(!!q,16349);const F=q,Z=(F==null?void 0:F.error)||((k=F[0])===null||k===void 0?void 0:k.error);if(Z){fe(en,`RPC '${e}' stream ${a} received error:`,Z);const Q=Z.status;let ae=function(N){const M=St[N];if(M!==void 0)return Y1(M)}(Q),I=Z.message;ae===void 0&&(ae=se.INTERNAL,I="Unknown error status: "+Q+" with message "+Z.message),C=!0,S.u_(new me(ae,I)),_.close()}else fe(en,`RPC '${e}' stream ${a} received:`,q),S.c_(q)}}),D(f,h1.STAT_EVENT,V=>{V.stat===fg.PROXY?fe(en,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===fg.NOPROXY&&fe(en,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){return new B4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="PersistentStream";class uS{constructor(e,n,r,a,l,c,f,m){this.xi=e,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new me(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends uS{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=H4(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Ci(c.readTime):Ae.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=wg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=yg(m)?{documents:K4(l,m)}:{query:$4(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=W1(l,c.resumeToken);const p=Tg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=kf(l,c.snapshotVersion.toTimestamp());const p=Tg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=X4(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=wg(this.serializer),n.removeTarget=e,this.Q_(n)}}class jM extends uS{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=G4(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=wg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>q4(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{}class BM extends UM{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Eg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,Eg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(yr(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class FM{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{r.enqueueAndForget(async()=>{xa(this)&&(fe(_a,"Restarting streams for network reachability change."),await async function(m){const p=Re(m);p.da.add(4),await mc(p),p.Va.set("Unknown"),p.da.delete(4),await ld(p)}(this))})}),this.Va=new zM(r,a)}}async function ld(t){if(xa(t))for(const e of t.Aa)await e(!0)}async function mc(t){for(const e of t.Aa)await e(!1)}function cS(t,e){const n=Re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ky(n)?Oy(n):Jo(n).N_()&&My(n,e))}function Py(t,e){const n=Re(t),r=Jo(n);n.Ea.delete(e),r.N_()&&hS(n,e),n.Ea.size===0&&(r.N_()?r.k_():xa(n)&&n.Va.set("Unknown"))}function My(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).Z_(e)}function hS(t,e){t.ma.Ke(e),Jo(t).X_(e)}function Oy(t){t.ma=new k4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.Va.ca()}function ky(t){return xa(t)&&!Jo(t).O_()&&t.Ea.size>0}function xa(t){return Re(t).da.size===0}function fS(t){t.ma=void 0}async function HM(t){t.Va.set("Online")}async function qM(t){t.Ea.forEach((e,n)=>{My(t,e)})}async function GM(t,e){fS(t),ky(t)?(t.Va.Pa(e),Oy(t)):t.Va.set("Unknown")}async function KM(t,e,n){if(t.Va.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(t,e)}catch(r){fe(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(t,r)}else if(e instanceof ff?t.ma.Xe(e):e instanceof X1?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ae.min()))try{const r=await oS(t.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),hS(l,m);const _=new rs(y.target,m,p,y.sequenceNumber);My(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){fe(_a,"Failed to raise snapshot:",r),await jf(t,r)}}async function jf(t,e,n){if(!Zo(e))throw e;t.da.add(1),await mc(t),t.Va.set("Offline"),n||(n=()=>oS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(_a,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ld(t)})}function dS(t,e){return e().catch(n=>jf(t,n,e))}async function ud(t){const e=Re(t),n=ms(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:_y;for(;$M(e);)try{const a=await CM(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,YM(e,a)}catch(a){await jf(e,a)}mS(e)&&pS(e)}function $M(t){return xa(t)&&t.Ia.length<10}function YM(t,e){t.Ia.push(e);const n=ms(t);n.N_()&&n.ea&&n.ta(e.mutations)}function mS(t){return xa(t)&&!ms(t).O_()&&t.Ia.length>0}function pS(t){ms(t).start()}async function XM(t){ms(t).ia()}async function QM(t){const e=ms(t);for(const n of t.Ia)e.ta(n.mutations)}async function WM(t,e,n){const r=t.Ia.shift(),a=Ay.from(r,e,n);await dS(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await ud(t)}async function ZM(t,e){e&&ms(t).ea&&await async function(r,a){if(function(c){return M4(c)&&c!==se.ABORTED}(a.code)){const l=r.Ia.shift();ms(r).L_(),await dS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ud(r)}}(t,e),mS(t)&&pS(t)}async function yb(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(_a,"RemoteStore received new credentials");const r=xa(n);n.da.add(3),await mc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ld(n)}async function JM(t,e){const n=Re(t);e?(n.da.delete(2),await ld(n)):e||(n.da.add(2),await mc(n),n.Va.set("Unknown"))}function Jo(t){return t.fa||(t.fa=function(n,r,a){const l=Re(n);return l.oa(),new LM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:HM.bind(null,t),n_:qM.bind(null,t),i_:GM.bind(null,t),Y_:KM.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),ky(t)?Oy(t):t.Va.set("Unknown")):(await t.fa.stop(),fS(t))})),t.fa}function ms(t){return t.ga||(t.ga=function(n,r,a){const l=Re(n);return l.oa(),new jM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:XM.bind(null,t),i_:ZM.bind(null,t),na:QM.bind(null,t),ra:WM.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await ud(t)):(await t.ga.stop(),t.Ia.length>0&&(fe(_a,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new Ly(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(yr("AsyncQueue",`${e}: ${t}`),Zo(t))return new me(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.pa=new ct(ye.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Bo(e,n,Vo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class tO{constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Re(n),l=a.queries;a.queries=_b(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(r)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function _b(){return new ba(t=>O1(t),nd)}async function gS(t,e){const n=Re(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Da()&&e.va()&&(r=2):(l=new eO,r=e.va()?0:1);try{switch(r){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=jy(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&Uy(n)}async function yS(t,e){const n=Re(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nO(t,e){const n=Re(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(r=!0);c.ba=a}}r&&Uy(n)}function iO(t,e,n){const r=Re(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function Uy(t){t.Ca.forEach(e=>{e.next()})}var Ag,Tb;(Tb=Ag||(Ag={})).xa="default",Tb.Cache="cache";class vS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.key=e}}class TS{constructor(e){this.key=e}}class rO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.Za=k1(e),this.Xa=new Vo(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new vb,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),C=id(this.query,_)?_:null,S=!!E&&this.mutatedKeys.has(E.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;E&&C?E.data.isEqual(C.data)?S!==D&&(r.track({type:3,doc:C}),V=!0):this.ru(E,C)||(r.track({type:2,doc:C}),V=!0,(m&&this.Za(C,m)>0||p&&this.Za(C,p)<0)&&(f=!0)):!E&&C?(r.track({type:0,doc:C}),V=!0):E&&!C&&(r.track({type:1,doc:E}),V=!0,(m||p)&&(f=!0)),V&&(C?(c=c.add(C),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Xa:c,nu:r,Cs:f,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,_)=>function(C,S){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:V})}};return D(C)-D(S)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const f=n&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Bo(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new TS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new _S(r))}),n}au(e){this.Ha=e.$s,this.Ya=ke();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const By="SyncEngine";class sO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aO{constructor(e){this.key=e,this.cu=!1}}class oO{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ba(f=>O1(f),nd),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(ye.comparator),this.Eu=new Map,this.du=new Iy,this.Au={},this.Ru=new Map,this.Vu=Uo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function lO(t,e,n=!0){const r=AS(t);let a;const l=r.hu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await ES(r,e,n,!0),a}async function uO(t,e){const n=AS(t);await ES(n,e,!0,!1)}async function ES(t,e,n,r){const a=await IM(t.localStore,Ri(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await cO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&cS(t.remoteStore,a),f}async function cO(t,e,n,r,a){t.fu=(_,E,C)=>async function(D,V,k,q){let F=V.view.tu(k);F.Cs&&(F=await fb(D.localStore,V.query,!1).then(({documents:I})=>V.view.tu(I,F)));const Z=q&&q.targetChanges.get(V.targetId),Q=q&&q.targetMismatches.get(V.targetId)!=null,ae=V.view.applyChanges(F,D.isPrimaryClient,Z,Q);return bb(D,V.targetId,ae.ou),ae.snapshot}(t,_,E,C);const l=await fb(t.localStore,e,!0),c=new rO(e,l.$s),f=c.tu(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);bb(t,n,p.ou);const y=new sO(e,n,c);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function hO(t,e,n){const r=Re(t),a=r.hu.get(e),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(c=>!nd(c,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await xg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Py(r.remoteStore,a.targetId),Rg(r,a.targetId)}).catch(Wo)):(Rg(r,a.targetId),await xg(r.localStore,a.targetId,!0))}async function fO(t,e){const n=Re(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Py(n.remoteStore,r.targetId))}async function dO(t,e,n){const r=TO(t);try{const a=await function(c,f){const m=Re(c),p=Pt.now(),y=f.reduce((C,S)=>C.add(S.key),ke());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let S=vr(),D=ke();return m.Bs.getEntries(C,y).next(V=>{S=V,S.forEach((k,q)=>{q.isValidDocument()||(D=D.add(k))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,S)).next(V=>{_=V;const k=[];for(const q of f){const F=I4(q,_.get(q.key).overlayedDocument);F!=null&&k.push(new wa(q.key,F,R1(F.value.mapValue),dr.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,k,f)}).next(V=>{E=V;const k=V.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(C,V.batchId,k)})}).then(()=>({batchId:E.batchId,changes:j1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new ct(Ne)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(r,a.batchId,n),await pc(r,a.changes),await ud(r.remoteStore)}catch(a){const l=jy(a,"Failed to persist write");n.reject(l)}}async function bS(t,e){const n=Re(t);try{const r=await AM(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Eu.get(l);c&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?Ge(c.cu,14607):a.removedDocuments.size>0&&(Ge(c.cu,42227),c.cu=!1))}),await pc(n,r,e)}catch(r){await Wo(r)}}function Eb(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(p=!0)}),p&&Uy(m)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mO(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),l=a&&a.key;if(l){let c=new ct(ye.comparator);c=c.insert(l,nn.newNoDocument(l,Ae.min()));const f=ke().add(l),m=new ad(Ae.min(),new Map,new ct(Ne),c,f);await bS(r,m),r.Iu=r.Iu.remove(l),r.Eu.delete(e),zy(r)}else await xg(r.localStore,e,!1).then(()=>Rg(r,e,n)).catch(Wo)}async function pO(t,e){const n=Re(t),r=e.batch.batchId;try{const a=await SM(n.localStore,e);xS(n,r,null),wS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pc(n,a)}catch(a){await Wo(a)}}async function gO(t,e,n){const r=Re(t);try{const a=await function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Ge(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,e);xS(r,e,n),wS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pc(r,a)}catch(a){await Wo(a)}}function wS(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function xS(t,e,n){const r=Re(t);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||SS(t,r)})}function SS(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Py(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),zy(t))}function bb(t,e,n){for(const r of n)r instanceof _S?(t.du.addReference(r.key,e),yO(t,r)):r instanceof TS?(fe(By,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||SS(t,r.key)):be(19791,{pu:r})}function yO(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(fe(By,"New document in limbo: "+n),t.Tu.add(r),zy(t))}function zy(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ye(it.fromString(e)),r=t.Vu.next();t.Eu.set(r,new aO(n)),t.Iu=t.Iu.insert(n,r),cS(t.remoteStore,new rs(Ri(xy(n.path)),r,"TargetPurposeLimboResolution",Jf.le))}}async function pc(t,e,n){const r=Re(t),a=[],l=[],c=[];r.hu.isEmpty()||(r.hu.forEach((f,m)=>{c.push(r.fu(m,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Dy.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.lu.Y_(a),await async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,E=>re.forEach(E.ds,C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C)).next(()=>re.forEach(E.As,C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))}catch(_){if(!Zo(_))throw _;fe(Vy,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const C=y.xs.get(E),S=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(S);y.xs=y.xs.insert(E,D)}}}(r.localStore,l))}async function vO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(By,"User change. New user:",e.toKey());const r=await aS(n.localStore,e);n.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new me(se.CANCELLED,c))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pc(n,r.ks)}}function _O(t,e){const n=Re(t),r=n.Eu.get(e);if(r&&r.cu)return ke().add(r.key);{let a=ke();const l=n.Pu.get(e);if(!l)return a;for(const c of l){const f=n.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function AS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mO.bind(null,e),e.lu.Y_=nO.bind(null,e.eventManager),e.lu.gu=iO.bind(null,e.eventManager),e}function TO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gO.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return xM(this.persistence,new EM,e.initialUser,this.serializer)}Su(e){return new sS(Ny.fi,this.serializer)}bu(e){return new DM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class EO extends Uf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ge(this.persistence.referenceDelegate instanceof Lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aM(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new sS(r=>Lf.fi(r,n),this.serializer)}}class Cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await JM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tO}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),r=function(l){return new kM(l)}(e.databaseInfo);return function(l,c,f,m){return new BM(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,f){return new FM(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Eb(this.syncEngine,n,0),function(){return pb.C()?new pb:new VM}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const _=new oO(a,l,c,f,m,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Re(a);fe(_a,"RemoteStore shutting down."),l.da.add(5),await mc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class bO{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=tn.UNAUTHENTICATED,this.clientId=y1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{fe(ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(fe(ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Up(t,e){t.asyncQueue.verifyOperationInProgress(),fe(ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await aS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wO(t);fe(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>yb(e.remoteStore,a)),t._onlineComponents=e}async function wO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(ps,"Using user provided OfflineComponentProvider");try{await Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Up(t,new Uf)}}else fe(ps,"Using default OfflineComponentProvider"),await Up(t,new EO(void 0));return t._offlineComponents}async function CS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(ps,"Using user provided OnlineComponentProvider"),await wb(t,t._uninitializedComponentsProvider._online)):(fe(ps,"Using default OnlineComponentProvider"),await wb(t,new Cg))),t._onlineComponents}function xO(t){return CS(t).then(e=>e.syncEngine)}async function IS(t){const e=await CS(t),n=e.eventManager;return n.onListen=lO.bind(null,e.syncEngine),n.onUnlisten=hO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fO.bind(null,e.syncEngine),n}function SO(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new RS({next:E=>{y.xu(),c.enqueueAndForget(()=>yS(l,_));const C=E.docs.has(f);!C&&E.fromCache?p.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new vS(xy(f.path),y,{includeMetadataChanges:!0,Qa:!0});return gS(l,_)}(await IS(t),t.asyncQueue,e,n,r)),r.promise}function AO(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new RS({next:E=>{y.xu(),c.enqueueAndForget(()=>yS(l,_)),E.fromCache&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new vS(f,y,{includeMetadataChanges:!0,Qa:!0});return gS(l,_)}(await IS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RO(t,e,n,r){if(e===!0&&r===!0)throw new me(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sb(t){if(!ye.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ab(t){if(ye.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cd(t);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firestore.googleapis.com",Rb=!0;class Cb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=Rb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Rb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rM)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OP;switch(r.type){case"firstParty":return new UP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xb.get(n);r&&(fe("ComponentProvider","Removing Datastore"),xb.delete(n),r.terminate())}(this),Promise.resolve()}}function CO(t,e,n,r={}){var a;t=Ta(t,hd);const l=$o(e),c=t._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&(Ex(`https://${m}`),bx("Firestore",!0)),c.host!==VS&&c.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!ma(p,f)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=tn.MOCK_USER;else{y=qI(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(E)}t._authCredentials=new kP(new p1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new el(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class us extends el{constructor(e,n,r){super(e,n,xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ye(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function IO(t,e,...n){if(t=an(t),DS("collection","path",e),t instanceof hd){const r=it.fromString(e,...n);return Ab(r),new us(t,null,r)}{if(!(t instanceof yn||t instanceof us))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Ab(r),new us(t.firestore,null,r)}}function vu(t,e,...n){if(t=an(t),arguments.length===1&&(e=y1.newId()),DS("doc","path",e),t instanceof hd){const r=it.fromString(e,...n);return Sb(r),new yn(t,null,new ye(r))}{if(!(t instanceof yn||t instanceof us))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return Sb(r),new yn(t.firestore,t instanceof us?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="AsyncQueue";class Nb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lS(this,"async_queue_retry"),this.rc=()=>{const r=jp();r&&fe(Ib,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new fr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zo(e))throw e;fe(Ib,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,yr("INTERNAL UNHANDLED ERROR: ",Db(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=Ly.createAndSchedule(this,e,n,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&be(47125,{cc:Db(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Db(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fd extends hd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Nb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nb(e),this._firestoreClient=void 0,await e}}}function NO(t,e){const n=typeof t=="object"?t:Ax(),r=typeof t=="string"?t:Nf,a=ay(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=FI("firestore");l&&CO(a,...l)}return a}function Fy(t){if(t._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DO(t),t._firestoreClient}function DO(t){var e,n,r;const a=t._freezeSettings(),l=function(f,m,p,y){return new e4(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,NS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new bO(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Qt.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^__.*__$/;class PO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}function MS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ic:t})}}class Ky{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Bf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MS(this.Ic)&&VO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class MO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||od(e)}bc(e,n,r,a=!1){return new Ky({Ic:e,methodName:n,wc:r,path:Xt.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OS(t){const e=t._freezeSettings(),n=od(t._databaseId);return new MO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OO(t,e,n,r,a,l={}){const c=t.bc(l.merge||l.mergeFields?2:0,e,n,a);jS("Data must be an object, but it was:",c,r);const f=kS(r,c);let m,p;if(l.merge)m=new ti(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=LO(e,_,n);if(!c.contains(E))throw new me(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);UO(y,E)||y.push(E)}m=new ti(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new PO(new Gn(f),m,p)}function kO(t,e,n,r=!1){return $y(n,t.bc(r?4:3,e))}function $y(t,e){if(LS(t=an(t)))return jS("Unsupported field value:",e,t),kS(t,e);if(t instanceof PS)return function(r,a){if(!MS(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=$y(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Pt.fromDate(r);return{timestampValue:kf(a.serializer,l)}}if(r instanceof Pt){const l=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(a.serializer,l)}}if(r instanceof qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:W1(a.serializer,r._byteString)};if(r instanceof yn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Gy)return function(c,f){return{mapValue:{fields:{[S1]:{stringValue:A1},[Df]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return Sy(f.serializer,p)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${cd(r)}`)}(t,e)}function kS(t,e){const n={};return _1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,(r,a)=>{const l=$y(a,e.Ac(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof qy||t instanceof zo||t instanceof yn||t instanceof PS||t instanceof Gy)}function jS(t,e,n){if(!LS(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=cd(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function LO(t,e,n){if((e=an(e))instanceof Hy)return e._internalPath;if(typeof e=="string")return US(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const jO=new RegExp("[~\\*/\\[\\]]");function US(t,e,n){if(e.search(jO)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hy(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new me(se.INVALID_ARGUMENT,f+t+m)}function UO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends BS{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?US(t,e):e instanceof Hy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class FO extends Xy{}function HO(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof Qy).length,f=l.filter(m=>m instanceof dd).length;if(c>1||c>0&&f>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class dd extends FO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dd(e,n,r)}_apply(e){const n=this._parse(e);return zS(e._query,n),new el(e.firestore,e.converter,vg(e._query,n))}_parse(e){const n=OS(e.firestore);return function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Pb(_,y);const S=[];for(const D of _)S.push(Vb(m,l,D));E={arrayValue:{values:S}}}else E=Vb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Pb(_,y),E=kO(f,c,_,y==="in"||y==="not-in");return Rt.create(p,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qO(t,e,n){const r=e,a=Yy("where",t);return dd._create(a,r,n)}class Qy extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)zS(c,m),c=vg(c,m)}(e._query,n),new el(e.firestore,e.converter,vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vb(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ye.isDocumentKey(r))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $E(t,new ye(r))}if(n instanceof yn)return $E(t,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function Pb(t,e){if(!Array.isArray(t)||t.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zS(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GO{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ea(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Df].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_t(c.doubleValue));return new Gy(l)}convertGeoPoint(e){return new qy(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=td(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ge(iS(r),9688,{name:e});const a=new $u(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(n)||yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FS extends BS{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class df extends FS{data(e={}){return super.data(e)}}class $O{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new df(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:YO(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){t=Ta(t,yn);const e=Ta(t.firestore,fd);return SO(Fy(e),t._key).then(n=>WO(e,t,n))}class HS extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function XO(t){t=Ta(t,el);const e=Ta(t.firestore,fd),n=Fy(e),r=new HS(e);return zO(t._query),AO(n,t._query).then(a=>new $O(e,r,t,a))}function Bp(t,e,n){t=Ta(t,yn);const r=Ta(t.firestore,fd),a=KO(t.converter,e,n);return QO(r,[OO(OS(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,dr.none())])}function QO(t,e){return function(r,a){const l=new fr;return r.asyncQueue.enqueueAndForget(async()=>dO(await xO(r),a,l)),l.promise}(Fy(t),e)}function WO(t,e,n){const r=n.docs.get(e._key),a=new HS(t);return new FS(t,a,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Qo=a})(Yo),Po(new pa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new fd(new LP(r.getProvider("auth-internal")),new BP(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),os(OE,kE,e),os(OE,kE,"esm2017")})();var ZO="firebase",JO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(ZO,JO,"app");const aa={apiKey:"AIzaSyD_nPXRF5O5-JnDoWe9fLb9hJxhuBz9CX8",authDomain:"tennis-outremont.firebaseapp.com",projectId:"tennis-outremont",storageBucket:"tennis-outremont.firebasestorage.app",messagingSenderId:"375231312386",appId:"1:375231312386:web:210ab07575a518dc83ad1b",measurementId:"G-J6J7G35K1N"};console.log("Configuration Firebase:",{apiKey:aa.apiKey?"✅ Configuré":"❌ Manquant",authDomain:aa.authDomain?"✅ Configuré":"❌ Manquant",projectId:aa.projectId?"✅ Configuré":"❌ Manquant",storageBucket:aa.storageBucket?"✅ Configuré":"❌ Manquant",messagingSenderId:aa.messagingSenderId?"✅ Configuré":"❌ Manquant",appId:aa.appId?"✅ Configuré":"❌ Manquant"});const qS=Sx(aa);console.log("Firebase initialisé avec succès");const _u=PP(qS);console.log("Firebase Auth initialisé");const bo=NO(qS);console.log("Firestore initialisé");const GS=new or;GS.setCustomParameters({prompt:"select_account"});console.log("Google Auth Provider configuré");const KS=j.createContext(),tl=()=>{const t=j.useContext(KS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},e6=({children:t})=>{const[e,n]=j.useState(null),[r,a]=j.useState(!0),[l,c]=j.useState(null),f=async(S,D,V)=>{try{console.log("Tentative d'inscription:",{email:S,displayName:V});const k=await pV(_u,S,D);console.log("Utilisateur créé avec succès:",k.user.uid),await vV(k.user,{displayName:V}),console.log("Profil mis à jour avec le nom d'affichage");const q={uid:k.user.uid,email:k.user.email,displayName:V,createdAt:new Date().toISOString(),level:"Débutant",phone:"",bio:"",availability:[]};return await Bp(vu(bo,"users",k.user.uid),q),console.log("Profil Firestore créé avec succès"),k}catch(k){throw console.error("Erreur lors de l'inscription:",k),k}},m=async(S,D)=>{try{console.log("Tentative de connexion:",{email:S});const V=await gV(_u,S,D);return console.log("Connexion réussie:",V.user.uid),V}catch(V){throw console.error("Erreur lors de la connexion:",V),V}},p=async()=>{try{console.log("Tentative de connexion Google");const S=await FV(_u,GS);if(console.log("Connexion Google réussie:",S.user.uid),(await Mb(vu(bo,"users",S.user.uid))).exists())console.log("Utilisateur Google existe déjà dans Firestore");else{console.log("Création du profil Firestore pour nouvel utilisateur Google");const V={uid:S.user.uid,email:S.user.email,displayName:S.user.displayName,photoURL:S.user.photoURL,createdAt:new Date().toISOString(),level:"Débutant",phone:"",bio:"",availability:[]};await Bp(vu(bo,"users",S.user.uid),V),console.log("Profil Firestore créé pour utilisateur Google")}return S}catch(S){throw console.error("Erreur lors de la connexion Google:",S),S}},y=()=>(console.log("Déconnexion"),bV(_u)),_=async S=>{try{console.log("Chargement du profil utilisateur:",S);const D=await Mb(vu(bo,"users",S));if(D.exists()){const V=D.data();console.log("Profil chargé:",V),c(V)}else console.log("Aucun profil trouvé pour cet utilisateur"),c(null)}catch(D){console.error("Erreur lors du chargement du profil:",D),c(null)}},E=async S=>{try{console.log("Mise à jour du profil:",S),await Bp(vu(bo,"users",e.uid),S,{merge:!0}),c(D=>({...D,...S})),console.log("Profil mis à jour avec succès")}catch(D){throw console.error("Erreur lors de la mise à jour du profil:",D),D}};j.useEffect(()=>(console.log("Initialisation de l'AuthProvider"),EV(_u,async D=>{console.log("État d'authentification changé:",D?D.uid:"null"),n(D),D?await _(D.uid):c(null),a(!1)})),[]);const C={currentUser:e,userProfile:l,signup:f,login:m,loginWithGoogle:p,logout:y,updateUserProfile:E,loading:r};return w.jsx(KS.Provider,{value:C,children:!r&&t})},Wy=j.createContext({});function nl(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zy=typeof window<"u",md=Zy?j.useLayoutEffect:j.useEffect,pd=j.createContext(null);function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function e0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pi=(t,e,n)=>n>e?e:n<t?t:n;let t6=()=>{},t0=()=>{};const _r={},$S=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YS(t){return typeof t=="object"&&t!==null}const XS=t=>/^0[^.\s]+$/u.test(t);function n0(t){let e;return()=>(e===void 0&&(e=t()),e)}const vn=t=>t,n6=(t,e)=>n=>e(t(n)),gc=(...t)=>t.reduce(n6),Fo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class i0{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>e0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=t=>t*1e3,Ni=t=>t/1e3;function r0(t,e){return e?t*(1e3/e):0}const QS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i6=1e-7,r6=12;function s6(t,e,n,r,a){let l,c,f=0;do c=e+(n-e)/2,l=QS(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>i6&&++f<r6);return c}function yc(t,e,n,r){if(t===e&&n===r)return vn;const a=l=>s6(l,0,1,t,n);return l=>l===0||l===1?l:QS(a(l),e,r)}const WS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZS=t=>e=>1-t(1-e),JS=yc(.33,1.53,.69,.99),s0=ZS(JS),eA=WS(s0),tA=t=>(t*=2)<1?.5*s0(t):.5*(2-Math.pow(2,-10*(t-1))),a0=t=>1-Math.sin(Math.acos(t)),nA=ZS(a0),iA=WS(a0),a6=yc(.42,0,1,1),o6=yc(0,0,.58,1),rA=yc(.42,0,.58,1),l6=t=>Array.isArray(t)&&typeof t[0]!="number",sA=t=>Array.isArray(t)&&typeof t[0]=="number",u6={linear:vn,easeIn:a6,easeInOut:rA,easeOut:o6,circIn:a0,circInOut:iA,circOut:nA,backIn:s0,backInOut:eA,backOut:JS,anticipate:tA},c6=t=>typeof t=="string",Ob=t=>{if(sA(t)){t0(t.length===4);const[e,n,r,a]=t;return yc(e,n,r,a)}else if(c6(t))return u6[t];return t},Wh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h6(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,E=!1)=>{const S=E&&a?n:r;return _&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const f6=40;function aA(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Wh.reduce((F,Z)=>(F[Z]=h6(l),F),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:C,postRender:S}=c,D=()=>{const F=_r.useManualTiming?a.timestamp:performance.now();n=!1,_r.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,f6),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),C.process(a),S.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(D))},V=()=>{n=!0,r=!0,a.isProcessing||t(D)};return{schedule:Wh.reduce((F,Z)=>{const Q=c[Z];return F[Z]=(ae,I=!1,R=!1)=>(n||V(),Q.schedule(ae,I,R)),F},{}),cancel:F=>{for(let Z=0;Z<Wh.length;Z++)c[Wh[Z]].cancel(F)},state:a,steps:c}}const{schedule:Je,cancel:ai,state:zt,steps:zp}=aA(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let mf;function d6(){mf=void 0}const gn={now:()=>(mf===void 0&&gn.set(zt.isProcessing||_r.useManualTiming?zt.timestamp:performance.now()),mf),set:t=>{mf=t,queueMicrotask(d6)}},oA=t=>e=>typeof e=="string"&&e.startsWith(t),o0=oA("--"),m6=oA("var(--"),l0=t=>m6(t)?p6.test(t.split("/*")[0].trim()):!1,p6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wu={...il,transform:t=>Pi(0,1,t)},Zh={...il,default:1},ku=t=>Math.round(t*1e5)/1e5,u0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g6(t){return t==null}const y6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c0=(t,e)=>n=>!!(typeof n=="string"&&y6.test(n)&&n.startsWith(t)||e&&!g6(n)&&Object.prototype.hasOwnProperty.call(n,e)),lA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(u0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},v6=t=>Pi(0,255,t),Fp={...il,transform:t=>Math.round(v6(t))},ca={test:c0("rgb","red"),parse:lA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+ku(Wu.transform(r))+")"};function _6(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Ig={test:c0("#"),parse:_6,transform:ca.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=vc("deg"),Di=vc("%"),xe=vc("px"),T6=vc("vh"),E6=vc("vw"),kb={...Di,parse:t=>Di.parse(t)/100,transform:t=>Di.transform(t*100)},wo={test:c0("hsl","hue"),parse:lA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Di.transform(ku(e))+", "+Di.transform(ku(n))+", "+ku(Wu.transform(r))+")"},At={test:t=>ca.test(t)||Ig.test(t)||wo.test(t),parse:t=>ca.test(t)?ca.parse(t):wo.test(t)?wo.parse(t):Ig.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ca.transform(t):wo.transform(t),getAnimatableNone:t=>{const e=At.parse(t);return e.alpha=0,At.transform(e)}},b6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(u0))==null?void 0:e.length)||0)+(((n=t.match(b6))==null?void 0:n.length)||0)>0}const uA="number",cA="color",x6="var",S6="var(",Lb="${}",A6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(A6,m=>(At.test(m)?(r.color.push(l),a.push(cA),n.push(At.parse(m))):m.startsWith(S6)?(r.var.push(l),a.push(x6),n.push(m)):(r.number.push(l),a.push(uA),n.push(parseFloat(m))),++l,Lb)).split(Lb);return{values:n,split:f,indexes:r,types:a}}function hA(t){return Zu(t).values}function fA(t){const{split:e,types:n}=Zu(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===uA?l+=ku(a[c]):f===cA?l+=At.transform(a[c]):l+=a[c]}return l}}const R6=t=>typeof t=="number"?0:At.test(t)?At.getAnimatableNone(t):t;function C6(t){const e=hA(t);return fA(t)(e.map(R6))}const gs={test:w6,parse:hA,createTransformer:fA,getAnimatableNone:C6};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function I6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Hp(m,f,t+1/3),l=Hp(m,f,t),c=Hp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function zf(t,e){return n=>n>0?e:t}const ut=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},N6=[Ig,ca,wo],D6=t=>N6.find(e=>e.test(t));function jb(t){const e=D6(t);if(!e)return!1;let n=e.parse(t);return e===wo&&(n=I6(n)),n}const Ub=(t,e)=>{const n=jb(t),r=jb(e);if(!n||!r)return zf(t,e);const a={...n};return l=>(a.red=qp(n.red,r.red,l),a.green=qp(n.green,r.green,l),a.blue=qp(n.blue,r.blue,l),a.alpha=ut(n.alpha,r.alpha,l),ca.transform(a))},Ng=new Set(["none","hidden"]);function V6(t,e){return Ng.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function P6(t,e){return n=>ut(t,e,n)}function h0(t){return typeof t=="number"?P6:typeof t=="string"?l0(t)?zf:At.test(t)?Ub:k6:Array.isArray(t)?dA:typeof t=="object"?At.test(t)?Ub:M6:zf}function dA(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>h0(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function M6(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=h0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function O6(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],f=t.values[c]??0;n[a]=f,r[l]++}return n}const k6=(t,e)=>{const n=gs.createTransformer(e),r=Zu(t),a=Zu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ng.has(t)&&!a.values.length||Ng.has(e)&&!r.values.length?V6(t,e):gc(dA(O6(r,a),a.values),n):zf(t,e)};function mA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):h0(t)(t,e)}const L6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Je.update(e,n),stop:()=>ai(e),now:()=>zt.isProcessing?zt.timestamp:gn.now()}},pA=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ff=2e4;function f0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ff;)e+=n,r=t.next(e);return e>=Ff?1/0:e}function j6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(f0(r),Ff);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Ni(a)}}const U6=5;function gA(t,e,n){const r=Math.max(e-U6,0);return r0(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function B6({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let a,l,c=1-e;c=Pi(mt.minDamping,mt.maxDamping,c),t=Pi(mt.minDuration,mt.maxDuration,Ni(t)),c<1?(a=p=>{const y=p*c,_=y*t,E=y-n,C=Dg(p,c),S=Math.exp(-_);return Gp-E/C*S},l=p=>{const _=p*c*t,E=_*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-_),D=Dg(Math.pow(p,2),c);return(-a(p)+Gp>0?-1:1)*((E-C)*S)/D}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Gp+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=F6(a,l,f);if(t=Ii(t),isNaN(m))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const z6=12;function F6(t,e,n){let r=n;for(let a=1;a<z6;a++)r=r-t(r)/e(r);return r}function Dg(t,e){return t*Math.sqrt(1-e*e)}const H6=["duration","bounce"],q6=["stiffness","damping","mass"];function Bb(t,e){return e.some(n=>t[n]!==void 0)}function G6(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!Bb(t,q6)&&Bb(t,H6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:mt.mass,stiffness:a,damping:l}}else{const n=B6(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Hf(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:C}=G6({...n,velocity:-Ni(n.velocity||0)}),S=E||0,D=p/(2*Math.sqrt(m*y)),V=c-l,k=Ni(Math.sqrt(m/y)),q=Math.abs(V)<5;r||(r=q?mt.restSpeed.granular:mt.restSpeed.default),a||(a=q?mt.restDelta.granular:mt.restDelta.default);let F;if(D<1){const Q=Dg(k,D);F=ae=>{const I=Math.exp(-D*k*ae);return c-I*((S+D*k*V)/Q*Math.sin(Q*ae)+V*Math.cos(Q*ae))}}else if(D===1)F=Q=>c-Math.exp(-k*Q)*(V+(S+k*V)*Q);else{const Q=k*Math.sqrt(D*D-1);F=ae=>{const I=Math.exp(-D*k*ae),R=Math.min(Q*ae,300);return c-I*((S+D*k*V)*Math.sinh(R)+Q*V*Math.cosh(R))/Q}}const Z={calculatedDuration:C&&_||null,next:Q=>{const ae=F(Q);if(C)f.done=Q>=_;else{let I=Q===0?S:0;D<1&&(I=Q===0?Ii(S):gA(F,Q,ae));const R=Math.abs(I)<=r,N=Math.abs(c-ae)<=a;f.done=R&&N}return f.value=f.done?c:ae,f},toString:()=>{const Q=Math.min(f0(Z),Ff),ae=pA(I=>Z.next(Q*I).value,Q,30);return Q+"ms "+ae},toTransition:()=>{}};return Z}Hf.applyToOptions=t=>{const e=j6(t,100,Hf);return t.ease=e.ease,t.duration=Ii(e.duration),t.type="keyframes",t};function Vg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},C=R=>f!==void 0&&R<f||m!==void 0&&R>m,S=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let D=n*e;const V=_+D,k=c===void 0?V:c(V);k!==V&&(D=k-_);const q=R=>-D*Math.exp(-R/r),F=R=>k+q(R),Z=R=>{const N=q(R),M=F(R);E.done=Math.abs(N)<=p,E.value=E.done?k:M};let Q,ae;const I=R=>{C(E.value)&&(Q=R,ae=Hf({keyframes:[E.value,S(E.value)],velocity:gA(F,R,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:R=>{let N=!1;return!ae&&Q===void 0&&(N=!0,Z(R),I(R)),Q!==void 0&&R>=Q?ae.next(R-Q):(!N&&Z(R),E)}}}function K6(t,e,n){const r=[],a=n||_r.mix||mA,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||vn:e;f=gc(m,f)}r.push(f)}return r}function d0(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(t0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=K6(e,r,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=Fo(t[_],t[_+1],y);return f[_](E)};return n?y=>p(Pi(t[0],t[l-1],y)):p}function $6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Fo(0,e,r);t.push(ut(n,1,a))}}function yA(t){const e=[0];return $6(e,t.length-1),e}function Y6(t,e){return t.map(n=>n*e)}function X6(t,e){return t.map(()=>e||rA).splice(0,t.length-1)}function Lu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=l6(r)?r.map(Ob):Ob(r),l={done:!1,value:e[0]},c=Y6(n&&n.length===e.length?n:yA(e),t),f=d0(c,e,{ease:Array.isArray(a)?a:X6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const Q6=t=>t!==null;function m0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(Q6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const W6={decay:Vg,inertia:Vg,tween:Lu,keyframes:Lu,spring:Hf};function vA(t){typeof t.type=="string"&&(t.type=W6[t.type])}class p0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Z6=t=>t/100;class g0 extends p0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vA(e);const{type:n=Lu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Lu;m!==Lu&&typeof f[0]!="number"&&(this.mixKeyframes=gc(Z6,mA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=f0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:C,type:S,onUpdate:D,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,Z=r;if(_){const R=Math.min(this.currentTime,a)/f;let N=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(E==="reverse"?(M=1-M,C&&(M-=C/f)):E==="mirror"&&(Z=c)),F=Pi(0,1,M)*f}const Q=q?{done:!1,value:y[0]}:Z.next(F);l&&(Q.value=l(Q.value));let{done:ae}=Q;!q&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return I&&S!==Vg&&(Q.value=m0(y,this.options,V,this.speed)),D&&D(Q.value),I&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Ni(this.calculatedDuration)}get time(){return Ni(this.currentTime)}set time(e){var n;e=Ii(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ni(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=L6,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function J6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ha=t=>t*180/Math.PI,Pg=t=>{const e=ha(Math.atan2(t[1],t[0]));return Mg(e)},ek={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pg,rotateZ:Pg,skewX:t=>ha(Math.atan(t[1])),skewY:t=>ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mg=t=>(t=t%360,t<0&&(t+=360),t),zb=Pg,Fb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Hb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fb,scaleY:Hb,scale:t=>(Fb(t)+Hb(t))/2,rotateX:t=>Mg(ha(Math.atan2(t[6],t[5]))),rotateY:t=>Mg(ha(Math.atan2(-t[2],t[0]))),rotateZ:zb,rotate:zb,skewX:t=>ha(Math.atan(t[4])),skewY:t=>ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Og(t){return t.includes("scale")?1:0}function kg(t,e){if(!t||t==="none")return Og(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=tk,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ek,a=f}if(!a)return Og(e);const l=r[e],c=a[1].split(",").map(ik);return typeof l=="function"?l(c):c[l]}const nk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kg(n,e)};function ik(t){return parseFloat(t.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(rl),qb=t=>t===il||t===xe,rk=new Set(["x","y","z"]),sk=rl.filter(t=>!rk.has(t));function ak(t){const e=[];return sk.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kg(e,"x"),y:(t,{transform:e})=>kg(e,"y")};fa.translateX=fa.x;fa.translateY=fa.y;const da=new Set;let Lg=!1,jg=!1,Ug=!1;function _A(){if(jg){const t=Array.from(da).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=ak(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jg=!1,Lg=!1,da.forEach(t=>t.complete(Ug)),da.clear()}function TA(){da.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jg=!0)})}function ok(){Ug=!0,TA(),_A(),Ug=!1}class y0{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),Lg||(Lg=!0,Je.read(TA),Je.resolveKeyframes(_A))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}J6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lk=t=>t.startsWith("--");function uk(t,e,n){lk(e)?t.style.setProperty(e,n):t.style[e]=n}const EA=n0(()=>window.ScrollTimeline!==void 0),ck={};function hk(t,e){const n=n0(t);return()=>ck[e]??n()}const bA=hk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Iu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Gb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function wA(t,e){if(t)return typeof t=="function"?bA()?pA(t,e):"ease-out":sA(t)?Iu(t):Array.isArray(t)?t.map(n=>wA(n,e)||Gb.easeOut):Gb[t]}function fk(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=wA(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function xA(t){return typeof t=="function"&&"applyToOptions"in t}function dk({type:t,...e}){return xA(t)&&bA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mk extends p0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,t0(typeof e.type!="string");const p=dk(e);this.animation=fk(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=m0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):uk(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ni(Number(e))}get time(){return Ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ii(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&EA()?(this.animation.timeline=e,vn):n(this)}}const SA={anticipate:tA,backInOut:eA,circInOut:iA};function pk(t){return t in SA}function gk(t){typeof t.ease=="string"&&pk(t.ease)&&(t.ease=SA[t.ease])}const Kb=10;class yk extends mk{constructor(e){gk(e),vA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new g0({...c,autoplay:!1}),m=Ii(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Kb).value,f.sample(m).value,Kb),f.stop()}}const $b=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gs.test(t)||t==="0")&&!t.startsWith("url("));function vk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _k(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=$b(a,e),f=$b(l,e);return!c||!f?!1:vk(t)||(n==="spring"||xA(n))&&r}function gd(t){return YS(t)&&"offsetHeight"in t}const Tk=new Set(["opacity","clipPath","filter","transform"]),Ek=n0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bk(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!gd((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return Ek()&&n&&Tk.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const wk=40;class xk extends p0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var S;super(),this.stop=()=>{var D,V;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(V=this.keyframeResolver)==null||V.cancel()},this.createdAt=gn.now();const E={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},C=(y==null?void 0:y.KeyframeResolver)||y0;this.keyframeResolver=new C(f,(D,V,k)=>this.onKeyframesResolved(D,V,E,!k),m,p,y),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=gn.now(),_k(e,l,c,f)||((_r.instantAnimations||!m)&&(y==null||y(m0(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>wk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},C=!p&&bk(E)?new yk({...E,element:E.motionValue.owner.current}):new g0(E);C.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ok()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Sk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ak(t){const e=Sk.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function AA(t,e,n=1){const[r,a]=Ak(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return $S(c)?parseFloat(c):c}return l0(a)?AA(a,e,n+1):a}function v0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const RA=new Set(["width","height","top","left","right","bottom",...rl]),Rk={test:t=>t==="auto",parse:t=>t},CA=t=>e=>e.test(t),IA=[il,xe,Di,Jr,E6,T6,Rk],Yb=t=>IA.find(CA(t));function Ck(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XS(t):!0}const Ik=new Set(["brightness","contrast","saturate","opacity"]);function Nk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(u0)||[];if(!r)return t;const a=n.replace(r,"");let l=Ik.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const Dk=/\b([a-z-]*)\(.*?\)/gu,Bg={...gs,getAnimatableNone:t=>{const e=t.match(Dk);return e?e.map(Nk).join(" "):t}},Xb={...il,transform:Math.round},Vk={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:Jr,skewX:Jr,skewY:Jr,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Wu,originX:kb,originY:kb,originZ:xe},_0={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...Vk,zIndex:Xb,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:Xb},Pk={..._0,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:Bg,WebkitFilter:Bg},NA=t=>Pk[t];function DA(t,e){let n=NA(t);return n!==Bg&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mk=new Set(["auto","none","0"]);function Ok(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!Mk.has(l)&&Zu(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=DA(n,a)}class kk extends y0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),l0(p))){const y=AA(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!RA.has(r)||e.length!==2)return;const[a,l]=e,c=Yb(a),f=Yb(l);if(c!==f)if(qb(c)&&qb(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else fa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Ck(e[a]))&&r.push(a);r.length&&Ok(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=fa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function VA(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const PA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qb=30,Lk=t=>!isNaN(parseFloat(t)),ju={current:void 0};class jk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=gn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ju.current&&ju.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qb);return r0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(t,e){return new jk(t,e)}const{schedule:T0}=aA(queueMicrotask,!1),Jn={x:!1,y:!1};function MA(){return Jn.x||Jn.y}function Uk(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function OA(t,e){const n=VA(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Wb(t){return!(t.pointerType==="touch"||MA())}function Bk(t,e,n={}){const[r,a,l]=OA(t,n),c=f=>{if(!Wb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{Wb(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const kA=(t,e)=>e?t===e?!0:kA(t,e.parentElement):!1,E0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fk(t){return zk.has(t.tagName)||t.tabIndex!==-1}const pf=new WeakSet;function Zb(t){return e=>{e.key==="Enter"&&t(e)}}function Kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Hk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Zb(()=>{if(pf.has(n))return;Kp(n,"down");const a=Zb(()=>{Kp(n,"up")}),l=()=>Kp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Jb(t){return E0(t)&&!MA()}function qk(t,e,n={}){const[r,a,l]=OA(t,n),c=f=>{const m=f.currentTarget;if(!Jb(f))return;pf.add(m);const p=e(m,f),y=(C,S)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),pf.has(m)&&pf.delete(m),Jb(C)&&typeof p=="function"&&p(C,{success:S})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||kA(m,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),gd(f)&&(f.addEventListener("focus",p=>Hk(p,a)),!Fk(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function b0(t){return YS(t)&&"ownerSVGElement"in t}const gf=new WeakMap;let es;const LA=(t,e,n)=>(r,a)=>a&&a[0]?a[0][t+"Size"]:b0(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Gk=LA("inline","width","offsetWidth"),Kk=LA("block","height","offsetHeight");function $k({target:t,borderBoxSize:e}){var n;(n=gf.get(t))==null||n.forEach(r=>{r(t,{get width(){return Gk(t,e)},get height(){return Kk(t,e)}})})}function Yk(t){t.forEach($k)}function Xk(){typeof ResizeObserver>"u"||(es=new ResizeObserver(Yk))}function Qk(t,e){es||Xk();const n=VA(t);return n.forEach(r=>{let a=gf.get(r);a||(a=new Set,gf.set(r,a)),a.add(e),es==null||es.observe(r)}),()=>{n.forEach(r=>{const a=gf.get(r);a==null||a.delete(e),a!=null&&a.size||es==null||es.unobserve(r)})}}const yf=new Set;let xo;function Wk(){xo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};yf.forEach(e=>e(t))},window.addEventListener("resize",xo)}function Zk(t){return yf.add(t),xo||Wk(),()=>{yf.delete(t),!yf.size&&typeof xo=="function"&&(window.removeEventListener("resize",xo),xo=void 0)}}function Jk(t,e){return typeof t=="function"?Zk(t):Qk(t,e)}function jA(t,e){let n;const r=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return Je.preUpdate(r,!0),()=>ai(r)}function e3(t){return b0(t)&&t.tagName==="svg"}function t3(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],f=d0(a,l,c);return e?f(r):f}const rn=t=>!!(t&&t.getVelocity),n3=[...IA,At,gs],i3=t=>n3.find(CA(t)),yd=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class r3 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=gd(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function s3({children:t,isPresent:e,anchorX:n}){const r=j.useId(),a=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(yd);return j.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(e||!a.current||!f||!m)return;const E=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const C=document.createElement("style");return c&&(C.nonce=c),document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(C)&&document.head.removeChild(C)}},[e]),w.jsx(r3,{isPresent:e,childRef:a,sizeRef:l,children:j.cloneElement(t,{ref:a})})}const a3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=nl(o3),p=j.useId();let y=!0,_=j.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:E=>{m.set(E,!0);for(const C of m.values())if(!C)return;r&&r()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,r]);return l&&y&&(_={..._}),j.useMemo(()=>{m.forEach((E,C)=>m.set(C,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=w.jsx(s3,{isPresent:n,anchorX:f,children:t})),w.jsx(pd.Provider,{value:_,children:t})};function o3(){return new Map}function UA(t=!0){const e=j.useContext(pd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const c=j.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Jh=t=>t.key||"";function ew(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const ys=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=UA(c),y=j.useMemo(()=>ew(t),[t]),_=c&&!m?[]:y.map(Jh),E=j.useRef(!0),C=j.useRef(y),S=nl(()=>new Map),[D,V]=j.useState(y),[k,q]=j.useState(y);md(()=>{E.current=!1,C.current=y;for(let Q=0;Q<k.length;Q++){const ae=Jh(k[Q]);_.includes(ae)?S.delete(ae):S.get(ae)!==!0&&S.set(ae,!1)}},[k,_.length,_.join("-")]);const F=[];if(y!==D){let Q=[...y];for(let ae=0;ae<k.length;ae++){const I=k[ae],R=Jh(I);_.includes(R)||(Q.splice(ae,0,I),F.push(I))}return l==="wait"&&F.length&&(Q=F),q(ew(Q)),V(y),null}const{forceRender:Z}=j.useContext(Wy);return w.jsx(w.Fragment,{children:k.map(Q=>{const ae=Jh(Q),I=c&&!m?!1:y===k||_.includes(ae),R=()=>{if(S.has(ae))S.set(ae,!0);else return;let N=!0;S.forEach(M=>{M||(N=!1)}),N&&(Z==null||Z(),q(C.current),c&&(p==null||p()),r&&r())};return w.jsx(a3,{isPresent:I,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:I?void 0:R,anchorX:f,children:Q},ae)})})},BA=j.createContext({strict:!1}),tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const t in tw)Ho[t]={isEnabled:e=>tw[t].some(n=>!!e[n])};function l3(t){for(const e in t)Ho[e]={...Ho[e],...t[e]}}const u3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||u3.has(t)}let zA=t=>!qf(t);function c3(t){typeof t=="function"&&(zA=e=>e.startsWith("on")?!qf(e):t(e))}try{c3(require("@emotion/is-prop-valid").default)}catch{}function h3(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(zA(a)||n===!0&&qf(a)||!e&&!qf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function f3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const vd=j.createContext({});function _d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ju(t){return typeof t=="string"||Array.isArray(t)}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x0=["initial",...w0];function Td(t){return _d(t.animate)||x0.some(e=>Ju(t[e]))}function FA(t){return!!(Td(t)||t.variants)}function d3(t,e){if(Td(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ju(n)?n:void 0,animate:Ju(r)?r:void 0}}return t.inherit!==!1?e:{}}function m3(t){const{initial:e,animate:n}=d3(t,j.useContext(vd));return j.useMemo(()=>({initial:e,animate:n}),[nw(e),nw(n)])}function nw(t){return Array.isArray(t)?t.join(" "):t}const p3=Symbol.for("motionComponentSymbol");function So(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function g3(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):So(n)&&(n.current=r))},[e])}const S0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y3="framerAppearId",HA="data-"+S0(y3),qA=j.createContext({});function v3(t,e,n,r,a){var D,V;const{visualElement:l}=j.useContext(vd),c=j.useContext(BA),f=j.useContext(pd),m=j.useContext(yd).reducedMotion,p=j.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=j.useContext(qA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&_3(p.current,n,a,_);const E=j.useRef(!1);j.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const C=n[HA],S=j.useRef(!!C&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,C))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,C)));return md(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),T0.render(y.render),S.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),S.current=!1))}),y}function _3(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&So(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function GA(t){if(t)return t.options.allowProjection!==!1?t.projection:GA(t.parent)}function T3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&l3(t);function l(f,m){let p;const y={...j.useContext(yd),...f,layoutId:E3(f)},{isStatic:_}=y,E=m3(f),C=r(f,_);if(!_&&Zy){b3();const S=w3(y);p=S.MeasureLayout,E.visualElement=v3(a,C,y,e,S.ProjectionNode)}return w.jsxs(vd.Provider,{value:E,children:[p&&E.visualElement?w.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,f,g3(C,E.visualElement,m),C,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=j.forwardRef(l);return c[p3]=a,c}function E3({layoutId:t}){const e=j.useContext(Wy).id;return e&&t!==void 0?e+"-"+t:t}function b3(t,e){j.useContext(BA).strict}function w3(t){const{drag:e,layout:n}=Ho;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ec={};function x3(t){for(const e in t)ec[e]=t[e],o0(e)&&(ec[e].isCSSVariable=!0)}function KA(t,{layout:e,layoutId:n}){return sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ec[t]||t==="opacity")}const S3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A3=rl.length;function R3(t,e,n){let r="",a=!0;for(let l=0;l<A3;l++){const c=rl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=PA(f,_0[c]);if(!m){a=!1;const y=S3[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function A0(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(sl.has(m)){c=!0;continue}else if(o0(m)){a[m]=p;continue}else{const y=PA(p,_0[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(e.transform||(c||n?r.transform=R3(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $A(t,e,n){for(const r in e)!rn(e[r])&&!KA(r,n)&&(t[r]=e[r])}function C3({transformTemplate:t},e){return j.useMemo(()=>{const n=R0();return A0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function I3(t,e){const n=t.style||{},r={};return $A(r,n,t),Object.assign(r,C3(t,e)),r}function N3(t,e){const n={},r=I3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const D3={offset:"stroke-dashoffset",array:"stroke-dasharray"},V3={offset:"strokeDashoffset",array:"strokeDasharray"};function P3(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?D3:V3;t[l.offset]=xe.transform(-r);const c=xe.transform(e),f=xe.transform(n);t[l.array]=`${c} ${f}`}function YA(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(A0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&P3(_,a,l,c,!1)}const XA=()=>({...R0(),attrs:{}}),QA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M3(t,e,n,r){const a=j.useMemo(()=>{const l=XA();return YA(l,e,QA(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};$A(l,t.style,t),a.style={...l,...a.style}}return a}const O3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C0(t){return typeof t!="string"||t.includes("-")?!1:!!(O3.indexOf(t)>-1||/[A-Z]/u.test(t))}function k3(t=!1){return(n,r,a,{latestValues:l},c)=>{const m=(C0(n)?M3:N3)(r,l,c,n),p=h3(r,typeof n=="string",t),y=n!==j.Fragment?{...p,...m,ref:a}:{},{children:_}=r,E=j.useMemo(()=>rn(_)?_.get():_,[_]);return j.createElement(n,{...y,children:E})}}function iw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function I0(t,e,n,r){if(typeof e=="function"){const[a,l]=iw(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=iw(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function vf(t){return rn(t)?t.get():t}function L3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:j3(n,r,a,t),renderState:e()}}const WA=t=>(e,n)=>{const r=j.useContext(vd),a=j.useContext(pd),l=()=>L3(t,e,r,a);return n?l():nl(l)};function j3(t,e,n,r){const a={},l=r(t,{});for(const E in l)a[E]=vf(l[E]);let{initial:c,animate:f}=t;const m=Td(t),p=FA(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!_d(_)){const E=Array.isArray(_)?_:[_];for(let C=0;C<E.length;C++){const S=I0(t,E[C]);if(S){const{transitionEnd:D,transition:V,...k}=S;for(const q in k){let F=k[q];if(Array.isArray(F)){const Z=y?F.length-1:0;F=F[Z]}F!==null&&(a[q]=F)}for(const q in D)a[q]=D[q]}}}return a}function N0(t,e,n){var l;const{style:r}=t,a={};for(const c in r)(rn(r[c])||e.style&&rn(e.style[c])||KA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const U3={useVisualState:WA({scrapeMotionValuesFromProps:N0,createRenderState:R0})};function ZA(t,e,n){const r=N0(t,e,n);for(const a in t)if(rn(t[a])||rn(e[a])){const l=rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const B3={useVisualState:WA({scrapeMotionValuesFromProps:ZA,createRenderState:XA})};function z3(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...C0(r)?B3:U3,preloadedFeatures:t,useRender:k3(a),createVisualElement:e,Component:r};return T3(c)}}function tc(t,e,n){const r=t.getProps();return I0(r,e,n!==void 0?n:r.custom,t)}const zg=t=>Array.isArray(t);function F3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ni(n))}function H3(t){return zg(t)?t[t.length-1]||0:t}function q3(t,e){const n=tc(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=H3(l[c]);F3(t,c,f)}}function G3(t){return!!(rn(t)&&t.add)}function Fg(t,e){const n=t.getValue("willChange");if(G3(n))return n.add(e);if(!n&&_r.WillChange){const r=new _r.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function JA(t){return t.props[HA]}const K3=t=>t!==null;function $3(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(K3),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Y3={type:"spring",stiffness:500,damping:25,restSpeed:10},X3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Q3={type:"keyframes",duration:.8},W3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z3=(t,{keyframes:e})=>e.length>2?Q3:sl.has(t)?t.startsWith("scale")?X3(e[1]):Y3:W3;function J3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const D0=(t,e,n,r={},a,l)=>c=>{const f=v0(r,t)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ii(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};J3(f)||Object.assign(y,Z3(t,y)),y.duration&&(y.duration=Ii(y.duration)),y.repeatDelay&&(y.repeatDelay=Ii(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(_r.instantAnimations||_r.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=$3(y.keyframes,f);if(E!==void 0){Je.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new g0(y):new xk(y)};function e5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eR(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&e5(p,y))continue;const C={delay:n,...v0(l||{},y)},S=_.get();if(S!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===S&&!C.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=JA(t);if(k){const q=window.MotionHandoffAnimation(k,y,Je);q!==null&&(C.startTime=q,D=!0)}}Fg(t,y),_.start(D0(y,_,E,t.shouldReduceMotion&&RA.has(y)?{type:!1}:C,t,D));const V=_.animation;V&&m.push(V)}return c&&Promise.all(m).then(()=>{Je.update(()=>{c&&q3(t,c)})}),m}function Hg(t,e,n={}){var m;const r=tc(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(eR(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return t5(t,e,y+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function t5(t,e,n=0,r=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(t.variantChildren).sort(n5).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Hg(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function n5(t,e){return t.sortNodePosition(e)}function i5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Hg(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Hg(t,e,n);else{const a=typeof e=="function"?tc(t,e,n.custom):e;r=Promise.all(eR(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function tR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const r5=x0.length;function nR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r5;n++){const r=x0[n],a=t.props[r];(Ju(a)||a===!1)&&(e[r]=a)}return e}const s5=[...w0].reverse(),a5=w0.length;function o5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i5(t,n,r)))}function l5(t){let e=o5(t),n=rw(),r=!0;const a=m=>(p,y)=>{var E;const _=tc(t,y,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:C,transitionEnd:S,...D}=_;p={...p,...D,...S}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=nR(t.parent)||{},_=[],E=new Set;let C={},S=1/0;for(let V=0;V<a5;V++){const k=s5[V],q=n[k],F=p[k]!==void 0?p[k]:y[k],Z=Ju(F),Q=k===m?q.isActive:null;Q===!1&&(S=V);let ae=F===y[k]&&F!==p[k]&&Z;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),q.protectedKeys={...C},!q.isActive&&Q===null||!F&&!q.prevProp||_d(F)||typeof F=="boolean")continue;const I=u5(q.prevProp,F);let R=I||k===m&&q.isActive&&!ae&&Z||V>S&&Z,N=!1;const M=Array.isArray(F)?F:[F];let B=M.reduce(a(k),{});Q===!1&&(B={});const{prevResolvedValues:H={}}=q,O={...H,...B},Tt=le=>{R=!0,E.has(le)&&(N=!0,E.delete(le)),q.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in O){const de=B[le],Le=H[le];if(C.hasOwnProperty(le))continue;let L=!1;zg(de)&&zg(Le)?L=!tR(de,Le):L=de!==Le,L?de!=null?Tt(le):E.add(le):de!==void 0&&E.has(le)?Tt(le):q.protectedKeys[le]=!0}q.prevProp=F,q.prevResolvedValues=B,q.isActive&&(C={...C,...B}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(ae&&I)||N)&&_.push(...M.map(le=>({animation:le,options:{type:k}})))}if(E.size){const V={};if(typeof p.initial!="boolean"){const k=tc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(V.transition=k.transition)}E.forEach(k=>{const q=t.getBaseTarget(k),F=t.getValue(k);F&&(F.liveStyle=!0),V[k]=q??null}),_.push({animation:V})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rw(),r=!0}}}function u5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tR(e,t):!1}function ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rw(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Ts{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c5 extends Ts{constructor(e){super(e),e.animationState||(e.animationState=l5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let h5=0;class f5 extends Ts{constructor(){super(...arguments),this.id=h5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const d5={animation:{Feature:c5},exit:{Feature:f5}};function nc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _c(t){return{point:{x:t.pageX,y:t.pageY}}}const m5=t=>e=>E0(e)&&t(e,_c(e));function Uu(t,e,n,r){return nc(t,e,m5(n),r)}function iR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const rR=1e-4,y5=1-rR,v5=1+rR,sR=.01,_5=0-sR,T5=0+sR;function hn(t){return t.max-t.min}function E5(t,e,n){return Math.abs(t-e)<=n}function sw(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y5&&t.scale<=v5||isNaN(t.scale))&&(t.scale=1),(t.translate>=_5&&t.translate<=T5||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,r){sw(t.x,e.x,n.x,r?r.originX:void 0),sw(t.y,e.y,n.y,r?r.originY:void 0)}function aw(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function b5(t,e,n){aw(t.x,e.x,n.x),aw(t.y,e.y,n.y)}function ow(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function zu(t,e,n){ow(t.x,e.x,n.x),ow(t.y,e.y,n.y)}const lw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:lw(),y:lw()}),uw=()=>({min:0,max:0}),vt=()=>({x:uw(),y:uw()});function qn(t){return[t("x"),t("y")]}function $p(t){return t===void 0||t===1}function qg({scale:t,scaleX:e,scaleY:n}){return!$p(t)||!$p(e)||!$p(n)}function oa(t){return qg(t)||aR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aR(t){return cw(t.x)||cw(t.y)}function cw(t){return t&&t!=="0%"}function Gf(t,e,n){const r=t-n,a=e*r;return n+a}function hw(t,e,n,r,a){return a!==void 0&&(t=Gf(t,a,r)),Gf(t,n,r)+e}function Gg(t,e=0,n=1,r,a){t.min=hw(t.min,e,n,r,a),t.max=hw(t.max,e,n,r,a)}function oR(t,{x:e,y:n}){Gg(t.x,e.translate,e.scale,e.originPoint),Gg(t.y,n.translate,n.scale,n.originPoint)}const fw=.999999999999,dw=1.0000000000001;function w5(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Co(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,oR(t,c)),r&&oa(l.latestValues)&&Co(t,l.latestValues))}e.x<dw&&e.x>fw&&(e.x=1),e.y<dw&&e.y>fw&&(e.y=1)}function Ro(t,e){t.min=t.min+e,t.max=t.max+e}function mw(t,e,n,r,a=.5){const l=ut(t.min,t.max,a);Gg(t,e,n,l,r)}function Co(t,e){mw(t.x,e.x,e.scaleX,e.scale,e.originX),mw(t.y,e.y,e.scaleY,e.scale,e.originY)}function lR(t,e){return iR(g5(t.getBoundingClientRect(),e))}function x5(t,e,n){const r=lR(t,n),{scroll:a}=e;return a&&(Ro(r.x,a.offset.x),Ro(r.y,a.offset.y)),r}const uR=({current:t})=>t?t.ownerDocument.defaultView:null,pw=(t,e)=>Math.abs(t-e);function S5(t,e){const n=pw(t.x,e.x),r=pw(t.y,e.y);return Math.sqrt(n**2+r**2)}class cR{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=S5(_.offset,{x:0,y:0})>=3;if(!E&&!C)return;const{point:S}=_,{timestamp:D}=zt;this.history.push({...S,timestamp:D});const{onStart:V,onMove:k}=this.handlers;E||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Yp(E,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Xp(_.type==="pointercancel"?this.lastMoveEventInfo:Yp(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,V),S&&S(_,V)},!E0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=_c(e),f=Yp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=zt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Xp(f,this.history)),this.removeListeners=gc(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function Yp(t,e){return e?{point:e(t.point)}:t}function gw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:gw(t,hR(e)),offset:gw(t,A5(e)),velocity:R5(e,.1)}}function A5(t){return t[0]}function hR(t){return t[t.length-1]}function R5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=hR(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Ii(e)));)n--;if(!r)return{x:0,y:0};const l=Ni(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function C5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function yw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function I5(t,{top:e,left:n,bottom:r,right:a}){return{x:yw(t.x,n,a),y:yw(t.y,e,r)}}function vw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function N5(t,e){return{x:vw(t.x,e.x),y:vw(t.y,e.y)}}function D5(t,e){let n=.5;const r=hn(t),a=hn(e);return a>r?n=Fo(e.min,e.max-r,t.min):r>a&&(n=Fo(t.min,t.max-a,e.min)),Pi(0,1,n)}function V5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kg=.35;function P5(t=Kg){return t===!1?t=0:t===!0&&(t=Kg),{x:_w(t,"left","right"),y:_w(t,"top","bottom")}}function _w(t,e,n){return{min:Tw(t,e),max:Tw(t,n)}}function Tw(t,e){return typeof t=="number"?t:t[e]||0}const M5=new WeakMap;class O5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_c(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:C,onDragStart:S}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Uk(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(V=>{let k=this.getAxisMotionValue(V).get()||0;if(Di.test(k)){const{projection:q}=this.visualElement;if(q&&q.layout){const F=q.layout.layoutBox[V];F&&(k=hn(F)*(parseFloat(k)/100))}}this.originPoint[V]=k}),S&&Je.postRender(()=>S(y,_)),Fg(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:S,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=_;if(C&&this.currentDirection===null){this.currentDirection=k5(V),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),D&&D(y,_)},f=(y,_)=>this.stop(y,_),m=()=>qn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cR(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:uR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Je.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!ef(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=C5(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&So(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=I5(r.layoutBox,e):this.constraints=!1,this.elastic=P5(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=V5(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!So(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=x5(r,a.root,this.visualElement.getTransformPagePoint());let c=N5(a.layout.layoutBox,l);if(n){const f=n(p5(c));this.hasMutatedConstraints=!!f,f&&(c=iR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=qn(y=>{if(!ef(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,S={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,S)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fg(this.visualElement,e),r.start(D0(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!ef(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ut(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!So(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=D5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(c=>{if(!ef(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ut(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;M5.set(this.visualElement,this);const e=this.visualElement.current,n=Uu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();So(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Je.read(r);const c=nc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Kg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function ef(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function k5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class L5 extends Ts{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new O5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ew=t=>(e,n)=>{t&&Je.postRender(()=>t(e,n))};class j5 extends Ts{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new cR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ew(e),onStart:Ew(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Je.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=bw(t,e.target.x),r=bw(t,e.target.y);return`${n}% ${r}%`}},U5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=gs.parse(t);if(a.length>5)return r;const l=gs.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ut(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class B5 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;x3(z5),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),_f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Je.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),T0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fR(t){const[e,n]=UA(),r=j.useContext(Wy);return w.jsx(B5,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(qA),isPresent:e,safeToRemove:n})}const z5={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:U5};function F5(t,e,n){const r=rn(t)?t:ni(t);return r.start(D0("",r,e,n)),r.animation}const H5=(t,e)=>t.depth-e.depth;class q5{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){e0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H5),this.isDirty=!1,this.children.forEach(e)}}function G5(t,e){const n=gn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(ai(r),t(l-e))};return Je.setup(r,!0),()=>ai(r)}const dR=["TopLeft","TopRight","BottomLeft","BottomRight"],K5=dR.length,ww=t=>typeof t=="string"?parseFloat(t):t,xw=t=>typeof t=="number"||xe.test(t);function $5(t,e,n,r,a,l){a?(t.opacity=ut(0,n.opacity??1,Y5(r)),t.opacityExit=ut(e.opacity??1,0,X5(r))):l&&(t.opacity=ut(e.opacity??1,n.opacity??1,r));for(let c=0;c<K5;c++){const f=`border${dR[c]}Radius`;let m=Sw(e,f),p=Sw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||xw(m)===xw(p)?(t[f]=Math.max(ut(ww(m),ww(p),r),0),(Di.test(p)||Di.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function Sw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y5=mR(0,.5,nA),X5=mR(.5,.95,vn);function mR(t,e,n){return r=>r<t?0:r>e?1:n(Fo(t,e,r))}function Aw(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){Aw(t.x,e.x),Aw(t.y,e.y)}function Rw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cw(t,e,n,r,a){return t-=e,t=Gf(t,1/n,r),a!==void 0&&(t=Gf(t,1/a,r)),t}function Q5(t,e=0,n=1,r=.5,a,l=t,c=t){if(Di.test(e)&&(e=parseFloat(e),e=ut(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ut(l.min,l.max,r);t===l&&(f-=e),t.min=Cw(t.min,e,n,f,a),t.max=Cw(t.max,e,n,f,a)}function Iw(t,e,[n,r,a],l,c){Q5(t,e[n],e[r],e[a],e.scale,l,c)}const W5=["x","scaleX","originX"],Z5=["y","scaleY","originY"];function Nw(t,e,n,r){Iw(t.x,e,W5,n?n.x:void 0,r?r.x:void 0),Iw(t.y,e,Z5,n?n.y:void 0,r?r.y:void 0)}function Dw(t){return t.translate===0&&t.scale===1}function pR(t){return Dw(t.x)&&Dw(t.y)}function Vw(t,e){return t.min===e.min&&t.max===e.max}function J5(t,e){return Vw(t.x,e.x)&&Vw(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gR(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function Mw(t){return hn(t.x)/hn(t.y)}function Ow(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eL{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(e0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tL(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:C,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),C&&(r+=`skewX(${C}deg) `),S&&(r+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Qp=["","X","Y","Z"],nL={visibility:"hidden"},iL=1e3;let rL=0;function Wp(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=JA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Je,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yR(r)}function vR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=rL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oL),this.nodes.forEach(fL),this.nodes.forEach(dL),this.nodes.forEach(lL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new q5)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new i0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=b0(c)&&!e3(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=G5(_,250),_f.hasAnimatedSinceResize&&(_f.hasAnimatedSinceResize=!1,this.nodes.forEach(Lw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||vL,{onLayoutAnimationStart:D,onLayoutAnimationComplete:V}=p.getProps(),k=!this.targetLayout||!gR(this.targetLayout,C),q=!_&&E;if(this.options.layoutRoot||this.resumeFrom||q||_&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...v0(S,"layout"),onPlay:D,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,q)}else _||Lw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kw);return}this.isUpdating||this.nodes.forEach(cL),this.isUpdating=!1,this.nodes.forEach(hL),this.nodes.forEach(sL),this.nodes.forEach(aL),this.clearAllSnapshots();const f=gn.now();zt.delta=Pi(0,1e3/60,f-zt.timestamp),zt.timestamp=f,zt.isProcessing=!0,zp.update.process(zt),zp.preRender.process(zt),zp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uL),this.sharedNodes.forEach(pL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!pR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||oa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),_L(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return vt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(TL))){const{scroll:y}=this.root;y&&(Ro(f.x,y.offset.x),Ro(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=vt();if(Hn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Hn(f,c),Ro(f.x,_.offset.x),Ro(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=vt();Hn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Co(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),oa(y.latestValues)&&Co(m,y.latestValues)}return oa(this.latestValues)&&Co(m,this.latestValues),m}removeTransform(c){const f=vt();Hn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!oa(p.latestValues))continue;qg(p.latestValues)&&p.updateSnapshot();const y=vt(),_=p.measurePageBox();Hn(y,_),Nw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return oa(this.latestValues)&&Nw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),zu(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),oR(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),zu(this.relativeTargetOrigin,this.target,C.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qg(this.parent.latestValues)||aR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Hn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;w5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rw(this.prevProjectionDelta.x,this.projectionDelta.x),Rw(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=vt(),C=m?m.source:void 0,S=this.layout?this.layout.source:void 0,D=C!==S,V=this.getStack(),k=!V||V.members.length<=1,q=!!(D&&!k&&this.options.crossfade===!0&&!this.path.some(yL));this.animationProgress=0;let F;this.mixTargetDelta=Z=>{const Q=Z/1e3;jw(_.x,c.x,Q),jw(_.y,c.y,Q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gL(this.relativeTarget,this.relativeTargetOrigin,E,Q),F&&J5(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=vt()),Hn(F,this.relativeTarget)),D&&(this.animationValues=y,$5(y,p,this.latestValues,Q,q,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{_f.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ni(0)),this.currentAnimation=F5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&_R(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||vt();const _=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Hn(f,m),Co(f,y),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new eL),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Wp("z",c,p,this.animationValues);for(let y=0;y<Qp.length;y++)Wp(`rotate${Qp[y]}`,c,p,this.animationValues),Wp(`skew${Qp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nL;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=vf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=vf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=tL(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in ec){if(y[C]===void 0)continue;const{correct:S,applyTo:D,isCSSVariable:V}=ec[C],k=f.transform==="none"?y[C]:S(y[C],p);if(D){const q=D.length;for(let F=0;F<q;F++)f[D[F]]=k}else V?this.options.visualElement.renderState.vars[C]=k:f[C]=k}return this.options.layoutId&&(f.pointerEvents=p===this?vf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(kw),this.root.sharedNodes.clear()}}}function sL(t){t.updateLayout()}function aL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?qn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],C=hn(E);E.min=r[_].min,E.max=E.min+C}):_R(l,e.layoutBox,r)&&qn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],C=hn(r[_]);E.max=E.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+C)});const f=Ao();Bu(f,r,e.layoutBox);const m=Ao();c?Bu(m,t.applyTransform(a,!0),e.measuredBox):Bu(m,r,e.layoutBox);const p=!pR(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:C}=_;if(E&&C){const S=vt();zu(S,e.layoutBox,E.layoutBox);const D=vt();zu(D,r,C.layoutBox),gR(S,D)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uL(t){t.clearSnapshot()}function kw(t){t.clearMeasurements()}function cL(t){t.isLayoutDirty=!1}function hL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Lw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fL(t){t.resolveTargetDelta()}function dL(t){t.calcProjection()}function mL(t){t.resetSkewAndRotation()}function pL(t){t.removeLeadSnapshot()}function jw(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Uw(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function gL(t,e,n,r){Uw(t.x,e.x,n.x,r),Uw(t.y,e.y,n.y,r)}function yL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vL={duration:.45,ease:[.4,0,.1,1]},Bw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:vn;function Fw(t){t.min=zw(t.min),t.max=zw(t.max)}function _L(t){Fw(t.x),Fw(t.y)}function _R(t,e,n){return t==="position"||t==="preserve-aspect"&&!E5(Mw(e),Mw(n),.2)}function TL(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const EL=vR({attachResizeListener:(t,e)=>nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zp={current:void 0},TR=vR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zp.current){const t=new EL({});t.mount(window),t.setOptions({layoutScroll:!0}),Zp.current=t}return Zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bL={pan:{Feature:j5},drag:{Feature:L5,ProjectionNode:TR,MeasureLayout:fR}};function Hw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Je.postRender(()=>l(e,_c(e)))}class wL extends Ts{mount(){const{current:e}=this.node;e&&(this.unmount=Bk(e,(n,r)=>(Hw(this.node,r,"Start"),a=>Hw(this.node,a,"End"))))}unmount(){}}class xL extends Ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gc(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Je.postRender(()=>l(e,_c(e)))}class SL extends Ts{mount(){const{current:e}=this.node;e&&(this.unmount=qk(e,(n,r)=>(qw(this.node,r,"Start"),(a,{success:l})=>qw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $g=new WeakMap,Jp=new WeakMap,AL=t=>{const e=$g.get(t.target);e&&e(t)},RL=t=>{t.forEach(AL)};function CL({root:t,...e}){const n=t||document;Jp.has(n)||Jp.set(n,{});const r=Jp.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(RL,{root:t,...e})),r[a]}function IL(t,e,n){const r=CL(e);return $g.set(t,n),r.observe(t),()=>{$g.delete(t),r.unobserve(t)}}const NL={some:0,all:1};class DL extends Ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:NL[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return IL(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VL(e,n))&&this.startObserver()}unmount(){}}function VL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const PL={inView:{Feature:DL},tap:{Feature:SL},focus:{Feature:xL},hover:{Feature:wL}},ML={layout:{ProjectionNode:TR,MeasureLayout:fR}},Yg={current:null},ER={current:!1};function OL(){if(ER.current=!0,!!Zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}const kL=new WeakMap;function LL(t,e,n){for(const r in e){const a=e[r],l=n[r];if(rn(a))t.addValue(r,a);else if(rn(l))t.addValue(r,ni(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,ni(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=gn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Je.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Td(n),this.isVariantNode=FA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const C=_[E];m[E]!==void 0&&rn(C)&&C.set(m[E],!1)}}mount(e){this.current=e,kL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ER.current||OL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ho){const n=Ho[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gw.length;r++){const a=Gw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=LL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ni(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($S(r)||XS(r))?r=parseFloat(r):!i3(r)&&gs.test(n)&&(r=DA(e,n)),this.setBaseTarget(e,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=I0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!rn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bR extends jL{constructor(){super(...arguments),this.KeyframeResolver=kk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wR(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function UL(t){return window.getComputedStyle(t)}class BL extends bR{constructor(){super(...arguments),this.type="html",this.renderInstance=wR}readValueFromInstance(e,n){var r;if(sl.has(n))return(r=this.projection)!=null&&r.isProjecting?Og(n):nk(e,n);{const a=UL(e),l=(o0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lR(e,n)}build(e,n,r){A0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return N0(e,n,r)}}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zL(t,e,n,r){wR(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(xR.has(a)?a:S0(a),e.attrs[a])}class FL extends bR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sl.has(n)){const r=NA(n);return r&&r.default||0}return n=xR.has(n)?n:S0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZA(e,n,r)}build(e,n,r){YA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){zL(e,n,r,a)}mount(e){this.isSVGTag=QA(e.tagName),super.mount(e)}}const HL=(t,e)=>C0(t)?new FL(e):new BL(e,{allowProjection:t!==j.Fragment}),qL=z3({...d5,...PL,...bL,...ML},HL),J=f3(qL),GL=50,Kw=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),KL=()=>({time:0,x:Kw(),y:Kw()}),$L={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function $w(t,e,n,r){const a=n[e],{length:l,position:c}=$L[e],f=a.current,m=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Fo(0,a.scrollLength,a.current);const p=r-m;a.velocity=p>GL?0:r0(a.current-f,p)}function YL(t,e,n){$w(t,"x",e,n),$w(t,"y",e,n),e.time=n}function XL(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(gd(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const a=r.getBoundingClientRect();r=r.parentElement;const l=r.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(r instanceof SVGGraphicsElement){const{x:a,y:l}=r.getBBox();n.x+=a,n.y+=l;let c=null,f=r.parentNode;for(;!c;)f.tagName==="svg"&&(c=f),f=r.parentNode;r=c}else break;return n}const Xg={start:0,center:.5,end:1};function Yw(t,e,n=0){let r=0;if(t in Xg&&(t=Xg[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?r=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?r=a/100*document.documentElement.clientWidth:t.endsWith("vh")?r=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(r=e*t),n+r}const QL=[0,0];function WL(t,e,n,r){let a=Array.isArray(t)?t:QL,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,Xg[t]?t:"0"]),l=Yw(a[0],n,r),c=Yw(a[1],e),l-c}const ZL={All:[[0,0],[1,1]]},JL={x:0,y:0};function e9(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function t9(t,e,n){const{offset:r=ZL.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",f=a!==t?XL(a,t):JL,m=a===t?{width:t.scrollWidth,height:t.scrollHeight}:e9(a),p={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let y=!e[l].interpolate;const _=r.length;for(let E=0;E<_;E++){const C=WL(r[E],p[c],m[c],f[l]);!y&&C!==e[l].interpolatorOffsets[E]&&(y=!0),e[l].offset[E]=C}y&&(e[l].interpolate=d0(e[l].offset,yA(r),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=Pi(0,1,e[l].interpolate(e[l].current))}function n9(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function i9(t,e,n,r={}){return{measure:a=>{n9(t,r.target,n),YL(t,n,a),(r.offset||r.target)&&t9(t,n,r)},notify:()=>e(n)}}const Eu=new WeakMap,Xw=new WeakMap,eg=new WeakMap,Qw=t=>t===document.scrollingElement?window:t;function SR(t,{container:e=document.scrollingElement,...n}={}){if(!e)return vn;let r=eg.get(e);r||(r=new Set,eg.set(e,r));const a=KL(),l=i9(e,t,a,n);if(r.add(l),!Eu.has(e)){const f=()=>{for(const _ of r)_.measure(zt.timestamp);Je.preUpdate(m)},m=()=>{for(const _ of r)_.notify()},p=()=>Je.read(f);Eu.set(e,p);const y=Qw(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&Xw.set(e,Jk(e,p)),y.addEventListener("scroll",p,{passive:!0}),p()}const c=Eu.get(e);return Je.read(c,!1,!0),()=>{var p;ai(c);const f=eg.get(e);if(!f||(f.delete(l),f.size))return;const m=Eu.get(e);Eu.delete(e),m&&(Qw(e).removeEventListener("scroll",m),(p=Xw.get(e))==null||p(),window.removeEventListener("resize",m))}}const Ww=new Map;function r9(t){const e={value:0},n=SR(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function AR({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const a=Ww.get(e)??new Map;Ww.set(e,a);const l=n.target??"self",c=a.get(l)??{},f=r+(n.offset??[]).join(",");return c[f]||(c[f]=!n.target&&EA()?new ScrollTimeline({source:e,axis:r}):r9({container:e,...n})),c[f]}function s9(t,e){const n=AR(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),jA(a=>{r.time=r.duration*a},n))})}function a9(t){return t.length===2}function o9(t,e){return a9(t)?SR(n=>{t(n[e.axis].progress,n)},e):jA(t,AR(e))}function l9(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return vn;const a={axis:e,container:n,...r};return typeof t=="function"?o9(t,a):s9(t,a)}function Zw(t,e){t6(!!(!e||e.current))}const u9=()=>({scrollX:ni(0),scrollY:ni(0),scrollXProgress:ni(0),scrollYProgress:ni(0)});function c9({container:t,target:e,layoutEffect:n=!0,...r}={}){const a=nl(u9);return(n?md:j.useEffect)(()=>(Zw("target",e),Zw("container",t),l9((c,{x:f,y:m})=>{a.scrollX.set(f.current),a.scrollXProgress.set(f.progress),a.scrollY.set(m.current),a.scrollYProgress.set(m.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),a}function h9(t){const e=nl(()=>ni(t)),{isStatic:n}=j.useContext(yd);if(n){const[,r]=j.useState(t);j.useEffect(()=>e.on("change",r),[])}return e}function RR(t,e){const n=h9(e()),r=()=>n.set(e());return r(),md(()=>{const a=()=>Je.preRender(r,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),ai(r)}}),n}function f9(t){ju.current=[],t();const e=RR(ju.current,t);return ju.current=void 0,e}function Jw(t,e,n,r){if(typeof t=="function")return f9(t);const a=typeof e=="function"?e:t3(e,n,r);return Array.isArray(t)?ex(t,a):ex([t],([l])=>a(l))}function ex(t,e){const n=nl(()=>[]);return RR(t,()=>{n.length=0;const r=t.length;for(let a=0;a<r;a++)n[a]=t[a].get();return e(n)})}const d9=({children:t})=>{const{currentUser:e,loading:n}=tl();return n?w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:w.jsxs(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:[.25,.46,.45,.94]},className:"text-center",children:[w.jsx(J.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement..."})]})}):e?t:w.jsx(Z2,{to:"/login",replace:!0})},m9=()=>{const[t,e]=j.useState(!1),{currentUser:n,logout:r}=tl(),a=Tr(),l=async()=>{try{await r()}catch(m){console.error("Erreur lors de la déconnexion:",m)}},c=[{path:"/",label:"Accueil",icon:"🏠"},{path:"/players",label:"Joueurs",icon:"👥"},{path:"/submit",label:"Créer profil",icon:"➕"}],f=m=>a.pathname===m;return w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-pastel-strong border-b border-white/30",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"flex items-center space-x-3",children:w.jsxs(Cn,{to:"/",className:"flex items-center space-x-3 group",children:[w.jsx(J.div,{whileHover:{scale:1.1,rotate:5},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:w.jsx("span",{className:"text-lg",children:"🎾"})}),w.jsx("span",{className:"text-xl font-bold text-gray-800 group-hover:text-gray-600 transition-colors duration-300",children:"Tennis Outremont"})]})}),w.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"hidden md:flex items-center space-x-8",children:c.map((m,p)=>w.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1*p,duration:.6,ease:[.25,.46,.45,.94]},children:w.jsxs(Cn,{to:m.path,className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all duration-300 ease-out ${f(m.path)?"bg-gradient-to-r from-pink-400 to-purple-500 text-white shadow-lg":"text-gray-700 hover:text-gray-900 hover:bg-white/50"}`,children:[w.jsx("span",{className:"text-sm",children:m.icon}),w.jsx("span",{children:m.label})]})},m.path))}),w.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"flex items-center space-x-4",children:[n?w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsxs(J.div,{whileHover:{scale:1.05},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"flex items-center space-x-2 px-4 py-2 bg-white/80 rounded-xl border border-white/50 shadow-sm",children:[w.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:w.jsx("span",{className:"text-white text-sm font-bold",children:(n.displayName||n.email||"U").charAt(0).toUpperCase()})}),w.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:n.displayName||"Joueur"})]}),w.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-white/50 rounded-xl transition-all duration-300 ease-out",children:"Déconnexion"})]}):w.jsx(Cn,{to:"/login",className:"btn-pastel-primary text-sm px-6 py-2",children:"Se connecter"}),w.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:()=>e(!t),className:"md:hidden p-2 rounded-xl bg-white/80 border border-white/50 shadow-sm",children:w.jsxs("div",{className:"w-5 h-5 flex flex-col justify-center items-center space-y-1",children:[w.jsx(J.span,{animate:{rotate:t?45:0,y:t?6:0},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"w-4 h-0.5 bg-gray-700 rounded-full"}),w.jsx(J.span,{animate:{opacity:t?0:1},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"w-4 h-0.5 bg-gray-700 rounded-full"}),w.jsx(J.span,{animate:{rotate:t?-45:0,y:t?-6:0},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"w-4 h-0.5 bg-gray-700 rounded-full"})]})})]})]}),w.jsx(ys,{children:t&&w.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"md:hidden border-t border-white/30",children:w.jsx("div",{className:"py-4 space-y-2",children:c.map((m,p)=>w.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1,duration:.3,ease:[.25,.46,.45,.94]},children:w.jsxs(Cn,{to:m.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl font-medium transition-all duration-300 ease-out ${f(m.path)?"bg-gradient-to-r from-pink-400 to-purple-500 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/50"}`,children:[w.jsx("span",{children:m.icon}),w.jsx("span",{children:m.label})]})},m.path))})})})]})})},p9=()=>{const{currentUser:t}=tl(),[e,n]=j.useState({x:0,y:0}),[r,a]=j.useState(null),{scrollYProgress:l}=c9(),c=Jw(l,[0,1],[0,-300]);Jw(l,[0,.5],[1,0]),j.useEffect(()=>{const p=y=>{n({x:y.clientX,y:y.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const f=[{icon:"🎾",title:"Trouvez votre partenaire",description:"Connectez-vous avec des joueurs de votre niveau",color:"from-emerald-400 to-teal-500",delay:.1},{icon:"🏟️",title:"Terrains officiels",description:"Saint-Viateur, FX-Garneau et Joyce",color:"from-blue-400 to-indigo-500",delay:.2},{icon:"📅",title:"Disponibilité flexible",description:"Planifiez selon vos horaires",color:"from-purple-400 to-pink-500",delay:.3},{icon:"👥",title:"Communauté locale",description:"Passionnés d'Outremont",color:"from-orange-400 to-red-500",delay:.4}],m=[{number:"50+",label:"Joueurs actifs",icon:"👥"},{number:"3",label:"Terrains officiels",icon:"🏟️"},{number:"24/7",label:"Disponibilité",icon:"⏰"},{number:"100%",label:"Gratuit",icon:"💚"}];return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[w.jsxs("div",{className:"absolute inset-0",children:[w.jsx(J.div,{animate:{x:[0,100,0],y:[0,-50,0],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full blur-3xl"}),w.jsx(J.div,{animate:{x:[0,-80,0],y:[0,60,0],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-20 w-[500px] h-[500px] bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),w.jsx(J.div,{animate:{x:[0,60,0],y:[0,-30,0],rotate:[0,90,180]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/3 w-80 h-80 bg-gradient-to-r from-blue-500/15 to-cyan-500/15 rounded-full blur-3xl"})]}),w.jsx(J.div,{className:"fixed top-0 left-0 w-4 h-4 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full pointer-events-none z-50 mix-blend-difference",animate:{x:e.x-8,y:e.y-8},transition:{type:"spring",stiffness:500,damping:28}}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("section",{className:"pt-32 pb-20 px-6 relative",children:w.jsx("div",{className:"max-w-7xl mx-auto",children:w.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[w.jsxs(J.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},transition:{duration:1,ease:[.25,.46,.45,.94]},className:"relative",children:[w.jsx(J.div,{animate:{y:[0,-20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-10 -left-10 w-20 h-20 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl opacity-20 blur-sm"}),w.jsx(J.div,{animate:{y:[0,20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-10 -right-10 w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-20 blur-sm"}),w.jsxs(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"relative z-10",children:[w.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black mb-8 leading-tight",children:[w.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent",children:"Tennis"}),w.jsx("br",{}),w.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-orange-400 bg-clip-text text-transparent",children:"Outremont"})]}),w.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed max-w-lg",children:["Découvrez une nouvelle façon de jouer au tennis.",w.jsx("span",{className:"text-emerald-400 font-semibold",children:" Connectez-vous"})," avec des passionnés,",w.jsx("span",{className:"text-purple-400 font-semibold",children:" jouez"})," sur nos terrains officiels."]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[t?w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:w.jsxs(Cn,{to:"/submit",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-2xl shadow-2xl hover:shadow-emerald-500/25 transition-all duration-300",children:[w.jsx("span",{className:"mr-3",children:"Créer mon profil"}),w.jsx(J.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:"→"})]})}):w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:w.jsxs(Cn,{to:"/login",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-2xl shadow-2xl hover:shadow-emerald-500/25 transition-all duration-300",children:[w.jsx("span",{className:"mr-3",children:"Commencer"}),w.jsx(J.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:"→"})]})}),w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:w.jsxs(Cn,{to:"/players",className:"inline-flex items-center px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/20 text-white font-bold rounded-2xl hover:bg-white/20 transition-all duration-300",children:[w.jsx("span",{className:"mr-3",children:"Voir les joueurs"}),w.jsx("span",{children:"👥"})]})})]})]})]}),w.jsx(J.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:1,delay:.5,ease:[.25,.46,.45,.94]},className:"relative",children:w.jsx("div",{className:"grid grid-cols-2 gap-6",children:f.map((p,y)=>w.jsxs(J.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8+p.delay,duration:.8},whileHover:{scale:1.05,rotateY:5,transition:{duration:.3}},onHoverStart:()=>a(p.title),onHoverEnd:()=>a(null),className:`relative group cursor-pointer ${y%2===0?"mt-8":""}`,children:[w.jsxs(J.div,{animate:{rotate:r===p.title?360:0,scale:r===p.title?1.1:1},transition:{duration:.6},className:`w-full h-48 bg-gradient-to-br ${p.color} rounded-3xl p-6 shadow-2xl border border-white/20 backdrop-blur-sm`,children:[w.jsx("div",{className:"text-4xl mb-4",children:p.icon}),w.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:p.title}),w.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:p.description})]}),w.jsx(J.div,{animate:{opacity:r===p.title?.6:0,scale:r===p.title?1.2:1},transition:{duration:.3},className:`absolute inset-0 bg-gradient-to-br ${p.color} rounded-3xl blur-xl -z-10`})]},p.title))})})]})})}),w.jsx("section",{className:"py-20 px-6 relative",children:w.jsxs(J.div,{style:{y:c},className:"max-w-6xl mx-auto",children:[w.jsx(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:w.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Notre communauté en chiffres"})}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:m.map((p,y)=>w.jsx(J.div,{initial:{opacity:0,scale:.5},whileInView:{opacity:1,scale:1},transition:{delay:y*.1,duration:.6},whileHover:{scale:1.1,rotateY:10,transition:{duration:.3}},className:"group",children:w.jsxs(J.div,{whileHover:{background:"linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1))",transition:{duration:.3}},className:"relative p-8 bg-white/5 backdrop-blur-sm rounded-3xl border border-white/10 shadow-2xl overflow-hidden",children:[w.jsx(J.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-purple-500/10 rounded-3xl"}),w.jsxs("div",{className:"relative z-10 text-center",children:[w.jsx(J.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-3xl mb-4",children:p.icon}),w.jsx("div",{className:"text-3xl md:text-4xl font-black text-white mb-2",children:p.number}),w.jsx("div",{className:"text-gray-300 font-medium",children:p.label})]})]})},p.label))})]})}),w.jsx("section",{className:"py-32 px-6 relative",children:w.jsxs("div",{className:"max-w-4xl mx-auto text-center relative",children:[w.jsx(J.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-emerald-500/20 via-purple-500/20 to-pink-500/20 rounded-[100px] blur-3xl -z-10"}),w.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10",children:[w.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-8 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Prêt à rejoindre l'aventure ?"}),w.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Créez votre profil en quelques minutes et commencez à jouer avec des passionnés de tennis dans Outremont"}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t?w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:w.jsxs(Cn,{to:"/submit",className:"inline-flex items-center px-10 py-5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-2xl shadow-2xl hover:shadow-emerald-500/25 transition-all duration-300 text-lg",children:[w.jsx("span",{className:"mr-3",children:"Créer mon profil"}),w.jsx(J.span,{animate:{x:[0,8,0]},transition:{duration:2,repeat:1/0},children:"🚀"})]})}):w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:w.jsxs(Cn,{to:"/login",className:"inline-flex items-center px-10 py-5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-2xl shadow-2xl hover:shadow-emerald-500/25 transition-all duration-300 text-lg",children:[w.jsx("span",{className:"mr-3",children:"Commencer maintenant"}),w.jsx(J.span,{animate:{x:[0,8,0]},transition:{duration:2,repeat:1/0},children:"🚀"})]})}),w.jsx(J.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:w.jsxs(Cn,{to:"/players",className:"inline-flex items-center px-10 py-5 bg-white/10 backdrop-blur-sm border border-white/20 text-white font-bold rounded-2xl hover:bg-white/20 transition-all duration-300 text-lg",children:[w.jsx("span",{className:"mr-3",children:"Découvrir les joueurs"}),w.jsx("span",{children:"👥"})]})})]})]})]})}),w.jsx("footer",{className:"py-16 px-6 border-t border-white/10",children:w.jsx("div",{className:"max-w-6xl mx-auto text-center",children:w.jsxs(J.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},children:[w.jsx("p",{className:"text-gray-400 mb-4",children:"© 2024 Tennis Outremont. Tous droits réservés."}),w.jsxs("div",{className:"flex justify-center space-x-6 text-sm text-gray-500",children:[w.jsx("span",{children:"Communauté locale"}),w.jsx("span",{children:"•"}),w.jsx("span",{children:"Terrains officiels"}),w.jsx("span",{children:"•"}),w.jsx("span",{children:"100% gratuit"})]})]})})})]})]})},CR=({selectedTimes:t,onTimeToggle:e})=>{const[n,r]=j.useState(null),a=[{key:"monday",label:"Lundi",short:"Lun"},{key:"tuesday",label:"Mardi",short:"Mar"},{key:"wednesday",label:"Mercredi",short:"Mer"},{key:"thursday",label:"Jeudi",short:"Jeu"},{key:"friday",label:"Vendredi",short:"Ven"},{key:"saturday",label:"Samedi",short:"Sam"},{key:"sunday",label:"Dimanche",short:"Dim"}],l=[{key:"morning",label:"Matin",time:"8h-12h"},{key:"afternoon",label:"Après-midi",time:"12h-17h"},{key:"evening",label:"Soirée",time:"17h-22h"}],c=(S,D,V)=>{S.preventDefault(),S.stopPropagation();const k=`${D}-${V}`;e(k)},f=(S,D)=>{const V=`${S}-${D}`;return t.includes(V)},m=()=>t.length,p=()=>{if(t.length===0)return"Aucun créneau sélectionné";const S=new Set(t.map(D=>D.split("-")[0])).size;return`${t.length} créneau${t.length>1?"x":""} sur ${S} jour${S>1?"s":""}`},y=S=>{S.preventDefault(),S.stopPropagation();const D=[];a.forEach(V=>{l.forEach(k=>{D.push(`${V.key}-${k.key}`)})}),D.forEach(V=>{t.includes(V)||e(V)})},_=S=>{S.preventDefault(),S.stopPropagation();const D=[];["saturday","sunday"].forEach(V=>{l.forEach(k=>{D.push(`${V}-${k.key}`)})}),D.forEach(V=>{t.includes(V)||e(V)})},E=S=>{S.preventDefault(),S.stopPropagation();const D=[];["monday","tuesday","wednesday","thursday","friday"].forEach(V=>{l.forEach(k=>{D.push(`${V}-${k.key}`)})}),D.forEach(V=>{t.includes(V)||e(V)})},C=S=>{S.preventDefault(),S.stopPropagation(),e("clear-all")};return w.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-8 border border-white/50",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:"📅"})}),w.jsx(J.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6,ease:[.25,.46,.45,.94]},className:"text-2xl font-bold text-gray-900 mb-3",children:"Votre Disponibilité Hebdomadaire"}),w.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6,ease:[.25,.46,.45,.94]},className:"text-gray-600 text-lg",children:"Sélectionnez vos créneaux disponibles"})]}),w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6,ease:[.25,.46,.45,.94]},className:"mb-8",children:w.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[w.jsx(J.button,{type:"button",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:y,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-blue-600 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 ease-out",children:"Tout Sélectionner"}),w.jsx(J.button,{type:"button",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:_,className:"px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300 ease-out",children:"Weekends"}),w.jsx(J.button,{type:"button",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:E,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300 ease-out",children:"Semaine"}),w.jsx(J.button,{type:"button",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},onClick:C,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300 ease-out",children:"Effacer Tout"})]})}),w.jsxs("div",{className:"grid grid-cols-8 gap-4",children:[w.jsx("div",{className:"h-16"}),a.map((S,D)=>w.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.6+D*.05,duration:.6,ease:[.25,.46,.45,.94]},className:"h-16 flex flex-col items-center justify-center text-center",children:[w.jsx("div",{className:"text-sm font-semibold text-gray-900",children:S.short}),w.jsx("div",{className:"text-xs text-gray-500",children:S.label})]},S.key)),l.map((S,D)=>w.jsxs("div",{className:"contents",children:[w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+D*.1,duration:.6,ease:[.25,.46,.45,.94]},className:"h-20 flex flex-col items-center justify-center text-center",children:[w.jsx("div",{className:"text-sm font-semibold text-gray-900",children:S.label}),w.jsx("div",{className:"text-xs text-gray-500",children:S.time})]}),a.map((V,k)=>{const q=f(V.key,S.key),F=n===`${V.key}-${S.key}`;return w.jsxs(J.button,{type:"button",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,backgroundColor:q?"#16a34a":F?"#f0fdf4":"#ffffff",borderColor:q?"#16a34a":F?"#bbf7d0":"#e5e7eb"},whileHover:{scale:1.05,backgroundColor:q?"#15803d":"#f0fdf4",borderColor:q?"#15803d":"#bbf7d0",transition:{duration:.3,ease:[.25,.46,.45,.94]}},whileTap:{scale:.95,transition:{duration:.15,ease:[.25,.46,.45,.94]}},transition:{delay:.8+(D*7+k)*.02,duration:.5,ease:[.25,.46,.45,.94]},onMouseEnter:()=>r(`${V.key}-${S.key}`),onMouseLeave:()=>r(null),onClick:Z=>c(Z,V.key,S.key),className:`
                    w-20 h-20 rounded-xl border-2 transition-all duration-300 ease-out
                    flex items-center justify-center relative overflow-hidden
                    ${q?"shadow-lg ring-2 ring-green-200":"shadow-sm hover:shadow-md"}
                    focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2
                  `,children:[w.jsx(ys,{children:q&&w.jsx(J.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:500,damping:30,ease:[.25,.46,.45,.94]},className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"text-white text-2xl font-bold",children:"✓"})})}),!q&&w.jsx(J.div,{animate:{opacity:F?.4:0,scale:F?1.2:1},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"text-gray-400 text-lg font-bold",children:"+"})]},`${V.key}-${S.key}`)})]},S.key))]}),w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6,ease:[.25,.46,.45,.94]},className:"mt-10 pt-8 border-t border-gray-200",children:w.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-6 h-6 bg-gray-100 border-2 border-gray-300 rounded-lg flex items-center justify-center",children:w.jsx("span",{className:"text-gray-400 text-sm font-bold",children:"+"})}),w.jsx("span",{className:"text-gray-600",children:"Non sélectionné"})]}),w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-6 h-6 bg-green-600 border-2 border-green-600 rounded-lg flex items-center justify-center",children:w.jsx("span",{className:"text-white text-sm font-bold",children:"✓"})}),w.jsx("span",{className:"text-gray-600",children:"Disponible"})]})]})}),w.jsx(ys,{children:w.jsx(J.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{delay:1.4,duration:.6,ease:[.25,.46,.45,.94]},className:"mt-8 text-center",children:w.jsxs("div",{className:"inline-flex items-center space-x-3 bg-gradient-to-r from-green-50 to-blue-50 text-gray-700 px-8 py-4 rounded-full border border-green-200 shadow-lg",children:[w.jsx(J.div,{initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:400,damping:20},className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-lg font-bold",children:m()})},m()),w.jsxs("div",{className:"text-left",children:[w.jsx("div",{className:"text-lg font-semibold",children:p()}),w.jsx("div",{className:"text-sm text-gray-500",children:"Créneaux sélectionnés"})]})]})})})]})},g9=({selectedCourts:t,onCourtToggle:e})=>{const n=[{id:"saint-viateur",name:"Terrains Saint-Viateur",shortName:"Saint-Viateur",location:"Avenue Saint-Viateur",description:"4 terrains extérieurs avec éclairage",features:["Éclairage","Parking","Transport en commun"],color:"from-emerald-400 to-green-500",icon:"🏟️"},{id:"fx-garneau",name:"FX-Garneau",shortName:"FX-Garneau",location:"Avenue FX-Garneau",description:"2 terrains extérieurs avec éclairage",features:["Éclairage","Parking","Transport en commun"],color:"from-blue-400 to-indigo-500",icon:"🎾"},{id:"joyce",name:"Joyce",shortName:"Joyce",location:"Avenue Joyce",description:"2 terrains extérieurs avec éclairage",features:["Éclairage","Parking","Transport en commun"],color:"from-purple-400 to-pink-500",icon:"🏆"}],r={hover:{scale:1.05,y:-6,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.12)",transition:{duration:.3,ease:[.25,.46,.45,.94]}},tap:{scale:.95,transition:{duration:.15,ease:[.25,.46,.45,.94]}}},a=l=>t.includes(l);return w.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-8 border border-white/50",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:"🏟️"})}),w.jsx(J.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6,ease:[.25,.46,.45,.94]},className:"text-2xl font-bold text-gray-900 mb-3",children:"Choisissez Vos Terrains Préférés"}),w.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6,ease:[.25,.46,.45,.94]},className:"text-gray-600 text-lg",children:"Sélectionnez les terrains où vous aimez jouer"})]}),w.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map((l,c)=>{const f=a(l.id);return w.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5+c*.1,duration:.6,ease:[.25,.46,.45,.94]},variants:r,whileHover:"hover",whileTap:"tap",onClick:()=>e(l.id),className:`
                relative cursor-pointer rounded-2xl p-6 border-2 transition-all duration-300 ease-out
                ${f?"border-emerald-500 bg-emerald-50 shadow-lg ring-2 ring-emerald-200":"border-gray-200 bg-white hover:border-emerald-300 hover:bg-emerald-50 shadow-md hover:shadow-lg"}
              `,children:[w.jsx(ys,{children:f&&w.jsx(J.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:500,damping:30,ease:[.25,.46,.45,.94]},className:"absolute top-4 right-4 w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:w.jsx("div",{className:"text-white text-sm font-bold",children:"✓"})})}),w.jsx(J.div,{className:`w-16 h-16 bg-gradient-to-r ${l.color} rounded-2xl flex items-center justify-center mx-auto mb-4 transition-transform duration-300 ease-out shadow-lg`,whileHover:{scale:1.1,rotate:5},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:w.jsx("span",{className:"text-2xl",children:l.icon})}),w.jsxs("div",{className:"text-center",children:[w.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:l.shortName}),w.jsx("p",{className:"text-sm text-gray-600 mb-3",children:l.location}),w.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l.description}),w.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:l.features.map((m,p)=>w.jsx(J.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6+p*.1,duration:.4,ease:[.25,.46,.45,.94]},className:`
                        px-3 py-1 rounded-full text-xs font-medium transition-all duration-300 ease-out
                        ${f?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600 group-hover:bg-emerald-100 group-hover:text-emerald-700"}
                      `,children:m},m))})]}),!f&&w.jsx(J.div,{initial:{opacity:0},whileHover:{opacity:.05},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl -z-10"})]},l.id)})}),w.jsx(ys,{children:t.length>0&&w.jsx(J.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"mt-8 text-center",children:w.jsxs("div",{className:"inline-flex items-center space-x-3 bg-gradient-to-r from-emerald-50 to-blue-50 text-gray-700 px-6 py-3 rounded-full border border-emerald-200 shadow-lg",children:[w.jsx(J.div,{initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:400,damping:20},className:"w-6 h-6 bg-emerald-600 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-sm font-bold",children:t.length})},t.length),w.jsx("div",{className:"text-left",children:w.jsxs("div",{className:"text-sm font-semibold",children:[t.length," terrain",t.length>1?"s":""," sélectionné",t.length>1?"s":""]})})]})})})]})},y9=()=>{const[t,e]=j.useState(1),[n,r]=j.useState({displayName:"",level:"Débutant",phone:"",bio:"",courts:[],availability:[]}),[a,l]=j.useState(!1),[c,f]=j.useState(""),{currentUser:m,updateUserProfile:p}=tl(),y=$f(),_=["Débutant","Intermédiaire","Avancé","Expert"],E=Z=>{const ae=Z.replace(/\D/g,"").slice(0,10);return ae.length===0?"":ae.length<=3?`(${ae}`:ae.length<=6?`(${ae.slice(0,3)}) ${ae.slice(3)}`:`(${ae.slice(0,3)}) ${ae.slice(3,6)}-${ae.slice(6)}`},C=(Z,Q)=>{r(Z==="phone"?ae=>({...ae,[Z]:E(Q)}):ae=>({...ae,[Z]:Q}))},S=Z=>{r(Q=>({...Q,courts:Q.courts.includes(Z)?Q.courts.filter(ae=>ae!==Z):[...Q.courts,Z]}))},D=Z=>{r(Z==="clear-all"?Q=>({...Q,availability:[]}):Q=>({...Q,availability:Q.availability.includes(Z)?Q.availability.filter(ae=>ae!==Z):[...Q.availability,Z]}))},V=async()=>{if(!m){f("Vous devez être connecté pour créer un profil");return}if(!n.displayName.trim()){f("Le nom est requis");return}l(!0),f("");try{await p({displayName:n.displayName,level:n.level,phone:n.phone,bio:n.bio,courts:n.courts,availability:n.availability,updatedAt:new Date().toISOString()}),y("/players")}catch(Z){console.error("Erreur lors de la sauvegarde:",Z),f("Une erreur est survenue lors de la sauvegarde")}finally{l(!1)}},k=()=>{if(t===1&&!n.displayName.trim()){f("Le nom est requis");return}f(""),e(t+1)},q=()=>{f(""),e(t-1)},F=[{number:1,title:"Informations Personnelles",icon:"👤"},{number:2,title:"Sélection des Terrains",icon:"🏟️"},{number:3,title:"Disponibilité",icon:"📅"},{number:4,title:"Confirmation",icon:"✅"}];return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[w.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[w.jsx(J.div,{animate:{x:[0,100,0],y:[0,-50,0],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-green-200/30 to-blue-200/30 rounded-full blur-3xl"}),w.jsx(J.div,{animate:{x:[0,-80,0],y:[0,60,0],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-purple-200/30 to-pink-200/30 rounded-full blur-3xl"})]}),w.jsxs("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[w.jsxs(J.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.46,.45,.94]},className:"text-center mb-12",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Créer votre Profil"}),w.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Rejoignez la communauté Tennis Outremont et trouvez votre partenaire idéal"})]}),w.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8,ease:[.25,.46,.45,.94]},className:"mb-8",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx("div",{className:"flex space-x-4",children:F.map((Z,Q)=>w.jsxs("div",{className:"flex items-center",children:[w.jsx(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,backgroundColor:t>=Z.number?"#16a34a":"#e5e7eb"},transition:{delay:.3+Q*.1,duration:.6,ease:[.25,.46,.45,.94]},className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${t>=Z.number?"bg-green-500":"bg-gray-300"}`,children:t>Z.number?"✓":Z.icon}),Q<F.length-1&&w.jsx(J.div,{initial:{scaleX:0},animate:{scaleX:t>Z.number?1:0},transition:{delay:.4+Q*.1,duration:.6},className:`w-16 h-1 mx-2 rounded-full ${t>Z.number?"bg-green-500":"bg-gray-300"}`})]},Z.number))})}),w.jsx("div",{className:"text-center mt-4",children:w.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:F[t-1].title})})]}),c&&w.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-center",children:c}),w.jsx(J.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5,ease:[.25,.46,.45,.94]},className:"max-w-4xl mx-auto",children:w.jsxs(ys,{mode:"wait",children:[t===1&&w.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-white/50",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:"👤"})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations Personnelles"}),w.jsx("p",{className:"text-gray-600",children:"Parlez-nous un peu de vous"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),w.jsx("input",{type:"text",value:n.displayName,onChange:Z=>C("displayName",Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out",placeholder:"Votre nom complet"})]}),w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau de jeu"}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:n.level,onChange:Z=>C("level",Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out appearance-none bg-white",children:_.map(Z=>w.jsx("option",{value:Z,children:Z},Z))}),w.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone (optionnel)"}),w.jsx("input",{type:"tel",value:n.phone,onChange:Z=>C("phone",Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out",placeholder:"(514) 555-0123",maxLength:14}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format canadien automatique: (XXX) XXX-XXXX"})]}),w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.6},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio (optionnel)"}),w.jsx("textarea",{value:n.bio,onChange:Z=>C("bio",Z.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out resize-none",placeholder:"Parlez-nous un peu de vous, votre style de jeu, vos préférences..."})]})]})]},"step1"),t===2&&w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:[.25,.46,.45,.94]},children:w.jsx(g9,{selectedCourts:n.courts,onCourtToggle:S})},"step2"),t===3&&w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:[.25,.46,.45,.94]},children:w.jsx(CR,{selectedTimes:n.availability,onTimeToggle:D})},"step3"),t===4&&w.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-white/50",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:"✅"})}),w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirmation"}),w.jsx("p",{className:"text-gray-600",children:"Vérifiez vos informations avant de créer votre profil"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Informations Personnelles"}),w.jsxs("div",{className:"space-y-2 text-gray-600",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Nom:"})," ",n.displayName]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Niveau:"})," ",n.level]}),n.phone&&w.jsxs("p",{children:[w.jsx("strong",{children:"Téléphone:"})," ",n.phone]}),n.bio&&w.jsxs("p",{children:[w.jsx("strong",{children:"Bio:"})," ",n.bio]})]})]}),w.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Terrains Sélectionnés"}),n.courts.length>0?w.jsx("div",{className:"space-y-2",children:n.courts.map(Z=>w.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm mr-2 mb-2",children:Z},Z))}):w.jsx("p",{className:"text-gray-500",children:"Aucun terrain sélectionné"})]})]}),w.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Disponibilité"}),n.availability.length>0?w.jsxs("p",{className:"text-gray-600",children:[n.availability.length," créneau",n.availability.length>1?"x":""," sélectionné",n.availability.length>1?"s":""]}):w.jsx("p",{className:"text-gray-500",children:"Aucune disponibilité sélectionnée"})]}),w.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.6},className:"bg-green-50 border border-green-200 rounded-xl p-4",children:w.jsx("p",{className:"text-green-800 text-sm",children:"✅ Votre profil sera visible par tous les joueurs de la communauté Tennis Outremont"})})]})]},"step4")]})},t),w.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8,ease:[.25,.46,.45,.94]},className:"flex justify-between items-center mt-8 max-w-4xl mx-auto",children:[w.jsx(J.button,{onClick:q,disabled:t===1,whileHover:{scale:t>1?1.05:1,y:t>1?-2:0},whileTap:{scale:t>1?.95:1},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 ease-out ${t>1?"bg-gray-500 hover:bg-gray-600 text-white shadow-md hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Précédent"}),t<4?w.jsx(J.button,{onClick:k,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 ease-out",children:"Continuer"}):w.jsx(J.button,{onClick:V,disabled:a,whileHover:{scale:a?1:1.05,y:a?0:-2},whileTap:{scale:a?1:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 ease-out disabled:opacity-50 disabled:cursor-not-allowed",children:a?w.jsx(J.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mx-auto"}):"Créer mon Profil"})]})]})]})},v9=()=>{var ae;const[t,e]=j.useState([]),[n,r]=j.useState([]),[a,l]=j.useState(!0),[c,f]=j.useState(null),[m,p]=j.useState(""),[y,_]=j.useState("Tous"),[E,C]=j.useState([]),{currentUser:S}=tl(),D=["Tous","Débutant","Intermédiaire","Avancé","Expert"];j.useEffect(()=>{V()},[]),j.useEffect(()=>{k()},[t,m,y,E]);const V=async()=>{try{const I=IO(bo,"users"),R=HO(I,qO("uid","!=",S==null?void 0:S.uid)),M=(await XO(R)).docs.map(B=>({id:B.id,...B.data()}));e(M)}catch(I){console.error("Erreur lors du chargement des joueurs:",I)}finally{l(!1)}},k=()=>{let I=t.filter(R=>R.uid!==(S==null?void 0:S.uid));m&&(I=I.filter(R=>{var N,M;return((N=R.displayName)==null?void 0:N.toLowerCase().includes(m.toLowerCase()))||((M=R.bio)==null?void 0:M.toLowerCase().includes(m.toLowerCase()))})),y!=="Tous"&&(I=I.filter(R=>R.level===y)),E.length>0&&(I=I.filter(R=>!R.availability||R.availability.length===0?!1:E.some(N=>R.availability.includes(N)))),r(I)},q=I=>{C(I==="clear-all"?[]:R=>R.includes(I)?R.filter(N=>N!==I):[...R,I])},F=I=>{f(I)},Z=()=>{f(null)},Q=I=>{window.open(`mailto:${I}?subject=Proposition de match - Tennis Outremont`)};return a?w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:w.jsxs(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[w.jsx(J.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600 text-lg",children:"Chargement des joueurs..."})]})}):w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[w.jsxs("div",{className:"container mx-auto px-6 py-12",children:[w.jsxs(J.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.46,.45,.94]},className:"text-center mb-12",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Joueurs Disponibles"}),w.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Découvrez les joueurs de tennis passionnés dans votre quartier et trouvez votre partenaire idéal"})]}),w.jsx(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8,ease:[.25,.46,.45,.94]},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/50 mb-8",children:w.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rechercher"}),w.jsx("input",{type:"text",value:m,onChange:I=>p(I.target.value),placeholder:"Nom ou bio...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),w.jsx("select",{value:y,onChange:I=>_(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:D.map(I=>w.jsx("option",{value:I,children:I},I))})]}),w.jsx("div",{className:"flex items-end",children:w.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 px-4 py-3 rounded-xl border border-green-200",children:[w.jsx("p",{className:"text-sm text-gray-600",children:"Joueurs trouvés"}),w.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.length})]})})]})}),w.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8,ease:[.25,.46,.45,.94]},className:"mb-8",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"Filtrer par disponibilité"}),w.jsx(CR,{selectedTimes:E,onTimeToggle:q})]}),w.jsx(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8,ease:[.25,.46,.45,.94]},children:n.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx("div",{className:"text-6xl mb-4",children:"🎾"}),w.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Aucun joueur trouvé"}),w.jsx("p",{className:"text-gray-600",children:"Essayez de modifier vos critères de recherche"})]}):w.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((I,R)=>{var N;return w.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8+R*.1,duration:.6,ease:[.25,.46,.45,.94]},whileHover:{y:-8,transition:{duration:.3,ease:[.25,.46,.45,.94]}},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/50 cursor-pointer hover:shadow-xl transition-all duration-200",onClick:()=>F(I),children:[w.jsxs("div",{className:"flex items-center mb-4",children:[I.photoURL?w.jsx("img",{src:I.photoURL,alt:I.displayName,className:"w-16 h-16 rounded-full mr-4"}):w.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center mr-4",children:w.jsx("span",{className:"text-white text-xl font-bold",children:((N=I.displayName)==null?void 0:N.charAt(0).toUpperCase())||"J"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:I.displayName||"Joueur"}),w.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:I.level||"Débutant"})]})]}),I.bio&&w.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:I.bio}),I.availability&&I.availability.length>0&&w.jsxs("div",{className:"mb-4",children:[w.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Disponible sur ",I.availability.length," créneau",I.availability.length>1?"x":""]}),w.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.availability.slice(0,3).map((M,B)=>w.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:M.split("-")[0]},B)),I.availability.length>3&&w.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",I.availability.length-3]})]})]}),w.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M=>{M.stopPropagation(),Q(I.email)},className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-2 px-4 rounded-xl hover:shadow-lg transition-all duration-200",children:"Contacter"})]},I.id)})})})]}),w.jsx(ys,{children:c&&w.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:Z,children:w.jsxs(J.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:I=>I.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center mb-6",children:[c.photoURL?w.jsx("img",{src:c.photoURL,alt:c.displayName,className:"w-20 h-20 rounded-full mr-6"}):w.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center mr-6",children:w.jsx("span",{className:"text-white text-2xl font-bold",children:((ae=c.displayName)==null?void 0:ae.charAt(0).toUpperCase())||"J"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:c.displayName||"Joueur"}),w.jsx("span",{className:"inline-block px-4 py-2 bg-green-100 text-green-800 text-lg font-medium rounded-full",children:c.level||"Débutant"})]})]}),c.bio&&w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"À propos"}),w.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.bio})]}),c.availability&&c.availability.length>0&&w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Disponibilité"}),w.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(I=>w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:I}),["morning","afternoon","evening"].map(R=>{const N=`${I.toLowerCase()}-${R}`,M=c.availability.includes(N);return w.jsx("div",{className:`w-8 h-8 rounded-lg mb-1 flex items-center justify-center text-xs ${M?"bg-green-500 text-white":"bg-gray-100 text-gray-400"}`,children:M?"✓":"×"},R)})]},I))})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Contact"}),w.jsx("p",{className:"text-gray-600",children:c.email})]}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q(c.email),className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-xl hover:shadow-lg transition-all duration-200",children:"Envoyer un email"}),w.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Z,className:"px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-all duration-200",children:"Fermer"})]})]})})})]})},_9=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[a,l]=j.useState(""),[c,f]=j.useState(!1),[m,p]=j.useState(!1),[y,_]=j.useState(""),{login:E,signup:C,loginWithGoogle:S}=tl(),D=$f(),V=async F=>{F.preventDefault(),l(""),f(!0);try{console.log("Tentative de soumission du formulaire:",{isSignup:m,email:t,displayName:y}),m?(await C(t,n,y),console.log("Inscription réussie")):(await E(t,n),console.log("Connexion réussie")),D("/")}catch(Z){console.error("Erreur dans handleSubmit:",Z),l(q(Z.code))}finally{f(!1)}},k=async()=>{l(""),f(!0);try{console.log("Tentative de connexion Google"),await S(),console.log("Connexion Google réussie"),D("/")}catch(F){console.error("Erreur dans handleGoogleLogin:",F),l(q(F.code))}finally{f(!1)}},q=F=>{switch(console.log("Code d'erreur reçu:",F),F){case"auth/user-not-found":return"Aucun compte trouvé avec cet email.";case"auth/wrong-password":return"Mot de passe incorrect.";case"auth/email-already-in-use":return"Un compte existe déjà avec cet email.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caractères.";case"auth/invalid-email":return"Adresse email invalide.";case"auth/popup-closed-by-user":return"Connexion Google annulée.";case"auth/popup-blocked":return"La popup Google a été bloquée. Veuillez autoriser les popups.";case"auth/network-request-failed":return"Erreur de réseau. Vérifiez votre connexion internet.";case"auth/too-many-requests":return"Trop de tentatives. Veuillez réessayer plus tard.";case"auth/operation-not-allowed":return"Cette méthode d'authentification n'est pas activée.";default:return console.log("Code d'erreur non reconnu:",F),"Une erreur est survenue. Veuillez réessayer."}};return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:[w.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[w.jsx(J.div,{animate:{x:[0,100,0],y:[0,-50,0],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-green-200/30 to-blue-200/30 rounded-full blur-3xl"}),w.jsx(J.div,{animate:{x:[0,-80,0],y:[0,60,0],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-purple-200/30 to-pink-200/30 rounded-full blur-3xl"})]}),w.jsx("div",{className:"relative z-10 w-full max-w-md",children:w.jsxs(J.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:[.25,.46,.45,.94]},className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:"🎾"})}),w.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6,ease:[.25,.46,.45,.94]},className:"text-3xl font-bold text-gray-900 mb-2",children:m?"Créer un compte":"Se connecter"}),w.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6,ease:[.25,.46,.45,.94]},className:"text-gray-600",children:m?"Rejoignez la communauté Tennis Outremont":"Accédez à votre compte"})]}),w.jsx(ys,{children:a&&w.jsx(J.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{className:"text-red-500 mr-2",children:"⚠️"}),a]})})}),w.jsxs("form",{onSubmit:V,className:"space-y-6",children:[m&&w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6,ease:[.25,.46,.45,.94]},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),w.jsx("input",{type:"text",value:y,onChange:F=>_(F.target.value),required:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out",placeholder:"Votre nom complet"})]}),w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m?.6:.5,duration:.6,ease:[.25,.46,.45,.94]},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),w.jsx("input",{type:"email",value:t,onChange:F=>e(F.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out",placeholder:"votre@email.com"})]}),w.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m?.7:.6,duration:.6,ease:[.25,.46,.45,.94]},children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),w.jsx("input",{type:"password",value:n,onChange:F=>r(F.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 ease-out",placeholder:"••••••••"}),m&&w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le mot de passe doit contenir au moins 6 caractères"})]}),w.jsx(J.button,{type:"submit",disabled:c,whileHover:{scale:c?1:1.02,y:c?0:-2},whileTap:{scale:c?1:.98},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 ease-out disabled:opacity-50 disabled:cursor-not-allowed",children:c?w.jsx(J.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mx-auto"}):m?"Créer mon compte":"Se connecter"})]}),w.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6,ease:[.25,.46,.45,.94]},className:"relative my-6",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-300"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou"})})]}),w.jsxs(J.button,{onClick:k,disabled:c,whileHover:{scale:c?1:1.02,y:c?0:-2},whileTap:{scale:c?1:.98},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg hover:border-gray-400 transition-all duration-300 ease-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3",children:[w.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),w.jsx("span",{children:"Continuer avec Google"})]}),w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.6,ease:[.25,.46,.45,.94]},className:"text-center mt-6",children:w.jsxs("p",{className:"text-gray-600",children:[m?"Vous avez déjà un compte ?":"Vous n'avez pas de compte ?",w.jsx(J.button,{onClick:()=>{p(!m),l("")},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:"ml-2 text-green-600 hover:text-green-700 font-semibold transition-colors duration-300 ease-out",children:m?"Se connecter":"Créer un compte"})]})}),w.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6,ease:[.25,.46,.45,.94]},className:"text-center mt-6",children:w.jsx(Cn,{to:"/",className:"text-gray-500 hover:text-gray-700 transition-colors duration-300 ease-out",children:"← Retour à l'accueil"})})]})})]})};function T9(){return w.jsx(e6,{children:w.jsx(xI,{children:w.jsxs("div",{className:"App",children:[w.jsx(m9,{}),w.jsxs(eI,{children:[w.jsx(bu,{path:"/",element:w.jsx(p9,{})}),w.jsx(bu,{path:"/submit",element:w.jsx(y9,{})}),w.jsx(bu,{path:"/login",element:w.jsx(_9,{})}),w.jsx(bu,{path:"/players",element:w.jsx(d9,{children:w.jsx(v9,{})})})]})]})})})}l2.createRoot(document.getElementById("root")).render(w.jsx(j.StrictMode,{children:w.jsx(T9,{})}));
